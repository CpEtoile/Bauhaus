(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{289:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(571),c=t(568),i=t(12),s=t(13),o=t(15),m=t(14),p=t(16),u=t(7),d=t(182),f=t(53),g=t(625),h=t(579),b=t(30),E=t(626),L=Object(b.h)(["prefLabelLg1"]),v=["prefLabelLg1"],y=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e,a.defaultState))).handlers=t.handleChange(v,function(e){var a=e.prefLabelLg1;return t.props.data.filter(L(a))}),t}return Object(p.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.data,n=a.prefLabelLg1,r=t.map(function(e){var a=e.id,t=e.prefLabelLg1;return l.a.createElement("li",{key:a,className:"list-group-item"},l.a.createElement(d.a,{to:"/operations/family/".concat(a)},t))});return l.a.createElement(E.a,{title:u.a.familiesSearchTitle,data:r,backUrl:"/operations/families",initializeState:this.initializeState},l.a.createElement("div",{className:"row form-group"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("input",{value:n,onChange:function(a){return e.handlers.prefLabelLg1(a.target.value)},type:"text",placeholder:u.a.searchLabelPlaceholder,className:"form-control"}))))}}]),a}(g.a);y.defaultState={prefLabelLg1:""};var O=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={},t}return Object(p.a)(a,e),Object(s.a)(a,[{key:"componentWillMount",value:function(){var e=this;h.a.getFamiliesSearchList().then(function(a){e.setState({data:a})})}},{key:"render",value:function(){var e=this.state.data;return e?l.a.createElement(y,{data:e}):l.a.createElement(f.a,{textType:"loading",context:"concepts"})}}]),a}(n.Component),j=t(55),N=t(632);var x=function(e){var a=e.families;return l.a.createElement(N.a,{items:a,roles:[j.a],title:u.a.familiesSearchTitle,childPath:"operations/family",searchURL:"/operations/families/search",createURL:"/operations/family/create"})},S=t(679),w=t(27),F=t(5),k=t(28),C=function(e){function a(){return Object(i.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(s.a)(a,[{key:"componentWillMount",value:function(){this.props.status!==F.c&&this.props.loadFamiliesList()}},{key:"render",value:function(){var e=this.props,a=e.families;return e.status!==F.c?l.a.createElement(f.a,{textType:"loading"}):l.a.createElement(x,{families:a})}}]),a}(n.Component),T={loadFamiliesList:S.a},P=Object(w.b)(function(e){var a=Object(k.p)(e);return a.results?{families:a.results,status:a.status,err:a.err}:{status:F.g,families:[]}},T)(C),M=t(664),R=t(570),U=t(180),q=t(578),z=t(580),A=t(581),I=t(84),W=t(583),D=t(633);var J=function(e){var a=e.attr,t=e.langs,n=t.lg1,r=t.lg2,c=e.secondLang;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row"},l.a.createElement(W.a,{text:a.themeLg1,title:u.a.theme,lang:n,alone:!c,allowEmpty:!0}),c&&l.a.createElement(W.a,{text:a.themeLg2,title:u.a.theme,lang:r,alone:!1,allowEmpty:!0})),l.a.createElement("div",{className:"row"},l.a.createElement(W.a,{text:a.abstractLg1,title:u.a.summary,lang:n,alone:!c,allowEmpty:!0,md:!0}),c&&l.a.createElement(W.a,{text:a.abstractLg2,title:u.a.summary,lang:r,alone:!1,allowEmpty:!0,md:!0})),l.a.createElement(D.a,{children:a.series,childrenTitle:u.a.childrenSeries,childrenPath:"series",title:u.a.linksTitle,langs:{lg1:n,lg2:r},secondLang:c}))},Q=t(4),V=t(1),B=t(589),G=Object(B.b)(h.a.getFamily,V.Pc,V.Qc,V.Nc),H=t(54),K=t(169),X=t(598),Y=t(588),Z=Object(q.a)("id"),$=function(e){function a(){return Object(i.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.family.id||this.props.loadFamily(this.props.id)}},{key:"render",value:function(){var e=this.props,a=e.secondLang,t=e.langs,n=Object(M.a)({},e.family),r=e.saveSecondLang;return n.id?l.a.createElement("div",{className:"container"},l.a.createElement(A.a,{secondLang:a,onChange:r}),l.a.createElement(Y.a,{titleLg1:n.prefLabelLg1,titleLg2:n.prefLabelLg2,secondLang:a}),l.a.createElement("div",{className:"row btn-line action-toolbar"},l.a.createElement(H.a,{action:Object(z.a)(this.props,"/operations/families"),label:u.a.btnReturn}),l.a.createElement("div",{className:"empty-center"}),l.a.createElement(X.a,{roles:[j.a]},l.a.createElement(H.a,{label:u.a.btnValid})),l.a.createElement(X.a,{roles:[j.a,j.b]},l.a.createElement(H.a,{action:"/operations/family/".concat(n.id,"/modify"),label:u.a.btnUpdate}))),l.a.createElement(J,{secondLang:a,attr:n,langs:t})):l.a.createElement(f.a,{textType:"loading"})}}]),a}(n.PureComponent),_={saveSecondLang:I.b,loadFamily:G},ee=Object(U.a)(R.a,Object(w.b)(function(e,a){var t=Z(a),n=k.q(e,t);return{id:t,family:n.id===t?n:{},langs:k.s(e),secondLang:Object(K.b)(e)}},_))($),ae=t(6),te=t(590),ne=t(610),le=t(602);var re=t(611),ce={prefLabelLg1:"",prefLabelLg2:"",themeLg1:"",themeLg2:"",abstractLg1:"",abstractLg2:""},ie=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).setInitialState=function(e){return{serverSideError:"",family:Object(Q.a)({},ce,e.family)}},t.onChange=function(e){t.setState({serverSideError:"",family:Object(Q.a)({},t.state.family,Object(ae.a)({},e.target.id,e.target.value))})},t.onSubmit=function(){var e=!t.state.family.id;t.props.saveFamily(t.state.family,function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.state.family.id;a?t.setState({serverSideError:a}):Object(z.b)(t.props,"/operations/family/".concat(n),e)})},t.state=t.setInitialState(e),t}return Object(p.a)(a,e),Object(s.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.family.id!==this.props.family.id&&this.setState(this.setInitialState(e))}},{key:"render",value:function(){var e=this;if(this.props.operationsAsyncTask)return l.a.createElement(f.a,{textType:"saving"});var a=this.props.langs,t=a.lg1,n=a.lg2,r=this.state,c=r.family,i=r.serverSideError,s=!!c.id,o=function(e){return{fields:{prefLabelLg1:!e.prefLabelLg1,prefLabelLg2:!e.prefLabelLg2},errorMessage:e.prefLabelLg1&&e.prefLabelLg2?"":u.a.requiredPrefLabel}}(c),m=o.errorMessage||i;return l.a.createElement("div",{className:"container editor-container"},s&&l.a.createElement(Y.a,{titleLg1:this.props.family.prefLabelLg1,titleLg2:this.props.family.prefLabelLg2,secondLang:!0}),l.a.createElement("div",{className:"row btn-line action-toolbar"},l.a.createElement(le.a,{action:Object(z.a)(this.props,"/operations/families")}),l.a.createElement(re.a,{error:m}),l.a.createElement(le.c,{action:this.onSubmit,disabled:o.errorMessage})),l.a.createElement("form",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6 form-group"},l.a.createElement("label",{htmlFor:"prefLabelLg1"},l.a.createElement(te.a,{text:u.a.title,lang:t}),l.a.createElement("span",{className:"boldRed"},"*")),l.a.createElement("input",{type:"text",className:"form-control",id:"prefLabelLg1",value:this.state.family.prefLabelLg1,onChange:this.onChange,"aria-invalid":o.fields.prefLabelLg1})),l.a.createElement("div",{className:"col-md-6 form-group"},l.a.createElement("label",{htmlFor:"prefLabelLg2"},l.a.createElement(te.a,{text:u.a.title,lang:n}),l.a.createElement("span",{className:"boldRed"},"*")),l.a.createElement("input",{type:"text",className:"form-control",id:"prefLabelLg2",value:c.prefLabelLg2,onChange:this.onChange,"aria-invalid":o.fields.prefLabelLg2}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6 form-group"},l.a.createElement("label",{htmlFor:"themeLg1"},l.a.createElement(te.a,{text:u.a.theme,lang:t})),l.a.createElement("input",{type:"text",className:"form-control",id:"themeLg1",value:c.themeLg1,onChange:this.onChange})),l.a.createElement("div",{className:"col-md-6 form-group"},l.a.createElement("label",{htmlFor:"themeLg2"},l.a.createElement(te.a,{text:u.a.theme,lang:n})),l.a.createElement("input",{type:"text",className:"form-control",id:"themeLg2",value:c.themeLg2,onChange:this.onChange}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6 form-group"},l.a.createElement("label",{htmlFor:"abstractLg1"},l.a.createElement(te.a,{text:u.a.summary,lang:t})),l.a.createElement(ne.a,{text:c.abstractLg1,handleChange:function(a){return e.onChange({target:{value:a,id:"abstractLg1"}})}})),l.a.createElement("div",{className:"col-md-6 form-group"},l.a.createElement("label",{htmlFor:"abstractLg2"},l.a.createElement(te.a,{text:u.a.summary,lang:n})),l.a.createElement(ne.a,{text:c.abstractLg2,handleChange:function(a){return e.onChange({target:{value:a,id:"abstractLg2"}})}})))))}}]),a}(n.Component),se=Object(q.a)("id"),oe=function(e){function a(){return Object(i.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){!this.props.family.id&&this.props.id&&this.props.loadFamily(this.props.id)}},{key:"render",value:function(){return this.props.family?l.a.createElement(ie,this.props):l.a.createElement(f.a,{textType:"loading"})}}]),a}(n.Component),me={loadFamily:G,saveFamily:function(e,a){return function(t){t({type:V.xd,payload:e});var n=e.id?"putFamily":"postFamily";return h.a[n](e).then(function(n){t({type:V.zd,payload:Object(Q.a)({},e,{id:e.id?e.id:n})}),a(null,n)},function(e){t({type:V.yd,payload:{err:e}}),a(e)})}}},pe=Object(R.a)(Object(w.b)(function(e,a){var t=se(a);return{id:t,family:t?k.q(e):{},langs:k.s(e),operationsAsyncTask:e.operationsAsyncTask}},me)(oe));a.default=function(){return l.a.createElement(r.a,null,l.a.createElement(c.a,{exact:!0,path:"/operations/families",component:P}),l.a.createElement(c.a,{exact:!0,path:"/operations/families/search",component:O}),l.a.createElement(c.a,{exact:!0,path:"/operations/family/create",component:pe}),l.a.createElement(c.a,{exact:!0,path:"/operations/family/:id",component:ee}),l.a.createElement(c.a,{exact:!0,path:"/operations/family/:id/modify",component:pe}))}},632:function(e,a,t){"use strict";var n=t(0),l=t.n(n),r=t(64),c=t(592),i=t(7),s=t(182),o=t(598);a.a=function(e){var a=e.items,t=e.roles,n=e.title,m=e.childPath,p=e.searchURL,u=e.createURL;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement(o.a,{roles:t},l.a.createElement("div",{className:"col-md-3 operations-btn-group-vertical"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8 col-md-offset-2"},l.a.createElement(s.a,{to:u,col:8,offset:2,className:"btn btn-operations btn-lg col-md-12"},l.a.createElement("span",{className:"glyphicon glyphicon-plus","aria-hidden":"true"}),l.a.createElement("span",null," ",i.a.btnNewMale)))))),l.a.createElement("div",{className:"col-md-8 centered pull-right operations-list"},l.a.createElement(r.a,{title:n,col:12,offset:0}),l.a.createElement(c.a,{items:a,childPath:m,label:"label",advancedSearch:!0,searchUrl:p})))))}},633:function(e,a,t){"use strict";var n=t(0),l=t.n(n),r=t(583),c=(t(665),t(182));function i(e){var a=e.children,t=e.childrenTitle,n=e.childrenPath,i=e.parent,s=e.parentTitle,o=e.parentPath,m=e.title,p=e.secondLang,u=e.currentLang,d=e.langSuffix;e.context;return l.a.createElement(r.a,{text:l.a.createElement(l.a.Fragment,null,i&&l.a.createElement("p",null,l.a.createElement("span",{className:"linksTitle"},s,":"),l.a.createElement(c.a,{to:"/operations/".concat(o,"/").concat(i.id)},i["label".concat(d)])),a&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,l.a.createElement("span",{className:"linksTitle"},t,":")),l.a.createElement("ul",null,a.sort(function(e,a){return e["label".concat(d)].localeCompare(a["label".concat(d)])}).map(function(e){return l.a.createElement("li",{key:e.id},l.a.createElement(c.a,{to:"/operations/".concat(n,"/").concat(e.id)},e["label".concat(d)]))})))),title:m,lang:u,alone:!p,allowEmpty:!0})}a.a=function(e){return l.a.createElement("div",{className:"row"},l.a.createElement(i,Object.assign({},e,{langSuffix:"Lg1",currentLang:e.langs.lg1})),e.secondLang&&l.a.createElement(i,Object.assign({},e,{langSuffix:"Lg2",currentLang:e.langs.lg2})))}},665:function(e,a,t){},679:function(e,a,t){"use strict";var n=t(579),l=t(1),r=t(589);a.a=function(){return Object(r.a)(n.a.getFamiliesList,l.Mc,l.Oc,l.Nc)}}}]);
//# sourceMappingURL=16.38dfec3b.chunk.js.map
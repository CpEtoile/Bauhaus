{"version":3,"sources":["js/components/operations/series/home.js","js/components/operations/series/index.js","js/components/operations/series/visualization/home.js","js/components/operations/series/visualization/index.js","js/components/operations/series/edition/edition.js","js/components/operations/series/edition/validation.js","js/components/operations/series/edition/index.js","js/components/operations/series/search.js","js/components/router/operations/series.js","js/components/operations/shared/list/index.js","js/components/operations/shared/relations/index.js","js/actions/operations/series/list.js","js/actions/operations/series/item.js","js/components/operations/shared/utils/itemToSelectModel.js","js/actions/operations/families/list.js","js/components/operations/shared/links/index.js","js/components/operations/shared/seeAlso/index.js","js/components/operations/shared/links/utils.js"],"names":["SeriesHome","_ref","series","react_default","a","createElement","list","items","roles","ADMIN","title","D","seriesSearchTitle","childPath","searchURL","createURL","mapDispatchToProps","loadSeriesList","connect","state","operationsSeriesList","status","NOT_LOADED","_state$operationsSeri","results","err","LOADED","loading","textType","home","OperationsSerieVisualization","attr","_ref$langs","langs","lg1","lg2","secondLang","_ref$frequency","frequency","_ref$category","category","_ref$organisations","organisations","seeAlso","getSeeAlsoByType","creator","find","orga","id","label","gestionnaire","dataCollector","map","d","contributor","Fragment","className","note","text","altLabelLg1","altLabel","lang","alone","allowEmpty","altLabelLg2","abstractLg1","summary","md","abstractLg2","historyNoteLg1","history","historyNoteLg2","labelLg1","operationType","labelLg2","dataCollectFrequency","organisation","links","stakeholders","displayLink","data-cy","operationsContributorTitle","replaces","path","isReplacedBy","replacedBy","generate","indicators","shared_seeAlso","relations","children","operations","childrenTitle","childrenOperations","childrenPath","parent","family","parentTitle","parentFamilly","parentPath","linksTitle","extractId","buildExtract","SeriesVisualizationContainer","this","props","serie","loadSerie","nextProps","_this$props","Object","esm_extends","ableToCreateASimsForThisSeries","length","second_lang_checkbox","onChange","saveSecondLang","page_title_block","titleLg1","prefLabelLg1","titleLg2","prefLabelLg2","shared_button","action","goBack","btnReturn","idSims","concat","btnSimsVisu","auth","SERIES_CREATOR","INDICATOR_CREATOR","complementaryCheck","btnSimsCreate","btnValid","CNIS","btnUpdate","visualization_home","Component","withRouter","ownProps","select","categories","operationsCodesList","CL_SOURCE_CATEGORY","frequencies","CL_FREQ","operationsOrganisations","getSecondLang","codes","c","code","accrualPeriodicityCode","typeCode","defaultSerie","accrualPeriodicityList","typeList","OperationsSerieEdition","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","setInitialState","serverSideError","objectSpread","e","override","defineProperty","target","value","setState","onSubmit","isCreation","saveSerie","arguments","undefined","goBackOrReplace","_this2","operationsAsyncTask","_this$props$langs","link","familiesOptions","families","s","isEditing","organisationsOptions","toSelectModel","seriesOptions","filter","indicatorsOptions","seriesAndIndicatorsOptions","mergedItemsToSelectModels","errors","errorMessage","requiredPrefLabel","requiredFamily","fields","validate","globalError","button_with_icon","error_bloc","error","disabled","select_rmes","placeholder","familiesTitle","unclearable","options","htmlFor","note_flag","type","aria-invalid","editor_markdown","handleChange","cat","v","multi","defaultProps","OperationsSeriesEditionContainer","statusFamilies","loadFamiliesList","edition","_select$getFamilies","_select$getFamilies$r","operationsIndicatorsList","filterLabel","filterKeyDeburr","filterTypeCode","filterCreator","SearchFormList","defaultState","handlers","newState","data","collector","includes","_this$state","dataLinks","key","Link","to","advanced_search_home","backUrl","initializeState","labelTitle","AbstractSearchComponent","SearchListContainer","_this3","_this4","api","getSeriesSearchList","then","_this$props2","search_SearchFormList","context","__webpack_exports__","Switch","Route","exact","component","OperationsSeriesContainer","OperationsSeriesSearchContainer","OperationsSeriesVisualizationContainer","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","js_components_shared_page_title__WEBPACK_IMPORTED_MODULE_1__","js_components_shared_search_rmes_search_rmes__WEBPACK_IMPORTED_MODULE_2__","js_i18n__WEBPACK_IMPORTED_MODULE_3__","react_router_dom__WEBPACK_IMPORTED_MODULE_4__","js_utils_auth_components_auth__WEBPACK_IMPORTED_MODULE_5__","OperationsObjectHome","col","offset","aria-hidden","btnNewMale","advancedSearch","searchUrl","js_components_shared_note_note__WEBPACK_IMPORTED_MODULE_1__","react_router_dom__WEBPACK_IMPORTED_MODULE_3__","RelationsViewPerLg","currentLang","langSuffix","sort","b","localeCompare","item","RelationsView","assign","js_remote_api_operations_api__WEBPACK_IMPORTED_MODULE_0__","js_actions_constants__WEBPACK_IMPORTED_MODULE_1__","js_actions_operations_utils_index__WEBPACK_IMPORTED_MODULE_2__","getListBuilder","getSeriesList","A","callback","dispatch","payload","method","_Users_emmanueldemey_Documents_workspaces_oss_bauhaus_learna_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","getItemFactory","getSerie","sortByLabel","sortArray","_Users_emmanueldemey_Documents_workspaces_oss_bauhaus_learna_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","_len","Array","_key","reduce","acc","values","_Users_emmanueldemey_Documents_workspaces_oss_bauhaus_learna_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","elt","getFamiliesList","react_router_dom__WEBPACK_IMPORTED_MODULE_2__","DisplayLinks","_ref$links","_ref$displayLink","_ref$labelLg","_ref$labelLg2","displayBlock","displayList","displayItem","js_i18n__WEBPACK_IMPORTED_MODULE_2__","SeeAlso","displaySeeAlsos","displaySeeAlso","indicator","indicatorsTitle","operation","operationsTitle","seriesTitle","_Users_emmanueldemey_Documents_workspaces_oss_bauhaus_learna_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","_Users_emmanueldemey_Documents_workspaces_oss_bauhaus_learna_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","_Users_emmanueldemey_Documents_workspaces_oss_bauhaus_learna_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__"],"mappings":"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","file":"static/js/13.d83379a6.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport D from 'js/i18n';\nimport { ADMIN } from 'js/utils/auth/roles';\n\nimport OperationsObjectHome from 'js/components/operations/shared/list';\n\nfunction SeriesHome({ series }) {\n\treturn (\n\t\t<OperationsObjectHome\n\t\t\titems={series}\n\t\t\troles={[ADMIN]}\n\t\t\ttitle={D.seriesSearchTitle}\n\t\t\tchildPath=\"operations/series\"\n\t\t\tsearchURL=\"/operations/series/search\"\n\t\t\tcreateURL=\"/operations/series/create\"\n\t\t/>\n\t);\n}\n\nSeriesHome.propTypes = {\n\tseries: PropTypes.arrayOf(\n\t\tPropTypes.shape({\n\t\t\tid: PropTypes.string.isRequired,\n\t\t\tlabel: PropTypes.string.isRequired,\n\t\t}).isRequired\n\t),\n};\n\nexport default SeriesHome;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport Loading from 'js/components/shared/loading';\nimport SeriesHome from './home';\nimport { NOT_LOADED, LOADED } from 'js/constants';\nimport loadSeriesList from 'js/actions/operations/series/list';\n\nfunction SeriesHomeContainer({ series, status }) {\n\tif (status !== LOADED) return <Loading textType=\"loading\" />;\n\treturn <SeriesHome series={series} />;\n}\n\nconst mapStateToProps = state => {\n\tif (!state.operationsSeriesList) {\n\t\treturn {\n\t\t\tstatus: NOT_LOADED,\n\t\t\tseries: [],\n\t\t};\n\t}\n\tconst { results: series, status, err } = state.operationsSeriesList;\n\n\treturn {\n\t\tseries,\n\t\tstatus,\n\t\terr,\n\t};\n};\n\nconst mapDispatchToProps = {\n\tloadSeriesList,\n};\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(SeriesHomeContainer);\n","import React from 'react';\n\nimport { Note } from 'js/components/shared/note/note';\nimport D from 'js/i18n';\nimport RelationsView from 'js/components/operations/shared/relations';\nimport DisplayLinks from 'js/components/operations/shared/links/';\nimport SeeAlso from 'js/components/operations/shared/seeAlso';\nimport { getSeeAlsoByType } from 'js/components/operations/shared/links/utils';\n\nfunction OperationsSerieVisualization({\n\tattr,\n\tlangs: { lg1, lg2 },\n\tlangs,\n\tsecondLang,\n\tfrequency = {},\n\tcategory = {},\n\torganisations = [],\n}) {\n\tconst seeAlso = getSeeAlsoByType(attr.seeAlso);\n\n\tconst creator = (organisations.find(orga => orga.id === attr.creator) || {})\n\t\t.label;\n\tconst gestionnaire = (\n\t\torganisations.find(orga => orga.id === attr.gestionnaire) || {}\n\t).label;\n\tconst dataCollector = (attr.dataCollector || []).map(\n\t\td => organisations.find(orga => orga.id === d.id) || {}\n\t);\n\tconst contributor = (attr.contributor || []).map(\n\t\td => organisations.find(orga => orga.id === d.id) || {}\n\t);\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<div className=\"row flex\">\n\t\t\t\t<Note\n\t\t\t\t\ttext={attr.altLabelLg1}\n\t\t\t\t\ttitle={D.altLabel}\n\t\t\t\t\tlang={lg1}\n\t\t\t\t\talone={!secondLang}\n\t\t\t\t\tallowEmpty={true}\n\t\t\t\t/>\n\t\t\t\t{secondLang && (\n\t\t\t\t\t<Note\n\t\t\t\t\t\ttext={attr.altLabelLg2}\n\t\t\t\t\t\ttitle={D.altLabel}\n\t\t\t\t\t\tlang={lg2}\n\t\t\t\t\t\talone={false}\n\t\t\t\t\t\tallowEmpty={true}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div className=\"row flex\">\n\t\t\t\t<Note\n\t\t\t\t\ttext={attr.abstractLg1}\n\t\t\t\t\ttitle={D.summary}\n\t\t\t\t\tlang={lg1}\n\t\t\t\t\talone={!secondLang}\n\t\t\t\t\tallowEmpty={true}\n\t\t\t\t\tmd\n\t\t\t\t/>\n\t\t\t\t{secondLang && (\n\t\t\t\t\t<Note\n\t\t\t\t\t\ttext={attr.abstractLg2}\n\t\t\t\t\t\ttitle={D.summary}\n\t\t\t\t\t\tlang={lg2}\n\t\t\t\t\t\talone={false}\n\t\t\t\t\t\tallowEmpty={true}\n\t\t\t\t\t\tmd\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t<div className=\"row flex\">\n\t\t\t\t<Note\n\t\t\t\t\ttext={attr.historyNoteLg1}\n\t\t\t\t\ttitle={D.history}\n\t\t\t\t\tlang={lg1}\n\t\t\t\t\talone={!secondLang}\n\t\t\t\t\tallowEmpty={true}\n\t\t\t\t\tmd\n\t\t\t\t/>\n\t\t\t\t{secondLang && (\n\t\t\t\t\t<Note\n\t\t\t\t\t\ttext={attr.historyNoteLg2}\n\t\t\t\t\t\ttitle={D.history}\n\t\t\t\t\t\tlang={lg2}\n\t\t\t\t\t\talone={false}\n\t\t\t\t\t\tallowEmpty={true}\n\t\t\t\t\t\tmd\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t<div className=\"row flex\">\n\t\t\t\t<Note\n\t\t\t\t\ttext={category.labelLg1}\n\t\t\t\t\ttitle={D.operationType}\n\t\t\t\t\tlang={lg1}\n\t\t\t\t\talone={!secondLang}\n\t\t\t\t\tallowEmpty={true}\n\t\t\t\t/>\n\t\t\t\t{secondLang && (\n\t\t\t\t\t<Note\n\t\t\t\t\t\ttext={category.labelLg2}\n\t\t\t\t\t\ttitle={D.operationType}\n\t\t\t\t\t\tlang={lg2}\n\t\t\t\t\t\talone={false}\n\t\t\t\t\t\tallowEmpty={true}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t<div className=\"row flex\">\n\t\t\t\t<Note\n\t\t\t\t\ttext={frequency.labelLg1}\n\t\t\t\t\ttitle={D.dataCollectFrequency}\n\t\t\t\t\tlang={lg1}\n\t\t\t\t\talone={!secondLang}\n\t\t\t\t\tallowEmpty={true}\n\t\t\t\t/>\n\t\t\t\t{secondLang && (\n\t\t\t\t\t<Note\n\t\t\t\t\t\ttext={frequency.labelLg2}\n\t\t\t\t\t\ttitle={D.dataCollectFrequency}\n\t\t\t\t\t\tlang={lg2}\n\t\t\t\t\t\talone={false}\n\t\t\t\t\t\tallowEmpty={true}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t<div className=\"row flex\">\n\t\t\t\t<Note\n\t\t\t\t\ttext={creator}\n\t\t\t\t\ttitle={D.organisation}\n\t\t\t\t\tlang={lg1}\n\t\t\t\t\talone={true}\n\t\t\t\t\tallowEmpty={true}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<DisplayLinks\n\t\t\t\tlinks={contributor}\n\t\t\t\ttitle={D.stakeholders}\n\t\t\t\tlangs={langs}\n\t\t\t\tsecondLang={false}\n\t\t\t\tdisplayLink={false}\n\t\t\t\tlabelLg1=\"label\"\n\t\t\t/>\n\t\t\t<DisplayLinks\n\t\t\t\tlinks={dataCollector}\n\t\t\t\ttitle={D.dataCollector}\n\t\t\t\tlangs={langs}\n\t\t\t\tsecondLang={false}\n\t\t\t\tdisplayLink={false}\n\t\t\t\tlabelLg1=\"label\"\n\t\t\t/>\n\n\t\t\t<div className=\"row flex\" data-cy=\"gestionnaire\">\n\t\t\t\t<Note\n\t\t\t\t\ttext={gestionnaire}\n\t\t\t\t\ttitle={D.operationsContributorTitle}\n\t\t\t\t\tlang={lg1}\n\t\t\t\t\talone={true}\n\t\t\t\t\tallowEmpty={true}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<DisplayLinks\n\t\t\t\tlinks={attr.replaces}\n\t\t\t\tpath={'/operations/series/'}\n\t\t\t\ttitle={D.replaces}\n\t\t\t\tlangs={langs}\n\t\t\t\tsecondLang={secondLang}\n\t\t\t/>\n\t\t\t<DisplayLinks\n\t\t\t\tlinks={attr.isReplacedBy}\n\t\t\t\tpath={'/operations/series/'}\n\t\t\t\ttitle={D.replacedBy}\n\t\t\t\tlangs={langs}\n\t\t\t\tsecondLang={secondLang}\n\t\t\t/>\n\t\t\t<DisplayLinks\n\t\t\t\tlinks={attr.generate}\n\t\t\t\tpath={'/operations/indicator/'}\n\t\t\t\ttitle={D.indicators}\n\t\t\t\tlangs={langs}\n\t\t\t\tsecondLang={secondLang}\n\t\t\t/>\n\n\t\t\t<SeeAlso links={seeAlso} langs={langs} secondLang={secondLang} />\n\n\t\t\t<RelationsView\n\t\t\t\tchildren={attr.operations}\n\t\t\t\tchildrenTitle={D.childrenOperations}\n\t\t\t\tchildrenPath=\"operation\"\n\t\t\t\tparent={attr.family}\n\t\t\t\tparentTitle={D.parentFamilly}\n\t\t\t\tparentPath=\"family\"\n\t\t\t\ttitle={D.linksTitle}\n\t\t\t\tlangs={{ lg1, lg2 }}\n\t\t\t\tsecondLang={secondLang}\n\t\t\t/>\n\t\t</React.Fragment>\n\t);\n}\n\nexport default OperationsSerieVisualization;\n","import React, { Component } from 'react';\nimport { goBack } from 'js/utils/redirection';\nimport D from 'js/i18n';\nimport * as select from 'js/reducers';\nimport CheckSecondLang from 'js/components/shared/second-lang-checkbox';\nimport { saveSecondLang } from 'js/actions/app';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport buildExtract from 'js/utils/build-extract';\nimport OperationsSerieVisualization from 'js/components/operations/series/visualization/home';\nimport Loading from 'js/components/shared/loading';\nimport loadSerie from 'js/actions/operations/series/item';\nimport { CL_SOURCE_CATEGORY, CL_FREQ } from 'js/actions/constants/codeList';\nimport Button from 'js/components/shared/button';\nimport { getSecondLang } from 'js/reducers/app';\nimport {\n\tINDICATOR_CREATOR,\n\tADMIN,\n\tSERIES_CREATOR,\n\tCNIS,\n} from 'js/utils/auth/roles';\nimport Auth from 'js/utils/auth/components/auth';\nimport PageTitleBlock from 'js/components/shared/page-title-block';\n\nconst extractId = buildExtract('id');\n\nclass SeriesVisualizationContainer extends Component {\n\tcomponentWillMount() {\n\t\tif (!this.props.serie.id) {\n\t\t\tthis.props.loadSerie(this.props.id);\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (this.props.id !== nextProps.id) {\n\t\t\tthis.props.loadSerie(nextProps.id);\n\t\t}\n\t}\n\trender() {\n\t\tconst {\n\t\t\tsecondLang,\n\t\t\tlangs,\n\t\t\tserie: { ...attr },\n\t\t\tfrequency,\n\t\t\tcategory,\n\t\t\torganisations,\n\t\t} = this.props;\n\n\t\tconst ableToCreateASimsForThisSeries = (attr.operations || []).length === 0;\n\t\tif (!attr.id) return <Loading textType=\"loading\" />;\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<CheckSecondLang\n\t\t\t\t\tsecondLang={secondLang}\n\t\t\t\t\tonChange={this.props.saveSecondLang}\n\t\t\t\t/>\n\n\t\t\t\t<PageTitleBlock\n\t\t\t\t\ttitleLg1={attr.prefLabelLg1}\n\t\t\t\t\ttitleLg2={attr.prefLabelLg2}\n\t\t\t\t\tsecondLang={secondLang}\n\t\t\t\t/>\n\n\t\t\t\t<div className=\"row btn-line action-toolbar\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\taction={goBack(this.props, '/operations/series')}\n\t\t\t\t\t\tlabel={D.btnReturn}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<div className=\"empty-center\" />\n\n\t\t\t\t\t{attr.idSims && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\taction={`/operations/sims/${attr.idSims}`}\n\t\t\t\t\t\t\tlabel={D.btnSimsVisu}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{!attr.idSims && (\n\t\t\t\t\t\t<Auth\n\t\t\t\t\t\t\troles={[ADMIN, SERIES_CREATOR, INDICATOR_CREATOR]}\n\t\t\t\t\t\t\tcomplementaryCheck={ableToCreateASimsForThisSeries}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\taction={`/operations/series/${attr.id}/sims/create`}\n\t\t\t\t\t\t\t\tlabel={D.btnSimsCreate}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Auth>\n\t\t\t\t\t)}\n\t\t\t\t\t<Auth roles={[ADMIN, SERIES_CREATOR]}>\n\t\t\t\t\t\t<Button label={D.btnValid} />\n\t\t\t\t\t</Auth>\n\t\t\t\t\t<Auth roles={[ADMIN, SERIES_CREATOR, CNIS]}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\taction={`/operations/series/${attr.id}/modify`}\n\t\t\t\t\t\t\tlabel={D.btnUpdate}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Auth>\n\t\t\t\t</div>\n\t\t\t\t<OperationsSerieVisualization\n\t\t\t\t\tsecondLang={secondLang}\n\t\t\t\t\tattr={attr}\n\t\t\t\t\tlangs={langs}\n\t\t\t\t\tfrequency={frequency}\n\t\t\t\t\tcategory={category}\n\t\t\t\t\torganisations={organisations}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state, ownProps) => {\n\tconst id = extractId(ownProps);\n\tconst serie = select.getSerie(state, id);\n\tconst categories =\n\t\tstate.operationsCodesList.results[CL_SOURCE_CATEGORY] || {};\n\tconst frequencies = state.operationsCodesList.results[CL_FREQ] || {};\n\tconst organisations = state.operationsOrganisations.results || [];\n\n\treturn {\n\t\tid,\n\t\tserie: serie.id === id ? serie : {},\n\t\tlangs: select.getLangs(state),\n\t\tsecondLang: getSecondLang(state),\n\t\tfrequency: frequencies.codes.find(\n\t\t\tc => c.code === serie.accrualPeriodicityCode\n\t\t),\n\t\tcategory: categories.codes.find(c => c.code === serie.typeCode),\n\t\torganisations,\n\t};\n};\nconst mapDispatchToProps = {\n\tsaveSecondLang,\n\tloadSerie,\n};\n\nexport default withRouter(\n\tconnect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(SeriesVisualizationContainer)\n);\n","import D from 'js/i18n';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { goBack, goBackOrReplace } from 'js/utils/redirection';\nimport {\n\tCancelButton,\n\tSaveButton,\n} from 'js/components/shared/button-with-icon';\nimport Loading from 'js/components/shared/loading';\nimport SelectRmes from 'js/components/shared/select-rmes';\nimport NoteFlag from 'js/components/shared/note-flag/note-flag';\nimport { CL_SOURCE_CATEGORY, CL_FREQ } from 'js/actions/constants/codeList';\nimport EditorMarkdown from 'js/components/shared/editor-html/editor-markdown';\nimport ErrorBloc from 'js/components/shared/error-bloc';\n\nimport { validate } from './validation';\n\nimport {\n\ttoSelectModel,\n\tmergedItemsToSelectModels,\n} from 'js/components/operations/shared/utils/itemToSelectModel';\nimport PageTitleBlock from 'js/components/shared/page-title-block';\n\nconst defaultSerie = {\n\tid: '',\n\tprefLabelLg1: '',\n\tprefLabelLg2: '',\n\taltLabelLg1: '',\n\taltLabelLg2: '',\n\tabstractLg1: '',\n\tabstractLg2: '',\n\thistoryNoteLg1: '',\n\thistoryNoteLg2: '',\n\taccrualPeriodicityList: CL_FREQ,\n\ttypeList: CL_SOURCE_CATEGORY,\n};\nclass OperationsSerieEdition extends Component {\n\tstatic defaultProps = {\n\t\torganisation: [],\n\t\tindicators: [],\n\t\tseries: [],\n\t};\n\tstatic propTypes = {\n\t\tserie: PropTypes.object.isRequired,\n\t\tlangs: PropTypes.object.isRequired,\n\t\tsaveSerie: PropTypes.func.isRequired,\n\t\tcategories: PropTypes.object.isRequired,\n\t\tfrequencies: PropTypes.object.isRequired,\n\n\t\torganisation: PropTypes.array.isRequired,\n\t\tindicators: PropTypes.array.isRequired,\n\t\tseries: PropTypes.array.isRequired,\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = this.setInitialState(props);\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (nextProps.serie.id !== this.props.serie.id) {\n\t\t\tthis.setState(this.setInitialState(nextProps));\n\t\t}\n\t}\n\n\tsetInitialState = props => {\n\t\treturn {\n\t\t\tserverSideError: '',\n\t\t\tserie: {\n\t\t\t\t...defaultSerie,\n\t\t\t\t...props.serie,\n\t\t\t},\n\t\t};\n\t};\n\n\tonChange = e => {\n\t\tlet override = {\n\t\t\t[e.target.id]: e.target.value,\n\t\t};\n\t\tif (e.target.id === 'idFamily') {\n\t\t\toverride = {\n\t\t\t\tfamily: {\n\t\t\t\t\tid: e.target.value,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\t\tthis.setState({\n\t\t\tserverSideError: '',\n\t\t\tserie: {\n\t\t\t\t...this.state.serie,\n\t\t\t\t...override,\n\t\t\t},\n\t\t});\n\t};\n\tonSubmit = () => {\n\t\tconst isCreation = !this.state.serie.id;\n\n\t\tthis.props.saveSerie(this.state.serie, (err, id = this.props.serie.id) => {\n\t\t\tif (!err) {\n\t\t\t\tgoBackOrReplace(this.props, `/operations/series/${id}`, isCreation);\n\t\t\t} else {\n\t\t\t\tthis.setState({\n\t\t\t\t\tserverSideError: err,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t};\n\n\trender() {\n\t\tif (this.props.operationsAsyncTask) return <Loading textType=\"saving\" />;\n\n\t\tconst {\n\t\t\tlangs: { lg1, lg2 },\n\t\t\tfrequencies,\n\t\t\tcategories,\n\t\t\torganisations,\n\t\t\tindicators,\n\t\t\tseries,\n\t\t} = this.props;\n\n\t\tconst serie = {\n\t\t\t...this.state.serie,\n\t\t\tseeAlso: (this.state.serie.seeAlso || []).map(link => link.id),\n\t\t\tcontributor: (this.state.serie.contributor || []).map(link => link.id),\n\t\t\tdataCollector: (this.state.serie.dataCollector || []).map(\n\t\t\t\tlink => link.id\n\t\t\t),\n\t\t\treplaces: (this.state.serie.replaces || []).map(link => link.id),\n\t\t\treplacedBy: (this.state.serie.isReplacedBy || []).map(link => link.id),\n\t\t\tgenerate: (this.state.serie.generate || []).map(link => link.id),\n\t\t};\n\t\tconst familiesOptions = this.props.families.map(s => {\n\t\t\treturn { value: s.id, label: s.label };\n\t\t});\n\t\tconst family = serie.family || { id: '' };\n\n\t\tconst isEditing = !!serie.id;\n\n\t\tconst organisationsOptions = toSelectModel(organisations);\n\t\tconst seriesOptions = toSelectModel(\n\t\t\tseries.filter(s => s.id !== serie.id),\n\t\t\t'series'\n\t\t);\n\t\tconst indicatorsOptions = toSelectModel(indicators, 'indicator');\n\t\tconst seriesAndIndicatorsOptions = mergedItemsToSelectModels(\n\t\t\tindicatorsOptions,\n\t\t\tseriesOptions\n\t\t);\n\n\t\tconst errors = validate(serie);\n\t\tconst globalError = errors.errorMessage || this.state.serverSideError;\n\n\t\treturn (\n\t\t\t<div className=\"container editor-container\">\n\t\t\t\t{isEditing && (\n\t\t\t\t\t<PageTitleBlock\n\t\t\t\t\t\ttitleLg1={this.props.serie.prefLabelLg1}\n\t\t\t\t\t\ttitleLg2={this.props.serie.prefLabelLg2}\n\t\t\t\t\t\tsecondLang={true}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\n\t\t\t\t<div className=\"row btn-line action-toolbar\">\n\t\t\t\t\t<CancelButton action={goBack(this.props, '/operations/series')} />\n\t\t\t\t\t<ErrorBloc error={globalError} />\n\t\t\t\t\t<SaveButton action={this.onSubmit} disabled={errors.errorMessage} />\n\t\t\t\t</div>\n\t\t\t\t<form>\n\t\t\t\t\t{!isEditing && (\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"form-group col-md-12\">\n\t\t\t\t\t\t\t\t<SelectRmes\n\t\t\t\t\t\t\t\t\tplaceholder={D.familiesTitle}\n\t\t\t\t\t\t\t\t\tunclearable\n\t\t\t\t\t\t\t\t\tvalue={family.id}\n\t\t\t\t\t\t\t\t\toptions={familiesOptions}\n\t\t\t\t\t\t\t\t\tonChange={value =>\n\t\t\t\t\t\t\t\t\t\tthis.onChange({\n\t\t\t\t\t\t\t\t\t\t\ttarget: { value, id: 'idFamily' },\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"form-group col-md-6\">\n\t\t\t\t\t\t\t<label htmlFor=\"prefLabelLg1\">\n\t\t\t\t\t\t\t\t<NoteFlag text={D.title} lang={lg1} />\n\t\t\t\t\t\t\t\t<span className=\"boldRed\">*</span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tid=\"prefLabelLg1\"\n\t\t\t\t\t\t\t\tvalue={serie.prefLabelLg1}\n\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\taria-invalid={errors.fields.prefLabelLg1}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"form-group col-md-6\">\n\t\t\t\t\t\t\t<label htmlFor=\"prefLabelLg2\">\n\t\t\t\t\t\t\t\t<NoteFlag text={D.title} lang={lg2} />\n\t\t\t\t\t\t\t\t<span className=\"boldRed\">*</span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tid=\"prefLabelLg2\"\n\t\t\t\t\t\t\t\tvalue={serie.prefLabelLg2}\n\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\taria-invalid={errors.fields.prefLabelLg2}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"form-group col-md-6\">\n\t\t\t\t\t\t\t<label htmlFor=\"altLabelLg1\">\n\t\t\t\t\t\t\t\t<NoteFlag text={D.altLabel} lang={lg1} />\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tid=\"altLabelLg1\"\n\t\t\t\t\t\t\t\tvalue={serie.altLabelLg1}\n\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"form-group col-md-6\">\n\t\t\t\t\t\t\t<label htmlFor=\"altLabel2\">\n\t\t\t\t\t\t\t\t<NoteFlag text={D.altLabel} lang={lg2} />\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tid=\"altLabelLg2\"\n\t\t\t\t\t\t\t\tvalue={serie.altLabelLg2}\n\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"form-group col-md-6\">\n\t\t\t\t\t\t\t<label htmlFor=\"abstractLg1\">\n\t\t\t\t\t\t\t\t<NoteFlag text={D.summary} lang={lg1} />\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<EditorMarkdown\n\t\t\t\t\t\t\t\ttext={serie.abstractLg1}\n\t\t\t\t\t\t\t\thandleChange={value =>\n\t\t\t\t\t\t\t\t\tthis.onChange({ target: { value, id: 'abstractLg1' } })\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"form-group col-md-6\">\n\t\t\t\t\t\t\t<label htmlFor=\"abstractLg2\">\n\t\t\t\t\t\t\t\t<NoteFlag text={D.summary} lang={lg2} />\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<EditorMarkdown\n\t\t\t\t\t\t\t\ttext={serie.abstractLg2}\n\t\t\t\t\t\t\t\thandleChange={value =>\n\t\t\t\t\t\t\t\t\tthis.onChange({ target: { value, id: 'abstractLg2' } })\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"form-group col-md-6\">\n\t\t\t\t\t\t\t<label htmlFor=\"historyNoteLg1\">\n\t\t\t\t\t\t\t\t<NoteFlag text={D.history} lang={lg1} />\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<EditorMarkdown\n\t\t\t\t\t\t\t\ttext={serie.historyNoteLg1}\n\t\t\t\t\t\t\t\thandleChange={value =>\n\t\t\t\t\t\t\t\t\tthis.onChange({ target: { value, id: 'historyNoteLg1' } })\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"form-group col-md-6\">\n\t\t\t\t\t\t\t<label htmlFor=\"historyNoteLg2\">\n\t\t\t\t\t\t\t\t<NoteFlag text={D.history} lang={lg2} />\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<EditorMarkdown\n\t\t\t\t\t\t\t\ttext={serie.historyNoteLg2}\n\t\t\t\t\t\t\t\thandleChange={value =>\n\t\t\t\t\t\t\t\t\tthis.onChange({ target: { value, id: 'historyNoteLg2' } })\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"form-group col-md-12\">\n\t\t\t\t\t\t\t<label htmlFor=\"typeOperation\" className=\"full-label\">\n\t\t\t\t\t\t\t\t{D.operationType}\n\t\t\t\t\t\t\t\t<SelectRmes\n\t\t\t\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\t\t\t\tunclearable\n\t\t\t\t\t\t\t\t\tvalue={serie.typeCode}\n\t\t\t\t\t\t\t\t\toptions={categories.codes.map(cat => {\n\t\t\t\t\t\t\t\t\t\treturn { value: cat.code, label: cat.labelLg1 };\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tonChange={value =>\n\t\t\t\t\t\t\t\t\t\tthis.onChange({\n\t\t\t\t\t\t\t\t\t\t\ttarget: { value, id: 'typeCode' },\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"form-group col-md-12\">\n\t\t\t\t\t\t\t<label htmlFor=\"accrualPeriodicity\" className=\"full-label\">\n\t\t\t\t\t\t\t\t{D.dataCollectFrequency}\n\t\t\t\t\t\t\t\t<SelectRmes\n\t\t\t\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\t\t\t\tunclearable\n\t\t\t\t\t\t\t\t\tvalue={serie.accrualPeriodicityCode}\n\t\t\t\t\t\t\t\t\toptions={frequencies.codes.map(cat => {\n\t\t\t\t\t\t\t\t\t\treturn { value: cat.code, label: cat.labelLg1 };\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tonChange={value =>\n\t\t\t\t\t\t\t\t\t\tthis.onChange({\n\t\t\t\t\t\t\t\t\t\t\ttarget: { value, id: 'accrualPeriodicityCode' },\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"form-group col-md-12\">\n\t\t\t\t\t\t\t<label htmlFor=\"creator\" className=\"full-label\">\n\t\t\t\t\t\t\t\t{D.organisation}\n\t\t\t\t\t\t\t\t<SelectRmes\n\t\t\t\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\t\t\t\tunclearable\n\t\t\t\t\t\t\t\t\tvalue={serie.creator}\n\t\t\t\t\t\t\t\t\toptions={organisationsOptions}\n\t\t\t\t\t\t\t\t\tonChange={value =>\n\t\t\t\t\t\t\t\t\t\tthis.onChange({ target: { value, id: 'creator' } })\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"form-group col-md-12\">\n\t\t\t\t\t\t\t<label className=\"full-label\">\n\t\t\t\t\t\t\t\t{D.stakeholders}\n\t\t\t\t\t\t\t\t<SelectRmes\n\t\t\t\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\t\t\t\tunclearable\n\t\t\t\t\t\t\t\t\tvalue={serie.contributor}\n\t\t\t\t\t\t\t\t\toptions={organisationsOptions}\n\t\t\t\t\t\t\t\t\tonChange={value =>\n\t\t\t\t\t\t\t\t\t\tthis.onChange({\n\t\t\t\t\t\t\t\t\t\t\ttarget: {\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: value.map(v => {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn { id: v.value };\n\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\tid: 'contributor',\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tmulti\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"form-group col-md-12\">\n\t\t\t\t\t\t\t<label htmlFor=\"dataCollector\" className=\"full-label\">\n\t\t\t\t\t\t\t\t{D.dataCollector}\n\t\t\t\t\t\t\t\t<SelectRmes\n\t\t\t\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\t\t\t\tunclearable\n\t\t\t\t\t\t\t\t\tvalue={serie.dataCollector}\n\t\t\t\t\t\t\t\t\toptions={organisationsOptions}\n\t\t\t\t\t\t\t\t\tonChange={value =>\n\t\t\t\t\t\t\t\t\t\tthis.onChange({\n\t\t\t\t\t\t\t\t\t\t\ttarget: {\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: value.map(v => {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn { id: v.value };\n\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\tid: 'dataCollector',\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tmulti\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"form-group col-md-12\">\n\t\t\t\t\t\t\t<label htmlFor=\"contributor\" className=\"full-label\">\n\t\t\t\t\t\t\t\t{D.operationsContributorTitle}\n\t\t\t\t\t\t\t\t<SelectRmes\n\t\t\t\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\t\t\t\tunclearable\n\t\t\t\t\t\t\t\t\tvalue={serie.gestionnaire}\n\t\t\t\t\t\t\t\t\toptions={organisationsOptions}\n\t\t\t\t\t\t\t\t\tonChange={value =>\n\t\t\t\t\t\t\t\t\t\tthis.onChange({ target: { value, id: 'gestionnaire' } })\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"form-group col-md-12\">\n\t\t\t\t\t\t\t<label htmlFor=\"replaces\" className=\"full-label\">\n\t\t\t\t\t\t\t\t{D.replaces}\n\t\t\t\t\t\t\t\t<SelectRmes\n\t\t\t\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\t\t\t\tunclearable\n\t\t\t\t\t\t\t\t\tvalue={serie.replaces}\n\t\t\t\t\t\t\t\t\toptions={seriesOptions}\n\t\t\t\t\t\t\t\t\tonChange={value =>\n\t\t\t\t\t\t\t\t\t\tthis.onChange({\n\t\t\t\t\t\t\t\t\t\t\ttarget: {\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: value.map(v => {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn { id: v.value, type: v.type };\n\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\tid: 'replaces',\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tmulti\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"form-group col-md-12\">\n\t\t\t\t\t\t\t<label htmlFor=\"replacedBy\" className=\"full-label\">\n\t\t\t\t\t\t\t\t{D.replacedBy}\n\t\t\t\t\t\t\t\t<SelectRmes\n\t\t\t\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\t\t\t\tunclearable\n\t\t\t\t\t\t\t\t\tvalue={serie.replacedBy}\n\t\t\t\t\t\t\t\t\toptions={seriesOptions}\n\t\t\t\t\t\t\t\t\tonChange={value =>\n\t\t\t\t\t\t\t\t\t\tthis.onChange({\n\t\t\t\t\t\t\t\t\t\t\ttarget: {\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: value.map(v => {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn { id: v.value, type: v.type };\n\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\tid: 'isReplacedBy',\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tmulti\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"form-group col-md-12\">\n\t\t\t\t\t\t\t<label htmlFor=\"indicators\" className=\"full-label\">\n\t\t\t\t\t\t\t\t{D.indicators}\n\t\t\t\t\t\t\t\t<SelectRmes\n\t\t\t\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\t\t\t\tunclearable\n\t\t\t\t\t\t\t\t\tvalue={serie.generate}\n\t\t\t\t\t\t\t\t\toptions={indicatorsOptions}\n\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\tmulti\n\t\t\t\t\t\t\t\t\tonChange={() => {}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"form-group col-md-12\">\n\t\t\t\t\t\t\t<label htmlFor=\"seeAlso\" className=\"full-label\">\n\t\t\t\t\t\t\t\t{D.seeAlso}\n\t\t\t\t\t\t\t\t<SelectRmes\n\t\t\t\t\t\t\t\t\tunclearable\n\t\t\t\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\t\t\t\tvalue={serie.seeAlso}\n\t\t\t\t\t\t\t\t\toptions={seriesAndIndicatorsOptions}\n\t\t\t\t\t\t\t\t\tonChange={value =>\n\t\t\t\t\t\t\t\t\t\tthis.onChange({\n\t\t\t\t\t\t\t\t\t\t\ttarget: {\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: value.map(v => {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn { id: v.value, type: v.type };\n\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\tid: 'seeAlso',\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tmulti\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default OperationsSerieEdition;\n","import D from 'js/i18n';\n\nexport function validate(serie) {\n\tlet errorMessage =\n\t\t!serie.prefLabelLg1 || !serie.prefLabelLg2 ? D.requiredPrefLabel : '';\n\n\tif (!serie.family) {\n\t\terrorMessage = D.requiredFamily;\n\t}\n\n\treturn {\n\t\tfields: {\n\t\t\tprefLabelLg1: !serie.prefLabelLg1,\n\t\t\tprefLabelLg2: !serie.prefLabelLg2,\n\t\t\tfamily: !serie.family,\n\t\t},\n\t\terrorMessage,\n\t};\n}\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport loadSerie, { saveSerie } from 'js/actions/operations/series/item';\nimport * as select from 'js/reducers';\nimport { connect } from 'react-redux';\nimport buildExtract from 'js/utils/build-extract';\nimport Loading from 'js/components/shared/loading';\nimport OperationsSerieEdition from 'js/components/operations/series/edition/edition';\nimport { CL_SOURCE_CATEGORY, CL_FREQ } from 'js/actions/constants/codeList';\nimport loadFamiliesList from 'js/actions/operations/families/list';\nimport { LOADED } from 'js/constants';\n\nconst extractId = buildExtract('id');\n\nclass OperationsSeriesEditionContainer extends Component {\n\tcomponentWillMount() {\n\t\tif (!this.props.statusFamilies !== LOADED) {\n\t\t\tthis.props.loadFamiliesList();\n\t\t}\n\t\tif (!this.props.serie.id && this.props.id) {\n\t\t\tthis.props.loadSerie(this.props.id);\n\t\t}\n\t}\n\trender() {\n\t\tif (!this.props.serie) return <Loading textType=\"loading\" />;\n\t\treturn <OperationsSerieEdition {...this.props} />;\n\t}\n}\n\nconst mapDispatchToProps = {\n\tloadSerie,\n\tsaveSerie,\n\tloadFamiliesList,\n};\n\nconst mapStateToProps = (state, ownProps) => {\n\tconst id = extractId(ownProps);\n\tconst serie = id ? select.getSerie(state) : {};\n\tconst langs = select.getLangs(state);\n\tconst categories =\n\t\tstate.operationsCodesList.results[CL_SOURCE_CATEGORY] || {};\n\tconst frequencies = state.operationsCodesList.results[CL_FREQ] || {};\n\tconst { results: families = [], status: statusFamilies } = select.getFamilies(\n\t\tstate\n\t);\n\treturn {\n\t\tid,\n\t\tserie,\n\t\tlangs,\n\t\tcategories,\n\t\tfrequencies,\n\t\toperationsAsyncTask: state.operationsAsyncTask,\n\t\torganisations: state.operationsOrganisations.results,\n\t\tindicators: state.operationsIndicatorsList.results || [],\n\t\tseries: state.operationsSeriesList.results || [],\n\t\tfamilies,\n\t\tstatusFamilies,\n\t};\n};\n\nexport default withRouter(\n\tconnect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(OperationsSeriesEditionContainer)\n);\n","import D from 'js/i18n';\nimport { Link } from 'react-router-dom';\nimport React, { Component } from 'react';\nimport Loading from 'js/components/shared/loading';\nimport { AbstractSearchComponent } from 'js/components/shared/advanced-search/home-container';\nimport api from 'js/remote-api/operations-api';\nimport { connect } from 'react-redux';\nimport SelectRmes from 'js/components/shared/select-rmes';\n\nimport { filterKeyDeburr } from 'js/utils/array-utils';\nimport SearchList from 'js/components/shared/advanced-search/home';\nimport { CL_SOURCE_CATEGORY } from 'js/actions/constants/codeList';\nimport { toSelectModel } from '../shared/utils/itemToSelectModel';\nconst filterLabel = filterKeyDeburr(['prefLabelLg1']);\nconst filterTypeCode = filterKeyDeburr(['typeCode']);\nconst filterCreator = filterKeyDeburr(['creator']);\nconst fields = ['prefLabelLg1', 'typeCode', 'creator', 'dataCollector'];\n\nclass SearchFormList extends AbstractSearchComponent {\n\tstatic defaultState = {\n\t\tprefLabelLg1: '',\n\t\ttypeCode: '',\n\t\tcreator: '',\n\t\tdataCollector: '',\n\t\torganisations: [],\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props, SearchFormList.defaultState);\n\t}\n\n\thandlers = this.handleChange(fields, newState => {\n\t\tconst { prefLabelLg1, typeCode, creator, dataCollector } = newState;\n\t\treturn this.props.data\n\t\t\t.filter(filterLabel(prefLabelLg1))\n\t\t\t.filter(filterTypeCode(typeCode))\n\t\t\t.filter(filterCreator(creator))\n\t\t\t.filter(series => {\n\t\t\t\treturn (\n\t\t\t\t\t!dataCollector ||\n\t\t\t\t\t(series.dataCollector || [])\n\t\t\t\t\t\t.map(collector => collector.id)\n\t\t\t\t\t\t.includes(dataCollector)\n\t\t\t\t);\n\t\t\t});\n\t});\n\n\trender() {\n\t\tconst { data, prefLabelLg1, typeCode, creator, dataCollector } = this.state;\n\t\tconst { categories, organisations } = this.props;\n\t\tconst organisationsOptions = toSelectModel(organisations);\n\n\t\tconst dataLinks = data.map(({ id, prefLabelLg1 }) => (\n\t\t\t<li key={id} className=\"list-group-item\">\n\t\t\t\t<Link to={`/operations/series/${id}`}>{prefLabelLg1}</Link>\n\t\t\t</li>\n\t\t));\n\t\treturn (\n\t\t\t<SearchList\n\t\t\t\ttitle={D.seriesSearchTitle}\n\t\t\t\tdata={dataLinks}\n\t\t\t\tbackUrl=\"/operations/series\"\n\t\t\t\tinitializeState={this.initializeState}\n\t\t\t>\n\t\t\t\t<div className=\"row form-group\">\n\t\t\t\t\t<div className=\"col-md-12\">\n\t\t\t\t\t\t<label className=\"full-label\">\n\t\t\t\t\t\t\t{D.labelTitle}\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tvalue={prefLabelLg1}\n\t\t\t\t\t\t\t\tonChange={e => this.handlers.prefLabelLg1(e.target.value)}\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group row\">\n\t\t\t\t\t<div className=\"col-md-12\">\n\t\t\t\t\t\t<label htmlFor=\"typeOperation\" className=\"full-label\">\n\t\t\t\t\t\t\t{D.operationType}\n\n\t\t\t\t\t\t\t<SelectRmes\n\t\t\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\t\t\tunclearable\n\t\t\t\t\t\t\t\tvalue={typeCode}\n\t\t\t\t\t\t\t\toptions={categories.codes.map(cat => {\n\t\t\t\t\t\t\t\t\treturn { value: cat.code, label: cat.labelLg1 };\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\tonChange={value => {\n\t\t\t\t\t\t\t\t\tthis.handlers.typeCode(value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group row\">\n\t\t\t\t\t<div className=\"col-md-6\">\n\t\t\t\t\t\t<label htmlFor=\"typeOperation\" className=\"full-label\">\n\t\t\t\t\t\t\t{D.organisation}\n\n\t\t\t\t\t\t\t<SelectRmes\n\t\t\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\t\t\tunclearable\n\t\t\t\t\t\t\t\tvalue={creator}\n\t\t\t\t\t\t\t\toptions={organisationsOptions}\n\t\t\t\t\t\t\t\tonChange={value => {\n\t\t\t\t\t\t\t\t\tthis.handlers.creator(value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-md-6\">\n\t\t\t\t\t\t<label htmlFor=\"typeOperation\" className=\"full-label\">\n\t\t\t\t\t\t\t{D.organisation}\n\n\t\t\t\t\t\t\t<SelectRmes\n\t\t\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\t\t\tunclearable\n\t\t\t\t\t\t\t\tvalue={dataCollector}\n\t\t\t\t\t\t\t\toptions={organisationsOptions}\n\t\t\t\t\t\t\t\tonChange={value => {\n\t\t\t\t\t\t\t\t\tthis.handlers.dataCollector(value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</SearchList>\n\t\t);\n\t}\n}\nclass SearchListContainer extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\tcomponentWillMount() {\n\t\tapi.getSeriesSearchList().then(data => {\n\t\t\tthis.setState({ data });\n\t\t});\n\t}\n\n\trender() {\n\t\tconst { data } = this.state;\n\t\tconst { categories, organisations } = this.props;\n\t\tif (!data) return <Loading textType=\"loading\" context=\"concepts\" />;\n\t\treturn (\n\t\t\t<SearchFormList\n\t\t\t\tdata={data}\n\t\t\t\tcategories={categories}\n\t\t\t\torganisations={organisations}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state, ownProps) => {\n\tconst categories =\n\t\tstate.operationsCodesList.results[CL_SOURCE_CATEGORY] || {};\n\treturn {\n\t\tcategories,\n\t\torganisations: state.operationsOrganisations.results,\n\t};\n};\n\nexport default connect(mapStateToProps)(SearchListContainer);\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport OperationsSeriesContainer from 'js/components/operations/series/';\nimport OperationsSeriesVisualizationContainer from 'js/components/operations/series/visualization/';\nimport OperationsSeriesEditionContainer from 'js/components/operations/series/edition';\nimport OperationsSeriesSearchContainer from 'js/components/operations/series/search';\n\nexport default () => {\n\treturn (\n\t\t<Switch>\n\t\t\t<Route\n\t\t\t\texact\n\t\t\t\tpath=\"/operations/series\"\n\t\t\t\tcomponent={OperationsSeriesContainer}\n\t\t\t/>\n\t\t\t<Route\n\t\t\t\texact\n\t\t\t\tpath=\"/operations/series/search\"\n\t\t\t\tcomponent={OperationsSeriesSearchContainer}\n\t\t\t/>\n\t\t\t<Route\n\t\t\t\texact\n\t\t\t\tpath=\"/operations/series/create\"\n\t\t\t\tcomponent={OperationsSeriesEditionContainer}\n\t\t\t/>\n\t\t\t<Route\n\t\t\t\texact\n\t\t\t\tpath=\"/operations/series/:id\"\n\t\t\t\tcomponent={OperationsSeriesVisualizationContainer}\n\t\t\t/>\n\t\t\t<Route\n\t\t\t\texact\n\t\t\t\tpath=\"/operations/series/:id/modify\"\n\t\t\t\tcomponent={OperationsSeriesEditionContainer}\n\t\t\t/>\n\t\t</Switch>\n\t);\n};\n","import React from 'react';\nimport PageTitle from 'js/components/shared/page-title';\nimport SearchRmes from 'js/components/shared/search-rmes/search-rmes';\nimport D from 'js/i18n';\nimport { Link } from 'react-router-dom';\nimport Auth from 'js/utils/auth/components/auth';\n\nfunction OperationsObjectHome({\n\titems,\n\troles,\n\ttitle,\n\tchildPath,\n\tsearchURL,\n\tcreateURL,\n}) {\n\treturn (\n\t\t<>\n\t\t\t<div className=\"container\">\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<Auth roles={roles}>\n\t\t\t\t\t\t<div className=\"col-md-3 operations-btn-group-vertical\">\n\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t<div className=\"col-md-8 col-md-offset-2\">\n\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\tto={createURL}\n\t\t\t\t\t\t\t\t\t\tcol={8}\n\t\t\t\t\t\t\t\t\t\toffset={2}\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-operations btn-lg col-md-12\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"glyphicon glyphicon-plus\"\n\t\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<span> {D.btnNewMale}</span>\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Auth>\n\t\t\t\t\t<div className=\"col-md-8 centered pull-right operations-list\">\n\t\t\t\t\t\t<PageTitle title={title} col={12} offset={0} />\n\t\t\t\t\t\t<SearchRmes\n\t\t\t\t\t\t\titems={items}\n\t\t\t\t\t\t\tchildPath={childPath}\n\t\t\t\t\t\t\tlabel=\"label\"\n\t\t\t\t\t\t\tadvancedSearch\n\t\t\t\t\t\t\tsearchUrl={searchURL}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default OperationsObjectHome;\n","import React from 'react';\nimport { Note } from 'js/components/shared/note/note';\nimport './relations.scss';\nimport { Link } from 'react-router-dom';\n\nfunction RelationsViewPerLg({\n\tchildren,\n\tchildrenTitle,\n\tchildrenPath,\n\tparent,\n\tparentTitle,\n\tparentPath,\n\ttitle,\n\tsecondLang,\n\tcurrentLang,\n\tlangSuffix,\n\tcontext,\n}) {\n\treturn (\n\t\t<Note\n\t\t\ttext={\n\t\t\t\t<>\n\t\t\t\t\t{parent && (\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<span className=\"linksTitle\">{parentTitle}:</span>\n\t\t\t\t\t\t\t<Link to={`/operations/${parentPath}/${parent.id}`}>\n\t\t\t\t\t\t\t\t{parent[`label${langSuffix}`]}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t)}\n\t\t\t\t\t{children && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<span className=\"linksTitle\">{childrenTitle}:</span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t{children\n\t\t\t\t\t\t\t\t\t.sort(function(a, b) {\n\t\t\t\t\t\t\t\t\t\treturn a[`label${langSuffix}`].localeCompare(\n\t\t\t\t\t\t\t\t\t\t\tb[`label${langSuffix}`]\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.map(item => (\n\t\t\t\t\t\t\t\t\t\t<li key={item.id}>\n\t\t\t\t\t\t\t\t\t\t\t<Link to={`/operations/${childrenPath}/${item.id}`}>\n\t\t\t\t\t\t\t\t\t\t\t\t{item[`label${langSuffix}`]}\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t}\n\t\t\ttitle={title}\n\t\t\tlang={currentLang}\n\t\t\talone={!secondLang}\n\t\t\tallowEmpty={true}\n\t\t/>\n\t);\n}\n\nfunction RelationsView(props) {\n\treturn (\n\t\t<div className=\"row\">\n\t\t\t<RelationsViewPerLg\n\t\t\t\t{...props}\n\t\t\t\tlangSuffix=\"Lg1\"\n\t\t\t\tcurrentLang={props.langs.lg1}\n\t\t\t/>\n\t\t\t{props.secondLang && (\n\t\t\t\t<RelationsViewPerLg\n\t\t\t\t\t{...props}\n\t\t\t\t\tlangSuffix=\"Lg2\"\n\t\t\t\t\tcurrentLang={props.langs.lg2}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default RelationsView;\n","import api from 'js/remote-api/operations-api';\nimport * as A from 'js/actions/constants';\nimport getListBuilder from 'js/actions/operations/utils/index';\n\nexport default () =>\n\tgetListBuilder(\n\t\tapi.getSeriesList,\n\t\tA.LOAD_OPERATIONS_SERIES_LIST,\n\t\tA.LOAD_OPERATIONS_SERIES_LIST_SUCCESS,\n\t\tA.LOAD_OPERATIONS_SERIES_LIST_FAILURE\n\t);\n","import api from 'js/remote-api/operations-api';\nimport * as A from 'js/actions/constants';\nimport { getItemFactory } from '../utils';\n\nexport const saveSerie = (series, callback) => dispatch => {\n\tdispatch({\n\t\ttype: A.SAVE_OPERATIONS_SERIE,\n\t\tpayload: series,\n\t});\n\tconst method = series.id ? 'putSeries' : 'postSeries';\n\n\treturn api[method](series).then(\n\t\tid => {\n\t\t\tdispatch({\n\t\t\t\ttype: A.SAVE_OPERATIONS_SERIE_SUCCESS,\n\t\t\t\tpayload: {\n\t\t\t\t\t...series,\n\t\t\t\t\tid,\n\t\t\t\t},\n\t\t\t});\n\t\t\tcallback(null, id);\n\t\t},\n\t\terr => {\n\t\t\tdispatch({\n\t\t\t\ttype: A.SAVE_OPERATIONS_SERIE_FAILURE,\n\t\t\t\tpayload: { err },\n\t\t\t});\n\t\t\tcallback(err);\n\t\t}\n\t);\n};\n\nexport default getItemFactory(\n\tapi.getSerie,\n\tA.LOAD_OPERATIONS_SERIE,\n\tA.LOAD_OPERATIONS_SERIE_SUCCESS,\n\tA.LOAD_OPERATIONS_SERIES_LIST_FAILURE\n);\n","import { sortArray } from 'js/utils/array-utils';\n\nconst sortByLabel = sortArray('label');\n\n/**\n * Return the representation needed by the react-select model\n * The type is used later when we need to merge indicators and series for the same\n * select input\n */\nexport function toSelectModel(items, type) {\n\treturn items.map(item => {\n\t\treturn {\n\t\t\t...item,\n\t\t\tvalue: item.id,\n\t\t\tlabel: item.label,\n\t\t\ttype,\n\t\t};\n\t});\n}\n\n/**\n * Return the merge of two react-select models, after sorting by label\n * In order to see the type of the item, the label is prepend by the type\n */\nexport function mergedItemsToSelectModels(...items) {\n\treturn sortByLabel(\n\t\titems.reduce((acc, values) => [...acc, ...values], [])\n\t).map(elt => {\n\t\treturn {\n\t\t\t...elt,\n\t\t\tlabel: `${elt.type} - ${elt.label}`,\n\t\t};\n\t});\n}\n","import api from 'js/remote-api/operations-api';\nimport * as A from 'js/actions/constants';\nimport getListBuilder from 'js/actions/operations/utils/index';\n\nexport default () =>\n\tgetListBuilder(\n\t\tapi.getFamiliesList,\n\t\tA.LOAD_OPERATIONS_FAMILIES_LIST,\n\t\tA.LOAD_OPERATIONS_FAMILIES_LIST_SUCCESS,\n\t\tA.LOAD_OPERATIONS_FAMILIES_LIST_FAILURE\n\t);\n","import React from 'react';\nimport { Note } from 'js/components/shared/note/note';\nimport { Link } from 'react-router-dom';\n\nfunction DisplayLinks({\n\tlinks = [],\n\tpath,\n\ttitle,\n\tlangs: { lg1, lg2 },\n\tsecondLang,\n\tdisplayLink = true,\n\tlabelLg1 = 'labelLg1',\n\tlabelLg2 = 'labelLg2',\n}) {\n\tfunction displayBlock(link, label) {\n\t\tif (displayLink) {\n\t\t\treturn <Link to={`${path}${link.id}`}>{link[label]}</Link>;\n\t\t}\n\t\treturn <p>{link[label]}</p>;\n\t}\n\n\tfunction displayList(label) {\n\t\treturn (\n\t\t\t<ul>\n\t\t\t\t{links.sort().map(link => (\n\t\t\t\t\t<li key={link.id}>{displayBlock(link, label)}</li>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t);\n\t}\n\tfunction displayItem(label) {\n\t\treturn displayBlock(links[0], label);\n\t}\n\treturn (\n\t\t<div className=\"row\">\n\t\t\t<Note\n\t\t\t\ttext={\n\t\t\t\t\tlinks.length === 1 ? displayItem(labelLg1) : displayList(labelLg1)\n\t\t\t\t}\n\t\t\t\ttitle={title}\n\t\t\t\tlang={lg1}\n\t\t\t\talone={!secondLang}\n\t\t\t\tallowEmpty={true}\n\t\t\t/>\n\t\t\t{secondLang && (\n\t\t\t\t<Note\n\t\t\t\t\ttext={\n\t\t\t\t\t\tlinks.length === 1 ? displayItem(labelLg2) : displayList(labelLg2)\n\t\t\t\t\t}\n\t\t\t\t\ttitle={title}\n\t\t\t\t\tlang={lg2}\n\t\t\t\t\talone={false}\n\t\t\t\t\tallowEmpty={true}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default DisplayLinks;\n","import React from 'react';\nimport { Note } from 'js/components/shared/note/note';\nimport D from 'js/i18n';\nimport { Link } from 'react-router-dom';\n\nfunction SeeAlso({ links, langs: { lg1, lg2 }, secondLang }) {\n\tfunction displaySeeAlsos(label) {\n\t\tfunction displaySeeAlso(seeAlso, title, path) {\n\t\t\treturn (\n\t\t\t\tseeAlso && (\n\t\t\t\t\t<li>\n\t\t\t\t\t\t{title}\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t{seeAlso.map(link => (\n\t\t\t\t\t\t\t\t<li key={link.id}>\n\t\t\t\t\t\t\t\t\t<Link to={`${path}/${link.id}`}>{link[label]}</Link>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<ul>\n\t\t\t\t{displaySeeAlso(\n\t\t\t\t\tlinks.indicator,\n\t\t\t\t\tD.indicatorsTitle,\n\t\t\t\t\t'/operations/indicator'\n\t\t\t\t)}\n\t\t\t\t{displaySeeAlso(\n\t\t\t\t\tlinks.operation,\n\t\t\t\t\tD.operationsTitle,\n\t\t\t\t\t'/operations/operation'\n\t\t\t\t)}\n\t\t\t\t{displaySeeAlso(links.series, D.seriesTitle, '/operations/series')}\n\t\t\t\t{displaySeeAlso(links.family, D.familiesTitle, '/operations/family')}\n\t\t\t</ul>\n\t\t);\n\t}\n\treturn (\n\t\t<div className=\"row\">\n\t\t\t<Note\n\t\t\t\ttext={displaySeeAlsos('labelLg1')}\n\t\t\t\ttitle={D.seeAlso}\n\t\t\t\tlang={lg1}\n\t\t\t\talone={!secondLang}\n\t\t\t\tallowEmpty={true}\n\t\t\t/>\n\t\t\t{secondLang && (\n\t\t\t\t<Note\n\t\t\t\t\ttext={displaySeeAlsos('labelLg2')}\n\t\t\t\t\ttitle={D.seeAlso}\n\t\t\t\t\tlang={lg2}\n\t\t\t\t\talone={false}\n\t\t\t\t\tallowEmpty={true}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t);\n}\nexport default SeeAlso;\n","/**\n *\n * @param {Array<SeeAlso>} seeAlso an array of SeeAlso object\n * @returns an object corresponding to the array grouped by type of seeAlso\n */\nexport function getSeeAlsoByType(seeAlso = []) {\n\treturn seeAlso.reduce((acc, link) => {\n\t\treturn {\n\t\t\t...acc,\n\t\t\t[link.type]: [...(acc[link.type] || []), link],\n\t\t};\n\t}, {});\n}\n"],"sourceRoot":""}
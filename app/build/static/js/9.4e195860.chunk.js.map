{"version":3,"sources":["js/utils/msd/index.js","js/components/operations/msd/utils.js","js/components/operations/msd/outline/outline-block.js","js/components/operations/msd/outline/index.js","js/components/operations/msd/layout/index.js","js/actions/operations/sims/item.js","js/components/operations/msd/help-information/index.js","js/components/operations/msd/pages/help/index.js","js/components/operations/msd/documents/documents-bloc/index.js","js/components/operations/msd/pages/sims-visualisation/index.js","js/components/operations/msd/pages/sims-creation/sims-field.js","js/components/operations/msd/pages/sims-creation/index.js","js/components/operations/msd/index.js","js/actions/operations/metadatastructure/list.js","js/components/router/operations/sims.js","../../node_modules/react-router-dom/es/HashRouter.js","../../node_modules/react-router/es/MemoryRouter.js","../../node_modules/react-router-dom/es/MemoryRouter.js","../../node_modules/react-router-dom/es/NavLink.js","../../node_modules/react-router/es/Prompt.js","../../node_modules/react-router-dom/es/Prompt.js","../../node_modules/react-router/es/StaticRouter.js","../../node_modules/react-router-dom/es/StaticRouter.js","../../node_modules/react-router-dom/es/generatePath.js","../../node_modules/react-router-dom/es/matchPath.js","../../node_modules/react-router-dom/es/index.js","js/utils/build-extract.js","js/remote-api/operations/sims.js","js/remote-api/operations/indicator.js","js/remote-api/operations-api.js","js/components/shared/second-lang-checkbox/index.js","js/components/shared/note/note.js","js/utils/html.js","js/components/shared/page-title-block/index.js","js/actions/operations/utils/index.js","js/components/shared/note-flag/note-flag.js","img/flags/default.png","img/flags sync /^/.//.*/.png$","js/components/shared/flag/flag.js","js/utils/auth/components/auth.js","js/components/shared/page-subtitle/index.js","js/components/shared/button-with-icon/index.js","img/flags/en.png","img/flags/fr.png","js/components/shared/editor-html/editor-markdown.js","js/reducers/operations/selector.js","js/components/shared/date-picker-rmes/index.js","js/components/shared/input-rmes/index.js","js/actions/operations/series/list.js","js/actions/operations/series/item.js","js/actions/operations/operations/item.js","js/actions/operations/indicators/item.js","js/actions/operations/documents/list.js","js/actions/operations/indicators/list.js","../../node_modules/react-router-hash-link/lib/index.js","js/remote-api/codelist-api.js","js/remote-api/organisations-api.js","js/actions/operations/utils/setup.js","img/spinner.svg"],"names":["getLabelsFromParent","parent","key","arguments","length","undefined","labelLg1","D","replace","prefLabelLg1","labelLg2","getMessageForSecondLang","prefLabelLg2","rangeType","RICH_TEXT","TEXT","HELP_COLLAPSED","isOpen","id","JSON","parse","localStorage","getItem","toggleOpen","collapsed","previous","setItem","stringify","Object","objectSpread","defineProperty","hasLabelLg2","section","getParentId","sims","idOperation","idSeries","idIndicator","removeRubricsWhenDuplicate","mode","rubrics","blackList","keys","reduce","acc","rubricKey","DUPLICATE","indexOf","OutlineBlock","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","expandOrCollapseItem","_ref","currentTarget","setState","previousState","children","opened","state","childId","_this2","_this$props","secondary","_this$props$baseUrl","baseUrl","_this$props$disableSe","disableSectionAnchor","react_default","a","createElement","className","values","map","child","idMas","title","hide","display","onClick","concat","lib","smooth","to","masLabelBasedOnCurrentLang","Component","Outline","storeCollapseState","metadataStructure","outline_block","STATUS","BOTH","SUMMARY","CONTENT","MSDComponent","changeStatusToBoth","changeStatus","changeStatusToContent","changeStatusToSummary","status","styleSummary","width","styleContent","style","helpSummary","disabled","placeholder","search","aria-label","metadata","outline","helpContent","CODE_LIST","ORGANIZATION","HelpInformation","msd","codesLists","organisations","masLabelLg1","labelTitle","masLabelLg2","helpPresentational","isPresentational","toString","helpRange","codeList","codeListLabelLg1","codes","code","orga","label","MSDHelp","currentSection","lg1","langs","MSDInformations","_ref2","Fragment","note","text","alone","lang","DocumentsBloc","_ref$documents","documents","_ref$localPrefix","localPrefix","_ref$editMode","editMode","deleteHandler","addHandler","_ref$documentStores","documentStores","documentStoresStatus","objectType","_useState","useState","_useState2","slicedToArray","panelStatus","setPanelStatus","_useState3","_useState4","filter","setFilter","currentDocuments","sortArray","currentDocumentsIds","doc","uri","otherDocuments","document","includes","join","toLowerCase","isSecondLang","defaultBtnBlocFunction","type","btnDelete","aria-hidden","displayHTMLForDocument","btnBlocFunction","target","rel","href","url","updatedDate","Intl","DateTimeFormat","getLang","format","Date","val","getAsideToTheDocument","addTitle","addDocument","addLink","titleDocument","titleLink","LOADING","src","spinner","alt","htmlFor","value","onChange","e","btnAdd","DocumentsBlocContainer","NOT_LOADED","loadDocuments","mapDispatchToProps","connect","ownProps","getOperationsDocumentsStatus","getOperationsDocuments","DATE","SimsVisualisation","_ref$sims","secondLang","saveSecondLang","goBack","_ref$langs","lg2","shouldDisplayDuplicateButtonFlag","parentsWithoutSims","shouldDisplayDuplicateButton","displayInformation","stringToDate","dangerouslySetInnerHTML","__html","markdownToHtml","documents_bloc","isDocument","isLink","find","_ref2$firstLevel","firstLevel","shouldDisplayTitleForPrimaryItem","shared_button","action","getParentUri","btnReturn","auth","roles","ADMIN","SERIES_CREATOR","complementaryCheck","button_with_icon","col","INDICATOR_CREATOR","CNIS","btnUpdate","second_lang_checkbox","Field","handleTextInput","_handleChange","handleCodeListInput","handleDateInput","_handleDeleteDocumentOrLinks","objects","_handleAddDocumentOrLinks","newObject","toConsumableArray","handleDeleteDocument","handleAddDocument","override","handleChange","_this$props$currentSe","_this$props$organisat","codesList","codesListOptions","c","organisationsOptions","input_rmes","arias","simsValue","select_rmes","options","date_picker_rmes","colMd","editor_markdown","PureComponent","SimsCreation","updateIdParent","idParent","handleSubmit","_this$props$onSubmit","parentType","preventDefault","stopPropagation","saving","onSubmit","_this$props2","_this$props2$sims","flattenStructure","flattenTree","tree","idAttribute","_this$props3","_this$props3$langs","_this$state","operationsOptions","op","sims_creation_sims_field","react_loading_default","delay","height","btnCancel","btnSave","index","operationsTitle","searchable","React","extractId","buildExtract","extractIdParent","mapToParentType","operation","load","series","indicator","MSDContainer","goBackCallback","history","push","match","params","metadataStructureStatus","LOADED","loadMetadataStructure","currentSims","loadSIMS","isParentLoaded","_loadParent","nextProps","_this$props$mode","saveSims","loading","textType","layout","idSection","page_title_block","titleLg1","titleLg2","sims_creation","defaultProps","dispatch","getState","A","payload","Promise","all","api","getMetadataStructureList","getMetadataAttributesList","then","metaDataStructure","metadataAttributes","metaDataStructureTree","getTree","input","objectToMerge","sort","msd1","msd2","parseInt","substr","msdToMerge","isLang2","attr","Set","operationsCodesList","results","forEach","add","loadCodesList","err","operationsSimsCurrentStatus","getSims","getOperation","getOperationsWithoutReport","resolve","rubric","callback","promise","mergeLabels","getSerie","getIndicator","getFetchLabelsPromise","method","loadOperation","loadSerie","loadIndicator","compose","withRouter","operationsMetadataStructureList","_state$operationsMeta","_getCurrentParent","select","operationsIndicatorCurrentStatus","operationsSeriesCurrentStatus","getCurrentParent","_getCurrentParent2","currentParent","currentParentStatus","getSecondLang","getOperationsCodesList","getOperationsOrganisations","__webpack_exports__","Switch","Route","exact","path","component","render","operations_msd","_possibleConstructorReturn","self","ReferenceError","HashRouter_HashRouter","_React$Component","HashRouter","_temp","instance","Constructor","TypeError","_classCallCheck","_len","args","Array","_key","apply","esm_history","subClass","superClass","prototype","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","_inherits","componentWillMount","warning_default","Router","propTypes","basename","prop_types_default","string","getUserConfirmation","func","hashType","oneOf","node","es_HashRouter","MemoryRouter_possibleConstructorReturn","MemoryRouter_MemoryRouter","MemoryRouter","MemoryRouter_classCallCheck","MemoryRouter_inherits","warning_warning_default","es_Router","initialEntries","array","initialIndex","number","keyLength","react_router_dom_es_MemoryRouter","_extends","assign","i","source","hasOwnProperty","_typeof","Symbol","iterator","obj","NavLink_NavLink","strict","location","activeClassName","activeStyle","getIsActive","isActive","ariaCurrent","rest","_objectWithoutProperties","pathname","escapedPath","Link","aria-current","bool","object","es_NavLink","Prompt_Prompt","Prompt","Prompt_classCallCheck","Prompt_possibleConstructorReturn","Prompt_inherits","enable","message","unblock","context","router","block","disable","browser_default","when","componentWillReceiveProps","componentWillUnmount","oneOfType","isRequired","contextTypes","shape","react_router_dom_es_Prompt","StaticRouter_extends","StaticRouter_possibleConstructorReturn","addLeadingSlash","charAt","addBasename","stripBasename","base","StaticRouter_createURL","StaticRouter_staticHandler","methodName","noop","StaticRouter_StaticRouter","StaticRouter","StaticRouter_classCallCheck","createHref","handlePush","handleReplace","handleListen","handleBlock","StaticRouter_inherits","getChildContext","staticContext","_props","StaticRouter_objectWithoutProperties","go","goForward","listen","childContextTypes","react_router_dom_es_StaticRouter","es_generatePath","es_matchPath","__webpack_require__","d","BrowserRouter","Redirect","paramName","putSims","headers","Content-Type","body","postSims","res","getIndicatorsList","getIndicatorsSearchList","putIndicator","postIndicator","simsApi","indicatorApi","getSeriesList","getOperationsList","getFamiliesList","getFamiliesSearchList","getSeriesSearchList","getOperationsSearchList","getFamily","getVarBookExport","MimeType","Accept","putFamily","family","postFamily","putSeries","postSeries","putOperation","postOperation","idSerie","buildApi","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","js_i18n__WEBPACK_IMPORTED_MODULE_1__","Checkbox","checked","displayLg2","Note","js_components_shared_panel__WEBPACK_IMPORTED_MODULE_1__","js_components_shared_note_flag_note_flag__WEBPACK_IMPORTED_MODULE_2__","js_utils_html__WEBPACK_IMPORTED_MODULE_3__","js_context__WEBPACK_IMPORTED_MODULE_4__","_ref$text","_ref$allowEmpty","allowEmpty","_ref$md","md","_ref$alt","ctx","useContext","ApplicationContext","cl","htmlLength","htmlIsEmpty","rmesHtmlToRawHtml","rawHtmlToRmesHtml","delPTags","htmlFromEditorState","editorStateFromHtml","mdFromEditorState","editorStateFromMd","draft_js__WEBPACK_IMPORTED_MODULE_0__","draft_js_import_html__WEBPACK_IMPORTED_MODULE_1__","draft_js_export_html__WEBPACK_IMPORTED_MODULE_2__","draftjs_md_converter__WEBPACK_IMPORTED_MODULE_3__","htmlToRawText","html","el","innerHTML","textContent","trim","cleanHtml","stateToHTML","stateFromHTML","draftHtmlToXhtml","rNewLine","rUselessSpace","s","editorState","getCurrentContent","EditorState","createWithContent","draftjsToMd","convertToRaw","convertFromRaw","mdToDraftjs","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","js_components_shared_page_title__WEBPACK_IMPORTED_MODULE_2__","js_components_shared_page_subtitle__WEBPACK_IMPORTED_MODULE_3__","PageTitleBlock","subTitle","proptTypes","PropTypes","getItemFactory","js_utils_array_utils__WEBPACK_IMPORTED_MODULE_0__","sortByLabel","remoteCall","SUCCESS","FAILURE","operationsOperationCurrentStatus","js_components_shared_flag_flag__WEBPACK_IMPORTED_MODULE_1__","NoteFlag","flag","module","exports","p","./default.png","./en.png","./fr.png","webpackContext","req","webpackContextResolve","o","Error","img_flags_default_png__WEBPACK_IMPORTED_MODULE_1__","img_flags_default_png__WEBPACK_IMPORTED_MODULE_1___default","js_i18n__WEBPACK_IMPORTED_MODULE_2__","isFlag","require","defaultFlag","js_reducers__WEBPACK_IMPORTED_MODULE_0__","react_redux__WEBPACK_IMPORTED_MODULE_1__","userRoles","_ref$fallback","fallback","_ref$complementaryChe","role","js_context__WEBPACK_IMPORTED_MODULE_3__","PageSubtitle","_ref$context","subtitle","CancelButton","SaveButton","DuplicateButton","js_components_shared_button__WEBPACK_IMPORTED_MODULE_1__","AbstractButton","icon","btnDuplicate","toolbar","list","inDropdown","inline","EditorMarkdown","_Users_emmanueldemey_Documents_workspaces_oss_bauhaus_learna_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_Users_emmanueldemey_Documents_workspaces_oss_bauhaus_learna_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_emmanueldemey_Documents_workspaces_oss_bauhaus_learna_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","handleLeave","react__WEBPACK_IMPORTED_MODULE_5___default","react_draft_wysiwyg__WEBPACK_IMPORTED_MODULE_6__","toolbarClassName","wrapperClassName","editorClassName","onEditorStateChange","onBlur","localization","locale","getCurrentDocument","operationsOrganisations","group","operationsDocuments","operationsCurrentDocument","react_16_bootstrap_date_picker__WEBPACK_IMPORTED_MODULE_1__","react_16_bootstrap_date_picker__WEBPACK_IMPORTED_MODULE_1___default","DatePickerRmes","placement","days","calendarDays","months","calendarMonths","calendarPlacement","weekStartsOn","dayLabels","monthLabels","InputRmes","star","hiddenStar","password","js_remote_api_operations_api__WEBPACK_IMPORTED_MODULE_0__","js_actions_constants__WEBPACK_IMPORTED_MODULE_1__","js_actions_operations_utils_index__WEBPACK_IMPORTED_MODULE_2__","getListBuilder","saveSerie","_Users_emmanueldemey_Documents_workspaces_oss_bauhaus_learna_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","saveOperation","saveIndicator","_utils__WEBPACK_IMPORTED_MODULE_2__","altLabel","altLabelLg1","getDocumentsList","lastIndexOf","genericHashLink","HashLink","NavHashLink","_react2","_interopRequireDefault","_propTypes2","_reactRouterDom","__esModule","default","hashFragment","observer","asyncTimerId","scrollFunction","reset","disconnect","window","clearTimeout","getElAndScroll","element","getElementById","As","scroll","filteredProps","split","slice","hash","scrollIntoView","behavior","setTimeout","MutationObserver","observe","attributes","childList","subtree","NavLink","getCodesList","notation","getCode","getOrganisations","setup_loadSetup","loadSetup","CL_SOURCE_CATEGORY","CL_FREQ","apiOrganisations","loadOrganisations","loadIndicators","loadSeries","notations"],"mappings":"oNAYO,SAASA,EAAoBC,GAA4B,IAEzDC,EAAM,cAFmDC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAb,aAGlD,MAAO,CACNG,SAAUC,IAAEL,GAAKM,QAHiB,mBAGmBP,EAAOQ,cAC5DC,SAAUC,YAAwBT,GAAKM,QAJL,mBAMjCP,EAAOW,eA0DH,IAAMC,EAEN,OAFMA,EAGN,OAHMA,EAID,YAJCA,EAKD,YALCA,EAME,eChFPC,EAAoBD,EAATE,EAASF,EAEfG,EAAiB,iBAEvB,SAASC,EAAOC,GAEtB,OADkBC,KAAKC,MAAMC,aAAaC,QAAQN,KAAoB,IACrDE,KAAO,EAGlB,SAASK,EAAWL,GAC1B,IAAMM,EAAYL,KAAKC,MAAMC,aAAaC,QAAQN,KAAoB,GAChES,EAAWD,EAAUN,KAAO,EAClCG,aAAaK,QACZV,EACAG,KAAKQ,UAALC,OAAAC,EAAA,EAAAD,CAAA,GACIJ,EADJI,OAAAE,EAAA,EAAAF,CAAA,GAEEV,GAAMO,MAWH,SAASM,EAAYC,GAC3B,OAAOA,EAAQnB,YAAcE,GAAQiB,EAAQnB,YAAcC,EA2CrD,SAASmB,EAAYC,GAC3B,OAAOA,EAAKC,aAAeD,EAAKE,UAAYF,EAAKG,YAe3C,SAASC,EAA2BC,GAAoB,IAAdC,EAAcrC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAIpDsC,EAAY,CAAC,SAEnB,OAAOb,OAAOc,KAAKF,GAASG,OAAO,SAACC,EAAKC,GACxC,OAAIN,IAASO,IAAaL,EAAUM,QAAQF,IAAc,EAAUD,EAC7DhB,OAAAC,EAAA,EAAAD,CAAA,GACHgB,EADJhB,OAAAE,EAAA,EAAAF,CAAA,GAEEiB,EAAYL,EAAQK,MAEpB,iBCTWG,cAhFd,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAtB,OAAAuB,EAAA,EAAAvB,CAAAwB,KAAAJ,IAClBE,EAAAtB,OAAAyB,EAAA,EAAAzB,CAAAwB,KAAAxB,OAAA0B,EAAA,EAAA1B,CAAAoB,GAAAO,KAAAH,KAAMH,KAcPO,qBAAuB,SAAAC,GAA+B,IAAXvC,EAAWuC,EAA5BC,cAAiBxC,GAC1CK,EAAWL,GACXgC,EAAKS,SAAS,SAAAC,GAAa,MAAK,CAC/BC,SAASjC,OAAAC,EAAA,EAAAD,CAAA,GACLgC,EAAcC,SADVjC,OAAAE,EAAA,EAAAF,CAAA,GAENV,EAFMU,OAAAC,EAAA,EAAAD,CAAA,GAGHgC,EAAcC,SAAS3C,GAHpB,CAIN4C,QAASF,EAAcC,SAAS3C,GAAI4C,eApBvCZ,EAAKa,MAAQ,CACZF,SAAUjC,OAAOc,KAAKQ,EAAKD,MAAMY,UAAUlB,OAAO,SAACC,EAAKoB,GACvD,OAAOpC,OAAAC,EAAA,EAAAD,CAAA,GACHgB,EADJhB,OAAAE,EAAA,EAAAF,CAAA,GAEEoC,EAFFpC,OAAAC,EAAA,EAAAD,CAAA,GAGKsB,EAAKD,MAAMY,SAASG,GAHzB,CAIEF,OAAQ7C,EAAO+C,QAGf,KAXcd,wEA2BV,IAAAe,EAAAb,KAAAc,EAMJd,KAAKH,MAJRkB,EAFOD,EAEPC,UACAlE,EAHOiE,EAGPjE,OAHOmE,EAAAF,EAIPG,eAJO,IAAAD,EAIG,oBAJHA,EAAAE,EAAAJ,EAKPK,4BALO,IAAAD,KAOAT,EAAaT,KAAKW,MAAlBF,SACR,OAAIjC,OAAOc,KAAKmB,GAAUzD,QAAU,EAAU,KAE7CoE,EAAAC,EAAAC,cAAA,MAAIC,UAAWR,EAAY,sBAAwB,aACjDvC,OAAOgD,OAAOf,GAAUgB,IAAI,SAAAC,GAC5B,OACCN,EAAAC,EAAAC,cAAA,MAAIxE,IAAK4E,EAAMC,MAAOJ,UAAU,aAC9B/C,OAAOc,KAAKoC,EAAMjB,UAAUzD,OAAS,GACrCoE,EAAAC,EAAAC,cAAA,UACCC,UAAU,mBACVK,MAAOF,EAAMhB,OAASvD,IAAE0E,KAAO1E,IAAE2E,QACjChE,GAAI4D,EAAMC,MACVI,QAASlB,EAAKT,sBAEdgB,EAAAC,EAAAC,cAAA,QACCC,UAAS,+BAAAS,OACRN,EAAMhB,OAAS,KAAO,WAK1BU,EAAAC,EAAAC,cAACW,EAAA,SAAD,CACCC,QAAM,EACNC,GAAE,GAAAH,OAAKf,GAALe,OAAeb,EAAuB,GAAKtE,EAA3C,KAAAmF,OACDN,EAAMC,QAGND,EAAMC,MANR,MAMkBD,EAAMU,4BAEvBV,EAAMhB,QACNU,EAAAC,EAAAC,cAAC1B,EAAD,CACCa,SAAUiB,EAAMjB,SAChBM,WAAS,EACTlE,OAAQA,EACRoE,QAASA,EACTE,qBAAsBA,eA5EJkB,aC6EZC,sBAnEd,SAAAA,EAAYzC,GAAO,IAAAC,EAAA,OAAAtB,OAAAuB,EAAA,EAAAvB,CAAAwB,KAAAsC,IAClBxC,EAAAtB,OAAAyB,EAAA,EAAAzB,CAAAwB,KAAAxB,OAAA0B,EAAA,EAAA1B,CAAA8D,GAAAnC,KAAAH,KAAMH,KAWPO,qBAAuB,WACtBN,EAAKS,SAAS,SAAAC,GAAa,MAAK,CAAEE,QAASF,EAAcE,UACzDZ,EAAKD,MAAM0C,oBACVpE,EAAW2B,EAAKD,MAAM2C,kBAAkBb,QARzC7B,EAAKa,MAAQ,CACZD,OAAQb,EAAM0C,oBAAsB1E,EAAOgC,EAAM2C,kBAAkBb,QARlD7B,wEAkBV,IAAAgB,EAMJd,KAAKH,MAJR2C,EAFO1B,EAEP0B,kBACAD,EAHOzB,EAGPyB,mBAHOvB,EAAAF,EAIPG,eAJO,IAAAD,EAIG,oBAJHA,EAAAE,EAAAJ,EAKPK,4BALO,IAAAD,KAQR,OACCE,EAAAC,EAAAC,cAAA,UACCF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,6BACdH,EAAAC,EAAAC,cAACW,EAAA,SAAD,CACCE,GAAE,GAAAH,OAAKf,GAALe,OACDb,EAAuB,GAAKqB,EAAkBb,MAD7C,KAAAK,OAEEQ,EAAkBb,QAErBa,EAAkBb,MALpB,KAK6B,IAC3Ba,EAAkBJ,4BAGnB5D,OAAOc,KAAKkD,EAAkB/B,UAAUzD,OAAS,GACjDoE,EAAAC,EAAAC,cAAA,UACCC,UAAU,8BACVK,MAAO5B,KAAKW,MAAMD,OAASvD,IAAE0E,KAAO1E,IAAE2E,QACtCC,QAAS/B,KAAKI,sBAEdgB,EAAAC,EAAAC,cAAA,QACCC,UAAS,gCAAAS,OACRhC,KAAKW,MAAMD,OAAS,KAAO,YAO/BV,KAAKW,MAAMD,QACXU,EAAAC,EAAAC,cAACmB,EAAD,CACChC,SAAU+B,EAAkB/B,SAC5B5D,OAAQ2F,EAAkBb,MAC1BY,mBAAoBA,EACpBtB,QAASA,EACTE,qBAAsBA,YAlENkB,cCFhBK,UAAS,CACdC,KAAM,OACNC,QAAS,UACTC,QAAS,YAqHKC,cA1Gd,SAAAA,EAAYjD,GAAO,IAAAC,EAAA,OAAAtB,OAAAuB,EAAA,EAAAvB,CAAAwB,KAAA8C,IAClBhD,EAAAtB,OAAAyB,EAAA,EAAAzB,CAAAwB,KAAAxB,OAAA0B,EAAA,EAAA1B,CAAAsE,GAAA3C,KAAAH,KAAMH,KAaPkD,mBAAqB,kBAAMjD,EAAKkD,aAAaN,EAAOC,OAdjC7C,EAenBmD,sBAAwB,kBAAMnD,EAAKkD,aAAaN,EAAOG,UAfpC/C,EAgBnBoD,sBAAwB,kBAAMpD,EAAKkD,aAAaN,EAAOE,UAdtD9C,EAAKa,MAAQ,CACZwC,OAAQlF,aAAaC,QAAQ,cAAgBwE,EAAOC,MAHnC7C,4EAONqD,GACZlF,aAAaK,QAAQ,YAAa6E,GAClCnD,KAAKO,SAAS,SAAAC,GAAa,MAAK,CAC/B2C,6CAQO,IACAA,EAAWnD,KAAKW,MAAhBwC,OAEFC,EAAe,CACpBC,MAAOF,IAAWT,EAAOC,KAAO,MAAQ,OACxCb,QAASqB,IAAWT,EAAOG,QAAU,OAAS,SAEzCS,EAAe,CACpBD,MAAOF,IAAWT,EAAOC,KAAO,MAAQ,OACxCb,QAASqB,IAAWT,EAAOE,QAAU,OAAS,SATvC9B,EAiBJd,KAAKH,MALR0C,EAZOzB,EAYPyB,mBACAC,EAbO1B,EAaP0B,kBACA/B,EAdOK,EAcPL,SACAQ,EAfOH,EAePG,QACAE,EAhBOL,EAgBPK,qBAED,OACCC,EAAAC,EAAAC,cAAA,OAAKxD,GAAG,qBAAqByD,UAAU,4BACtCH,EAAAC,EAAAC,cAAA,WAASC,UAAU,eAAegC,MAAOH,GACxChC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBAAsBpE,IAAEqG,aACvCpC,EAAAC,EAAAC,cAAA,SACCC,UAAU,eACVkC,UAAQ,EACRC,YAAavG,IAAEwG,OACfC,aAAYzG,IAAEwG,SAEfvC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,0BACdH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,wBACZ/C,OAAOgD,OAAOgB,GAAmBf,IAAI,SAAAoC,GAAQ,OAC7CzC,EAAAC,EAAAC,cAACwC,EAAD,CACChH,IAAK+G,EAASlC,MACdY,mBAAoBA,EACpBC,kBAAmBqB,EACnB5C,QAASA,EACTE,qBAAsBA,SAO1BgC,IAAWT,EAAOG,SAClBzB,EAAAC,EAAAC,cAAA,UACCC,UAAU,0BACVQ,QAAS/B,KAAK+C,oBAEb5F,IAAEqG,YACHpC,EAAAC,EAAAC,cAAA,QAAMC,UAAU,uCAGjB4B,IAAWT,EAAOC,MAClBvB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,6BACdH,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,UAAQS,QAAS/B,KAAKiD,sBAAuBrB,MAAM,gBAClDR,EAAAC,EAAAC,cAAA,QAAMC,UAAU,uCAGlBH,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,UAAQS,QAAS/B,KAAKkD,sBAAuBtB,MAAM,gBAClDR,EAAAC,EAAAC,cAAA,QAAMC,UAAU,yCAKnB4B,IAAWT,EAAOE,SAClBxB,EAAAC,EAAAC,cAAA,UACCC,UAAU,2BACVQ,QAAS/B,KAAK+C,oBAEd3B,EAAAC,EAAAC,cAAA,QAAMC,UAAU,qCACfpE,IAAE4G,aAGL3C,EAAAC,EAAAC,cAAA,WACCiC,MAAOD,EACP/B,UACC4B,IAAWT,EAAOG,QAAU,qBAAuB,gBAGnDpC,WA5GqB4B,6DCyEZ,aClFP2B,EAA4BvG,EAAjBwG,EAAiBxG,EAErB,SAASyG,EAAT7D,GAA6D,IAAlC8D,EAAkC9D,EAAlC8D,IAAKC,EAA6B/D,EAA7B+D,WAAYC,EAAiBhE,EAAjBgE,cAC1D,OAAKF,EAAIG,YAIRlD,EAAAC,EAAAC,cAAA,UACCF,EAAAC,EAAAC,cAAA,UAAKnE,IAAEoH,WAAP,KACAnD,EAAAC,EAAAC,cAAA,UAAK6C,EAAIK,aACTpD,EAAAC,EAAAC,cAAA,UAAKnE,IAAEsH,mBAAP,KACArD,EAAAC,EAAAC,cAAA,UAAK6C,EAAIO,iBAAiBC,YAC1BvD,EAAAC,EAAAC,cAAA,UAAKnE,IAAEyH,UAAP,KACAxD,EAAAC,EAAAC,cAAA,UACE6C,EAAI1G,YAAcuG,GAAaI,EAAWD,EAAIU,UAA9C,GAAA7C,OACK7E,IAAC,OAAA6E,OAAQmC,EAAI1G,YADlB,OAAAuE,OAEEoC,EAAWD,EAAIU,UAAUC,kBAF3B,GAAA9C,OAIK7E,IAAC,OAAA6E,OAAQmC,EAAI1G,aAElB0G,EAAI1G,YAAcuG,GAAaI,EAAWD,EAAIU,WAC9CzD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cACZ6C,EAAWD,EAAIU,UAAUE,MAAMtD,IAAI,SAAAuD,GAAI,OACvC5D,EAAAC,EAAAC,cAAA,MAAIC,UAAU,kBAAkBzE,IAAKkI,EAAKA,MACxCA,EAAK9H,aAKTiH,EAAI1G,YAAcwG,GAClB7C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cACZ8C,EAAc5C,IAAI,SAAAwD,GAAI,OACtB7D,EAAAC,EAAAC,cAAA,MAAIC,UAAU,kBAAkBzE,IAAKmI,EAAKnH,IACxCmH,EAAKC,YA7BL,kBCFM,SAASC,EAAT9E,GAMZ,IALFmC,EAKEnC,EALFmC,kBACA4C,EAIE/E,EAJF+E,eACAhB,EAGE/D,EAHF+D,WACSiB,EAEPhF,EAFFiF,MAASD,IACThB,EACEhE,EADFgE,cAEA,SAASkB,EAATC,GAAkC,IAAPrB,EAAOqB,EAAPrB,IAC1B,OACC/C,EAAAC,EAAAC,cAACF,EAAAC,EAAMoE,SAAP,KACCrE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,MAAMzE,IAAKqH,EAAIxC,MAAO7D,GAAIqG,EAAIxC,OAC5CP,EAAAC,EAAAC,cAACoE,EAAA,EAAD,CACC9D,MAAK,GAAAI,OAAKmC,EAAIxC,MAAT,OAAAK,OAAoBmC,EAAIG,aAC7BqB,KACCvE,EAAAC,EAAAC,cAAC4C,EAAD,CACCC,IAAKA,EACLC,WAAYA,EACZC,cAAeA,IAGjBuB,OAAK,EACLC,KAAMR,KAGP7G,OAAOgD,OAAO2C,EAAI1D,UAAUgB,IAAI,SAAAC,GAAK,OACrCN,EAAAC,EAAAC,cAACiE,EAAD,CAAiBzI,IAAK4E,EAAMC,MAAOwC,IAAKzC,OAK5C,OAAOlD,OAAOgD,OAAOgB,GAAmBf,IAAI,SAAA0C,GAC3C,OAAIiB,GAAkBjB,EAAIxC,QAAUyD,EAC5B,KAEDhE,EAAAC,EAAAC,cAACiE,EAAD,CAAiBzI,IAAKqH,EAAIxC,MAAOwC,IAAKA,mGCPxC,SAAS2B,GAATzF,GASJ,IAAA0F,EAAA1F,EARF2F,iBAQE,IAAAD,EARU,GAQVA,EAAAE,EAAA5F,EAPF6F,mBAOE,IAAAD,EAPY,MAOZA,EAAAE,EAAA9F,EANF+F,gBAME,IAAAD,KALFE,EAKEhG,EALFgG,cACAC,EAIEjG,EAJFiG,WAIEC,EAAAlG,EAHFmG,sBAGE,IAAAD,EAHe,GAGfA,EAFFE,EAEEpG,EAFFoG,qBACAC,EACErG,EADFqG,WACEC,EACoCC,oBAAS,GAD7CC,EAAArI,OAAAsI,EAAA,EAAAtI,CAAAmI,EAAA,GACKI,EADLF,EAAA,GACkBG,EADlBH,EAAA,GAAAI,EAE0BL,mBAAS,IAFnCM,EAAA1I,OAAAsI,EAAA,EAAAtI,CAAAyI,EAAA,GAEKE,EAFLD,EAAA,GAEaE,EAFbF,EAAA,GAIIG,EAAmBC,aAAS,QAAAtF,OAASkE,GAAlBoB,CAAiCtB,GACpDuB,EAAsBF,EAAiB5F,IAAI,SAAA+F,GAAG,OAAIA,EAAIC,MAEtDC,EAAiBJ,aAAS,QAAAtF,OAASkE,GAAlBoB,CACtBd,EACEW,OAAO,SAAAQ,GAAQ,OAAKJ,EAAoBK,SAASD,EAASF,OAC1DN,OAAO,SAAAQ,GAAQ,MACf,CAAC,GAAIA,EAASzK,SAAUyK,EAASrK,UAC/BuK,OACAC,cACAF,SAAST,EAAOW,kBAGfC,EAA+B,QAAhB7B,EAerB,IAAM8B,EAAyB,SAAAL,GAAQ,OACtCvG,EAAAC,EAAAC,cAAA,UACC2G,KAAK,SACL1G,UAAU,2CACVqC,aAAYzG,IAAE+K,UACdnG,QAAS,kBAAMsE,EAAcsB,EAASF,OAEtCrG,EAAAC,EAAAC,cAAA,QAAMC,UAAU,4BAA4B4G,cAAY,WAO1D,SAASC,EACRT,GAEC,IADDU,EACCtL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GADiBiL,EAEZ9C,EACLyC,EAAQ,QAAA3F,OAASkE,KAAkByB,EAASzK,UAAYyK,EAASrK,SAClE,OACC8D,EAAAC,EAAAC,cAAA,MAAIC,UAAU,qCAAqCzE,IAAK6K,EAASF,KAChErG,EAAAC,EAAAC,cAAA,YACCF,EAAAC,EAAAC,cAAA,KACCgH,OAAO,SACPC,IAAI,sBACJC,KAAMb,EAASc,IACf7G,MAAO+F,EAAQ,cAAA3F,OAAekE,KAE7BhB,GAEF9D,EAAAC,EAAAC,cAAA,cA5CJ,SAA+BqG,GAC9B,IAAIe,EAMJ,OALIf,EAASe,cACZA,EAAc,IAAIC,KAAKC,eAAeC,eAAWC,OAChD,IAAIC,KAAKpB,EAASe,eAGb,CAACf,EAAS9B,KAAM6C,GAAavB,OAAO,SAAA6B,GAAG,QAAMA,IAAKnB,KAAK,KAqCrDoB,CAAsBtB,GAA5B,MAEAvB,IAAa2B,GAAgBM,EAAgBV,IAIjD,IAAMuB,EAA0B,cAAfxC,EAA6BvJ,IAAEgM,YAAchM,IAAEiM,QAC1DxH,EAAuB,cAAf8E,EAA6BvJ,IAAEkM,cAAgBlM,IAAEmM,UAC/D,OACClI,EAAAC,EAAAC,cAAAF,EAAAC,EAAAoE,SAAA,MACGO,EAAUhJ,OAAS,GAAKoJ,IAAahF,EAAAC,EAAAC,cAAA,UAAKM,GAC3CoE,GAAaA,EAAUhJ,OAAS,GAChCoE,EAAAC,EAAAC,cAAA,MAAIC,UAAU,4BACZ8F,EAAiB5F,IAAI,SAAAkG,GAAQ,OAAIS,EAAuBT,MAG1DvB,IAAa2B,GACb3G,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACdH,EAAAC,EAAAC,cAAA,UACC2G,KAAK,SACL1G,UAAU,4CACVqC,aAAYsF,EACZnH,QAAS,kBAAMiF,GAAgBD,KAE/B3F,EAAAC,EAAAC,cAAA,QACCC,UAAS,4BAAAS,OACR+E,EAAc,OAAS,SAExBoB,cAAY,SAEZe,EAAU,IACVzC,IAAyB8C,IACzBnI,EAAAC,EAAAC,cAAA,OAAKkI,IAAKC,IAASpG,MAAM,OAAOqG,IAAI,YAEpCtI,EAAAC,EAAAC,cAAA,QAAMC,UAAU,SAASmG,EAAe1K,UAI1C+J,GACA3F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACdH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,UAAUoI,QAAQ,kBACjCxM,IAAEwG,QAEJvC,EAAAC,EAAAC,cAAA,SACCC,UAAU,eACVzD,GAAG,iBACH4F,YAAavG,IAAEwG,OACfiG,MAAOzC,EACP0C,SAAU,SAAAC,GAAC,OAAI1C,EAAU0C,EAAExB,OAAOsB,WAGpCxI,EAAAC,EAAAC,cAAA,MAAIC,UAAU,6BACZmG,EAAejG,IAAI,SAAAkG,GACnB,OAAOS,EAAuBT,EAAU,SAAAA,GAAQ,OAC/CvG,EAAAC,EAAAC,cAAA,UACC2G,KAAK,SACL1G,UAAU,2CACVqC,aAAYzG,IAAE4M,OACdhI,QAAS,kBAAMuE,EAAWqB,KAE1BvG,EAAAC,EAAAC,cAAA,QACCC,UAAU,2BACV4G,cAAY,sBAclB6B,gMAEAhK,KAAKH,MAAM4G,uBAAyBwD,KACvCjK,KAAKH,MAAMqK,iDAIZ,OAAO9I,EAAAC,EAAAC,cAACwE,GAAkB9F,KAAKH,cAPIwC,aAW/B8H,GAAqB,CAC1BD,oBAacE,eAPS,SAACzJ,EAAO0J,GAC/B,MAAO,CACN5D,qBAAsB6D,aAA6B3J,GACnD6F,eAAgB+D,aAAuB5J,EAAO0J,EAAS3D,cAMxDyD,GAFcC,CAGbJ,2CCzLMtM,GAAmDD,EAAxCE,GAAwCF,EAAlC+M,GAAkC/M,EAA5BuG,GAA4BvG,EAAjBwG,GAAiBxG,EAE5C,SAASgN,GAATpK,GAUZ,IATFmC,EASEnC,EATFmC,kBACA4C,EAQE/E,EARF+E,eACAhB,EAOE/D,EAPF+D,WAOEsG,EAAArK,EANFvB,YAME,IAAA4L,EANK,GAMLA,EALFC,EAKEtK,EALFsK,WACAC,EAIEvK,EAJFuK,eACAC,EAGExK,EAHFwK,OAGEC,EAAAzK,EAFFiF,MAASD,EAEPyF,EAFOzF,IAAK0F,EAEZD,EAFYC,IACd1G,EACEhE,EADFgE,cAEM2G,ERIA,SAAsClM,GAE5C,OAD4BA,EAAKmM,oBAAsB,IAC5BjO,OAAS,GAAK8B,EAAKC,YQNLmM,CAA6BpM,GAEtE,SAASqM,EAAmBhH,GAAgD,IAA3C4D,EAA2ChL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAArBqI,EAAqBrI,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GACvE,OAAKoH,EAAIG,aAIPH,EAAIO,kBACJtD,EAAAC,EAAAC,cAAAF,EAAAC,EAAAoE,SAAA,KACEL,EAAe3H,YAAcE,IAC7ByH,EAAe2C,EAAe,WAAa,YAC3C3C,EAAewE,OACfxE,EAAe3H,YAAc+M,IAC7BY,YAAahG,EAAewE,OAC5BxE,EAAe3H,YAAcC,IAC7B0D,EAAAC,EAAAC,cAAAF,EAAAC,EAAAoE,SAAA,KACCrE,EAAAC,EAAAC,cAAA,OACC+J,wBAAyB,CACxBC,OAAQC,YACPnG,EAAe2C,EAAe,WAAa,gBAI7C3C,EAAeY,WACf5E,EAAAC,EAAAC,cAAAF,EAAAC,EAAAoE,SAAA,KACCrE,EAAAC,EAAAC,cAACkK,GAAD,CACCxF,UAAWZ,EAAeY,UAAUmB,OAAOsE,MAC3CvF,YAAa6B,EAAe,MAAQ,MACpCrB,WAAW,cAEZtF,EAAAC,EAAAC,cAACkK,GAAD,CACCxF,UAAWZ,EAAeY,UAAUmB,OAAOuE,MAC3CxF,YAAa6B,EAAe,MAAQ,MACpCrB,WAAW,YAMftB,EAAe3H,YAAcuG,IAC7BI,EAAWgB,EAAeP,WACzBzD,EAAAC,EAAAC,cAAA,YACE8D,EAAeP,SADjB,IAGET,EAAWgB,EAAeP,UAAUE,MAAM4G,KACzC,SAAA3G,GAAI,OAAIA,EAAKA,OAASI,EAAewE,QACpC1M,UAILkI,EAAe3H,YAAcwG,IAC7B7C,EAAAC,EAAAC,cAAA,aAGG+C,EAAcsH,KACb,SAAA1G,GAAI,OAAIA,EAAKnH,KAAOsH,EAAewE,SAC/B,IACJ1E,QArDA,KA8DT,SAASK,EAATC,GAAsD,IAA3BrB,EAA2BqB,EAA3BrB,IAA2ByH,EAAApG,EAAtBqG,kBAAsB,IAAAD,KACrD,OACCxK,EAAAC,EAAAC,cAAAF,EAAAC,EAAAoE,SAAA,KACCrE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WAAWzE,IAAKqH,EAAIxC,MAAO7D,GAAIqG,EAAIxC,OAChDkK,GAsEN,SAA0C1H,GACzC,OACCA,EAAIO,mBACFP,EAAIO,kBAAyD,IAArClG,OAAOc,KAAK6E,EAAI1D,UAAUzD,OAzElC8O,CAAiC3H,IAC/C/C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aACZ4C,EAAIxC,MADN,MACgBwC,EAAI/B,6BAGnB+B,EAAIO,kBACLtD,EAAAC,EAAAC,cAACoE,EAAA,EAAD,CACC9D,MAAK,GAAAI,OAAKmC,EAAIxC,MAAT,OAAAK,OAAoBmC,EAAI/B,4BAC7BuD,KAAMwF,EAAmBhH,GAAK,EAAOrF,EAAKM,QAAQ+E,EAAIxC,QACtDiE,QAASjH,EAAYwF,IAAQwG,GAC7B9E,KAAMR,EACNqE,IAAG,GAAA1H,OAAKmC,EAAIxC,MAAT,OAAAK,OAAoBmC,EAAIG,gBAG3BH,EAAIO,kBAAoB/F,EAAYwF,IAAQwG,GAC7CvJ,EAAAC,EAAAC,cAACoE,EAAA,EAAD,CACC9D,MAAK,GAAAI,OAAKmC,EAAIxC,MAAT,OAAAK,OAAoBmC,EAAI/B,4BAC7BuD,KAAMwF,EAAmBhH,GAAK,EAAMrF,EAAKM,QAAQ+E,EAAIxC,QACrDkE,KAAMkF,EACNrB,IAAG,GAAA1H,OAAKmC,EAAIxC,MAAT,OAAAK,OAAoBmC,EAAIK,gBAI7BhG,OAAOgD,OAAO2C,EAAI1D,UAAUgB,IAAI,SAAAC,GAAK,OACrCN,EAAAC,EAAAC,cAACiE,EAAD,CAAiBzI,IAAK4E,EAAMC,MAAOwC,IAAKzC,OAM5C,OACCN,EAAAC,EAAAC,cAAAF,EAAAC,EAAAoE,SAAA,KACCrE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,+BACdH,EAAAC,EAAAC,cAACyK,EAAA,EAAD,CAAQC,OAAQ,kBAAMnB,ERzFnB,SAAsB/L,GAC5B,OAAIA,EAAKC,YACR,yBAAAiD,OAAgClD,EAAKC,aAC3BD,EAAKE,SACf,sBAAAgD,OAA6BlD,EAAKE,UACxBF,EAAKG,YACf,yBAAA+C,OAAgClD,EAAKG,kBAD/B,EQoFyBgN,CAAanN,KAAQoG,MAAO/H,IAAE+O,YAC3D9K,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACfH,EAAAC,EAAAC,cAAC6K,GAAA,EAAD,CACCC,MAAO,CAACC,KAAOC,MACfC,mBAAoBvB,GAEpB5J,EAAAC,EAAAC,cAACkL,GAAA,EAAD,CACCR,OAAM,oBAAAhK,OAAsBlD,EAAKhB,GAA3B,cACN2O,IAAK,KAGPrL,EAAAC,EAAAC,cAAC6K,GAAA,EAAD,CAAMC,MAAO,CAACC,KAAOK,KAAmBJ,KAAgBK,OACvDvL,EAAAC,EAAAC,cAACyK,EAAA,EAAD,CACCC,OAAM,oBAAAhK,OAAsBlD,EAAKhB,GAA3B,WACNoH,MACC9D,EAAAC,EAAAC,cAAAF,EAAAC,EAAAoE,SAAA,KACCrE,EAAAC,EAAAC,cAAA,QACCC,UAAU,kCACV4G,cAAY,SAEb/G,EAAAC,EAAAC,cAAA,gBAAQnE,IAAEyP,gBAMfxL,EAAAC,EAAAC,cAACuL,EAAA,EAAD,CAAiBlC,WAAYA,EAAYd,SAAUe,IAElDpM,OAAOgD,OAAOgB,GAAmBf,IAAI,SAAA0C,GACrC,OAAIiB,GAAkBjB,EAAIxC,QAAUyD,EAC5B,KAEDhE,EAAAC,EAAAC,cAACiE,EAAD,CAAiBzI,IAAKqH,EAAIxC,MAAOwC,IAAKA,EAAK0H,YAAY,2DChK1DnO,WAAmDD,GAAxCE,GAAwCF,EAAlC+M,GAAkC/M,EAA5BuG,GAA4BvG,EAAjBwG,GAAiBxG,EA0K5CqP,8MAxJdC,gBAAkB,SAAAnD,GACjB9J,EAAKkN,cAALxO,OAAAE,EAAA,EAAAF,CAAA,GACEsB,EAAKD,MAAM8K,WAAa,WAAa,WAAaf,OAIrDqD,oBAAsB,SAAArD,GACrB9J,EAAKkN,cAAc,CAAEnI,SAAU/E,EAAKD,MAAMsE,IAAIU,SAAU+E,aAMzDsD,gBAAkB,SAAAtD,GACjB9J,EAAKkN,cAAc,CAAEpD,aAGtBuD,6BAA+B,SAAAlF,GAAI,OAAI,SAAAR,GACtC,IAAM2F,EAAUtN,EAAKD,MAAMuF,eAAe6C,IAAS,GAEnDnI,EAAKkN,cAALxO,OAAAE,EAAA,EAAAF,CAAA,GACEyJ,EAAOmF,EAAQjG,OAAO,SAAAK,GAAG,OAAIA,EAAIC,MAAQA,UAI5C4F,0BAA4B,SAAApF,GAAI,OAAI,SAAAqF,GACnC,IAAMF,EAAUtN,EAAKD,MAAMuF,eAAe6C,IAAS,GAEnDnI,EAAKkN,cAALxO,OAAAE,EAAA,EAAAF,CAAA,GACEyJ,EADF,GAAAjG,OAAAxD,OAAA+O,GAAA,EAAA/O,CACa4O,GADb,CACsBE,UAQvBE,qBAAuB,SAAA/F,GAAG,OACzB3H,EAAKqN,6BAA6B,YAAlCrN,CAA+C2H,MAMhDgG,kBAAoB,SAAA9F,GAAQ,OAC3B7H,EAAKuN,0BAA0B,YAA/BvN,CAA4C6H,iFApD/B+F,GACb1N,KAAKH,MAAM8N,aAAa,CACvB7P,GAAIkC,KAAKH,MAAMsE,IAAIxC,MACnB+L,8CAmDO,IAAA5M,EAQJd,KAAKH,MANRsE,EAFOrD,EAEPqD,IAFOyJ,EAAA9M,EAGPsE,sBAHO,IAAAwI,EAGU,GAHVA,EAIPjD,EAJO7J,EAIP6J,WACA9E,EALO/E,EAKP+E,KACAD,EANO9E,EAMP8E,MANOiI,EAAA/M,EAOPuD,qBAPO,IAAAwJ,EAOS,GAPTA,EASFC,EAAY9N,KAAKH,MAAMuE,WAAWD,EAAIU,WAAa,GAEnDkJ,GADQD,EAAU/I,OAAS,IACFtD,IAAI,SAAAuM,GAAC,MAAK,CACxC9I,MAAO8I,EAAE9Q,SACT0M,MAAOoE,EAAEhJ,QAEJiJ,EAAuB5J,EAAc5C,IAAI,SAAAuM,GAAC,MAAK,CACpD9I,MAAO8I,EAAE9I,MACT0E,MAAOoE,EAAElQ,MAGV,OACCsD,EAAAC,EAAAC,cAACoE,EAAA,EAAD,CACC9D,MAAK,GAAAI,OAAKmC,EAAIxC,MAAT,OAAAK,OAAoBmC,EAAI/B,4BAC7BwD,MAAOA,EACPC,KAAMA,EACN6D,IAAG,GAAA1H,OAAKmC,EAAIxC,MAAT,OAAAK,OACFmC,EAAIwG,EAAa,cAAgB,gBAElChF,MACExB,EAAIO,kBACJtD,EAAAC,EAAAC,cAAA,QAAMC,UAAU,aACd4C,EAAI1G,YAAcE,IAClByD,EAAAC,EAAAC,cAAC4M,GAAA,EAAD,CACCpQ,GAAIqG,EAAIxC,MACRiI,MAAOxE,EAAeuF,EAAa,WAAa,YAChDgD,aAAc3N,KAAK+M,gBACnBoB,MAAO,CACNvK,aAAczG,IAAEiR,aAIlBjK,EAAI1G,YAAcwG,IAClB7C,EAAAC,EAAAC,cAAC+M,GAAA,EAAD,CACC3K,YAAY,GACZnC,UAAU,eACVqI,MAAOxE,EAAewE,MACtB0E,QAASL,EACTpE,SAAU7J,KAAKiN,sBAGhB9I,EAAI1G,YAAc+M,IAClBpJ,EAAAC,EAAAC,cAACiN,GAAA,EAAD,CACC3K,aAAYzG,IAAEiR,UACdtQ,GAAIqG,EAAIxC,MACR6M,MAAO,GACP5E,MAAOxE,EAAewE,MACtBC,SAAU7J,KAAKiN,sBAGhB9I,EAAI1G,YAAcC,IAClB0D,EAAAC,EAAAC,cAAAF,EAAAC,EAAAoE,SAAA,KACCrE,EAAAC,EAAAC,cAACmN,GAAA,EAAD,CACC7K,aAAYzG,IAAEiR,UACdzI,KAAMP,EAAeuF,EAAa,WAAa,YAC/CgD,aAAc3N,KAAK+M,kBAEpB3L,EAAAC,EAAAC,cAACkK,GAAD,CACCxF,WAAYZ,EAAeY,WAAa,IAAImB,OAC3CsE,MAEDvF,YAAayE,EAAa,MAAQ,MAClCvE,UAAU,EACVC,cAAerG,KAAKwN,qBACpBlH,WAAYtG,KAAKyN,kBACjB/G,WAAW,cAEZtF,EAAAC,EAAAC,cAACkK,GAAD,CACCxF,WAAYZ,EAAeY,WAAa,IAAImB,OAAOuE,MACnDxF,YAAayE,EAAa,MAAQ,MAClCvE,UAAU,EACVC,cAAerG,KAAKwN,qBACpBlH,WAAYtG,KAAKyN,kBACjB/G,WAAW,WAKbvC,EAAI1G,YAAcuG,IAAa8J,GAC/B1M,EAAAC,EAAAC,cAAC+M,GAAA,EAAD,CACC3K,YAAY,GACZE,aAAYkK,EAAUhJ,iBACtBvD,UAAU,eACVqI,MAAOxE,EAAewE,MACtB0E,QAASP,EACTlE,SAAU7J,KAAKiN,gCA7JJyB,sCC+NLC,eAlNd,SAAAA,EAAY9O,GAAO,IAAAC,EAAAtB,OAAAuB,EAAA,EAAAvB,CAAAwB,KAAA2O,IAClB7O,EAAAtB,OAAAyB,EAAA,EAAAzB,CAAAwB,KAAAxB,OAAA0B,EAAA,EAAA1B,CAAAmQ,GAAAxO,KAAAH,KAAMH,KA6BP8N,aAAe,SAAA7D,GACdhK,EAAKS,SAAS,SAAAI,GAAK,OAAAnC,OAAAC,EAAA,EAAAD,CAAA,GACfmC,EADe,CAElB7B,KAAKN,OAAAC,EAAA,EAAAD,CAAA,GACDmC,EAAM7B,KADNN,OAAAE,EAAA,EAAAF,CAAA,GAEFsL,EAAEhM,GAFAU,OAAAC,EAAA,EAAAD,CAAA,GAGCmC,EAAM7B,KAAKgL,EAAEhM,IACbgM,EAAE4D,iBArCU5N,EA2CnB8O,eAAiB,SAAAhF,GAChB9J,EAAKS,SAAS,CACbsO,SAAUjF,KA7CO9J,EAiDnBgP,aAAe,SAAAhF,GAAK,IAAAiF,EVCWC,EUA9BlF,EAAEmF,iBACFnF,EAAEoF,kBACFpP,EAAKS,SAAS,CAAE4O,QAAQ,IAExBrP,EAAKD,MAAMuP,UAAXL,EAAA,CAEEjR,GAAIgC,EAAKD,MAAMV,OAASO,GAAYI,EAAKD,MAAMf,KAAKhB,GAAK,GACzDZ,SAAU4C,EAAKD,MAAMV,OAASO,GAAYI,EAAKD,MAAMf,KAAK5B,SAAW,GACrEI,SAAUwC,EAAKD,MAAMV,OAASO,GAAYI,EAAKD,MAAMf,KAAKxB,SAAW,IAJvEkB,OAAAE,EAAA,EAAAF,CAAAuQ,EVHkB,eADYC,EUSXlP,EAAKD,MAAMmP,YVPvB,cAEW,WAAfA,EACI,WAEW,cAAfA,EACI,mBADR,EUE6ClP,EAAKa,MAAMkO,UALvDrQ,OAAAE,EAAA,EAAAF,CAAAuQ,EAAA,UAMWvQ,OAAOgD,OAAO1B,EAAKa,MAAM7B,OANpCiQ,GAQC,SAAAjR,GACCgC,EAAKS,SAAS,CAAE4O,QAAQ,IACxBrP,EAAKD,MAAMgL,OAAX,oBAAA7I,OAAsClE,OAhEtBgC,EAqEnB+K,OAAS,WAAM,IAAA/J,EACuBhB,EAAKD,MAAlCgL,EADM/J,EACN+J,OAAQ/L,EADFgC,EACEhC,KAAMkQ,EADRlO,EACQkO,WACdH,EAAa/O,EAAKa,MAAlBkO,SACRhE,EACC/L,EAAKhB,GAAL,oBAAAkE,OACuBlD,EAAKhB,IAD5B,eAAAkE,OAEkBgN,EAFlB,KAAAhN,OAEgC6M,KA3Ef,IAAAQ,EAGuBvP,EAAKD,MAAtC2C,EAHU6M,EAGV7M,kBAHU8M,EAAAD,EAGSvQ,YAHT,IAAAwQ,EAGgB,GAHhBA,EAIZC,EX8BD,SAASC,EAAYC,GAC3B,OAAKA,EAGEjR,OAAOc,KAAKmQ,GAAMlQ,OAAO,SAACC,EAAK1C,GACrC,OAAO0B,OAAAC,EAAA,EAAAD,CAAA,GACHgB,EADJhB,OAAAE,EAAA,EAAAF,CAAA,GAEE1B,EAFF0B,OAAAC,EAAA,EAAAD,CAAA,GAGKiR,EAAK3S,KAEN0S,EAAYC,EAAK3S,GAAK2D,YAExB,IAVK,KWhCkB+O,CAAYhN,GAJnB,OAMlB1C,EAAKa,MAAQ,CACZwO,QAAQ,EACRN,SACC/O,EAAKD,MAAMV,OAASO,GACjBI,EAAKD,MAAMgP,UAAYhQ,EAAYiB,EAAKD,MAAMf,MAC9C,GACJA,KAAKN,OAAAC,EAAA,EAAAD,CAAA,GACDA,OAAOc,KAAKiQ,GAAkBhQ,OAAO,SAACC,EAAK1C,GAC7C,OAAO0B,OAAAC,EAAA,EAAAD,CAAA,GACHgB,EADJhB,OAAAE,EAAA,EAAAF,CAAA,GAEE1B,EAAM,CACNW,UAAW8R,EAAiBzS,GAAKW,UACjCiS,YAAa5S,EACb8M,MAAO,GACP1M,SAAU,GACVI,SAAU,OAGV,IACA4B,EAA2BW,EAAMV,KAAML,EAAKM,WAzB/BU,wEA8EV,IAAAe,EAAAb,KAAA2P,EASJ3P,KAAKH,MAPR2C,EAFOmN,EAEPnN,kBACA4B,EAHOuL,EAGPvL,WACAwG,EAJO+E,EAIP/E,eACAD,EALOgF,EAKPhF,WACAxL,EANOwQ,EAMPxQ,KANOyQ,EAAAD,EAOPrK,MAASD,EAPFuK,EAOEvK,IAAK0F,EAPP6E,EAOO7E,IACd1G,EAROsL,EAQPtL,cAROwL,EAUmB7P,KAAKW,MAAxB7B,EAVA+Q,EAUA/Q,KAAM+P,EAVNgB,EAUMhB,SACRiB,GAAqB9P,KAAKH,MAAMf,KAAKmM,oBAAsB,IAAIxJ,IACpE,SAAAsO,GAAE,MAAK,CACN7K,MAAO6K,EAAG7S,SACV0M,MAAOmG,EAAGjS,MAGZ,SAASyH,EAAgBpB,EAAKwJ,GAAkC,IAApB9B,EAAoB9O,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAC/D,OACCqE,EAAAC,EAAAC,cAACF,EAAAC,EAAMoE,SAAP,CAAgB3I,IAAKqH,EAAIxC,OACxBP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WAAWzD,GAAIqG,EAAIxC,OAChCkK,GVtBA,SAA0C1H,GAChD,OACCA,EAAIO,mBACFP,EAAIO,kBAAyD,IAArClG,OAAOc,KAAK6E,EAAI1D,UAAUzD,OUmBjC8O,CAAiC3H,IAC/C/C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aACZ4C,EAAIxC,MADN,MACgBwC,EAAI/B,6BAGnB+B,EAAIO,kBACLtD,EAAAC,EAAAC,cAAC0O,GAAD,CACC7L,IAAKA,EACLiB,eAAgBtG,EAAKqF,EAAIxC,OACzBgM,aAAcA,EACdvJ,WAAYA,EACZuG,YAAY,EACZ9E,KAAMR,EACNO,OAAQjH,EAAYwF,KAASwG,EAC7BtG,cAAeA,KAGfF,EAAIO,kBAAoB/F,EAAYwF,IAAQwG,GAC7CvJ,EAAAC,EAAAC,cAAC0O,GAAD,CACC7L,IAAKA,EACLiB,eAAgBtG,EAAKqF,EAAIxC,OACzBgM,aAAcA,EACdvJ,WAAYA,EACZuG,YAAY,EACZ9E,KAAMkF,EACNnF,OAAO,EACPvB,cAAeA,KAIjB7F,OAAOgD,OAAO2C,EAAI1D,UAAUgB,IAAI,SAAAC,GAAK,OACrC6D,EAAgB7D,EAAOiM,MAM3B,OAAI3N,KAAKW,MAAMwO,OAEb/N,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACdH,EAAAC,EAAAC,cAAC2O,GAAA5O,EAAD,CACC4G,KAAK,kBACLiI,MAAO,EACPC,OAAO,MACP9M,MAAM,SAMTjC,EAAAC,EAAAC,cAAA,YACCF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACdH,EAAAC,EAAAC,cAACyK,EAAA,EAAD,CACCC,OAAQhM,KAAK6K,OACb3F,MACC9D,EAAAC,EAAAC,cAACF,EAAAC,EAAMoE,SAAP,KACCrE,EAAAC,EAAAC,cAAA,QACCC,UAAU,oCACV4G,cAAY,SAEb/G,EAAAC,EAAAC,cAAA,gBAAQnE,IAAEiT,cAIbhP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACfH,EAAAC,EAAAC,cAACyK,EAAA,EAAD,CACCC,OAAQhM,KAAK8O,aACb5J,MACC9D,EAAAC,EAAAC,cAACF,EAAAC,EAAMoE,SAAP,KACCrE,EAAAC,EAAAC,cAAA,QACCC,UAAU,kCACV4G,cAAY,SAEb/G,EAAAC,EAAAC,cAAA,gBAAQnE,IAAEkT,UAGZ5D,IAAK,KAINjO,OAAOgD,OAAOgB,GAAmBf,IAAI,SAAC0C,EAAKmM,GAC3C,OACClP,EAAAC,EAAAC,cAAA,OAAKxE,IAAKqH,EAAIxC,OACF,IAAV2O,GACAlP,EAAAC,EAAAC,cAACF,EAAAC,EAAMoE,SAAP,KACCrE,EAAAC,EAAAC,cAACuL,EAAA,EAAD,CACClC,WAAYA,EACZd,SAAUe,IAED,cAATzL,GACAiC,EAAAC,EAAAC,cAAA,OAAKxD,GAAG,mBAAmByD,UAAU,uBACpCH,EAAAC,EAAAC,cAAC+M,GAAA,EAAD,CACCzE,MAAOiF,EACPnL,YAAavG,IAAEoT,gBACfjC,QAASwB,EACTjG,SAAUhJ,EAAK+N,eACf4B,YAAU,MAMdjL,EAAgBpB,EAAKtD,EAAK8M,cAAc,cAnNrB8C,IAAMpO,mGCU3BqO,GAAYC,aAAa,MACzBC,GAAkBD,aAAa,YAMxBjR,GAAY,YAEnBmR,GAAkB,CACvBC,UAAW,CACVC,KAAM,iBAEPC,OAAQ,CAAED,KAAM,aAChBE,UAAW,CAAEF,KAAM,kBAEdG,8MAyBLC,eAAiB,SAAA1I,GAChB3I,EAAKD,MAAMuR,QAAQC,KAAK5I,+EANb3K,GACX,IAAMkR,EAAahP,KAAKH,MAAMyR,MAAMC,OAAO,GAC3C,OAAOvR,KAAKH,MAAMgR,GAAgB7B,GAAY+B,MAAMjT,+CAQhDkC,KAAKH,MAAM2R,0BAA4BC,KAC1CzR,KAAKH,MAAM6R,wBAEP1R,KAAKH,MAAM8R,YAAY7T,IAC3BkC,KAAKH,MAAM+R,SAAS5R,KAAKH,MAAM/B,IAE3BkC,KAAKH,MAAMgS,gBACf7R,KAAK8R,YAAY9R,KAAKH,MAAMgP,4DAIJkD,GACpBA,EAAUJ,YAAY7T,IAAMkC,KAAKH,MAAM/B,KAAOiU,EAAUjU,IAC5DkC,KAAKH,MAAM+R,SAASG,EAAUjU,IAE1BiU,EAAUF,gBACd7R,KAAK8R,YAAYC,EAAUlD,2CAGpB,IAAA/N,EAgBJd,KAAKH,MAdR2C,EAFO1B,EAEP0B,kBACAgP,EAHO1Q,EAGP0Q,wBACApN,EAJOtD,EAIPsD,WAJO4N,EAAAlR,EAKP3B,YALO,IAAA6S,EA9DU,OA8DVA,EAMP/Q,EANOH,EAMPG,QACAgR,EAPOnR,EAOPmR,SACApD,EARO/N,EAQP+N,SACA1N,EATOL,EASPK,qBACAyJ,EAVO9J,EAUP8J,eACAtF,EAXOxE,EAWPwE,MACAqF,EAZO7J,EAYP6J,WACAgH,EAbO7Q,EAaP6Q,YACAtN,EAdOvD,EAcPuD,cACA2K,EAfOlO,EAePkO,WAED,OACCwC,IAA4BC,KA9EX,SA+EhBtS,IAAkBwS,EAAY7T,GAExBsD,EAAAC,EAAAC,cAAC4Q,EAAA,EAAD,CAASC,SAAS,YAGzB/Q,EAAAC,EAAAC,cAAC8Q,EAAD,CACC5P,kBAAmBA,EACnB4C,eAAgBpF,KAAKH,MAAMyR,MAAMC,OAAOc,UACxC9P,mBAzFgB,SAyFIpD,EACpB8B,QAASA,EACTE,qBAAsBA,GA3FN,SA6FfhC,GAAiBA,IAASO,IAC1B0B,EAAAC,EAAAC,cAACgR,GAAA,EAAD,CACCC,SAAUZ,EAAYzU,SACtBsV,SAAUb,EAAYrU,SACtBqN,WAAYA,IAjGE,SAoGfxL,GACAiC,EAAAC,EAAAC,cAAC6D,EAAD,CACC3C,kBAAmBA,EACnB4B,WAAYA,EACZgB,eAAgBpF,KAAKH,MAAMyR,MAAMC,OAAOc,UACxC/M,MAAOA,EACPjB,cAAeA,IAxGD,SA4GflF,GACAiC,EAAAC,EAAAC,cAACmJ,GAAD,CACC3L,KAAM6S,EACNnP,kBAAmBA,EACnB4B,WAAYA,EACZC,cAAeA,EACfe,eAAgBpF,KAAKH,MAAMyR,MAAMC,OAAOc,UACxCzH,eAAgBA,EAChBtF,MAAOA,EACPqF,WAAYA,EACZE,OAAQ7K,KAAKmR,kBAvHG,WA0HhBhS,GAxHgB,WAwHGA,GAAmBA,IAASO,KAChD0B,EAAAC,EAAAC,cAACmR,GAAD,CACC3T,KAAM6S,EACNnP,kBAAmBA,EACnB4B,WAAYA,EACZgL,SAAU6C,EACVpD,SAAUA,EACVjE,eAAgBA,EAChBtF,MAAOA,EACPqF,WAAYA,EACZE,OAAQ7K,KAAKmR,eACbhS,KAAMA,EACNkF,cAAeA,EACf2K,WAAYA,YA3HS3M,aAArB6O,GAgBEwB,aAAe,CACrBf,YAAa,IAkHR,IAyEDxH,GAAqB,CAC1BuH,sBCpPc,kBAAM,SAACiB,EAAUC,GAK/B,OAJAD,EAAS,CACR1K,KAAM4K,KACNC,QAAS,KAEHC,QAAQC,IAAI,CAClBC,IAAIC,2BACJD,IAAIE,8BACFC,KACF,SAAA/S,GAA6C,IAAAmF,EAAAhH,OAAAsI,EAAA,EAAAtI,CAAA6B,EAAA,GAA3CgT,EAA2C7N,EAAA,GAAxB8N,EAAwB9N,EAAA,GAYtC+N,EbIF,SAASC,EAAQC,EAAO5E,EAAU6E,GACxC,OAAOD,EACLtM,OAAO,SAAAhD,GAAG,OAAIA,EAAI0K,WAAaA,IAC/B8E,KAAK,SAACC,EAAMC,GAIZ,OAHeC,SAASF,EAAKjS,MAAMoS,OAAO,GAAG3W,QAAQ,IAAK,IAAK,IAChD0W,SAASD,EAAKlS,MAAMoS,OAAO,GAAG3W,QAAQ,IAAK,IAAK,MAI/DmC,OAAO,SAACC,EAAK2E,GACb,IAAM6P,EAAaN,EAAcvP,EAAIxC,QAAU,GAC/C,OAAOnD,OAAAC,EAAA,EAAAD,CAAA,GACHgB,EADJhB,OAAAE,EAAA,EAAAF,CAAA,GAEE2F,EAAIxC,MAFNnD,OAAAC,EAAA,EAAAD,CAAA,GAGK2F,EAHL,CAIE/B,2BAA4B6R,cACzB9P,EAAIK,YACJL,EAAIG,YACPI,iBAAkBsP,EAAWtP,mBAAoB,EACjDjH,UAAWuW,EAAWvW,UACtBoH,SAAUmP,EAAWnP,SACrBpE,SAAU+S,EAAQC,EAAOtP,EAAIxC,MAAO+R,QAGpC,Ia5B4BF,CAC7BH,OACApW,EAbgCqW,EAAmB/T,OACnD,SAACC,EAAK0U,GACL,OAAO1V,OAAAC,EAAA,EAAAD,CAAA,GACHgB,EADJhB,OAAAE,EAAA,EAAAF,CAAA,GAEE0V,EAAKpW,GAFPU,OAAAC,EAAA,EAAAD,CAAA,GAGK0V,MAIN,KAQKpG,EAAY,IAAIqG,IACtBb,EACEnM,OAAO,SAAA+M,GAAI,OAAIA,EAAKrP,WACpBpD,IAAI,SAAAyS,GAAI,OAAIA,EAAKrP,WACjBsC,OACA,SAAAnC,GAAI,OACHxG,OAAOc,KAAKsT,IAAWwB,oBAAoBC,SAAS1U,QAAQqF,GAC5D,IAEDsP,QAAQ,SAAAtP,GAAI,OAAI8I,EAAUyG,IAAIvP,KAChCwP,YAAc1G,EAAW6E,GAEzBA,EAAS,CACR1K,KAAM4K,KACNC,QAAS,CAAEuB,QAASd,MAGtB,SAAAkB,GAAG,OACF9B,EAAS,CACR1K,KAAM4K,KACNC,QAAS,CAAE2B,aDsMd7C,SPrKc,SAAA9T,GAAE,OAAI,SAAC6U,EAAUC,GAC/B,GAAK9U,GAAM8U,IAAW8B,8BAAgCnL,IAUtD,OAPAoJ,EAAS,CACR1K,KAAM4K,KACNC,QAAS,CACRhV,QAIKmV,IAAI0B,QAAQ7W,GAAIsV,KACtB,SAAAiB,GACC,OAtB4BtV,EAsBCsV,EAAQtV,YArBnCA,EACIkU,IACL2B,aAAa7V,GACbqU,KAAK,SAAAtC,GAAS,OAAImC,IAAI4B,2BAA2B/D,EAAUE,OAAOlT,MAE9DiV,QAAQ+B,QAAQ,KAgB6B1B,KACjD,WAA6B,IAA5BnI,EAA4BlO,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GACrB4V,EAAS,CACR1K,KAAM4K,KACNC,QAAQtU,OAAAC,EAAA,EAAAD,CAAA,GACJ6V,EADG,CAENpJ,qBACA7L,QAASiV,EAAQjV,QAAQG,OAAO,SAACC,EAAKuV,GACrC,OAAOvW,OAAAC,EAAA,EAAAD,CAAA,GACHgB,EADJhB,OAAAE,EAAA,EAAAF,CAAA,GAEEuW,EAAOrF,YAFTlR,OAAAC,EAAA,EAAAD,CAAA,GAGKuW,EAHL,CAIEpT,MAAOoT,EAAOrF,iBAGd,UArCV,IAA+B3Q,GA4C7B,SAAA0V,GACC9B,EAAS,CACR1K,KAAM4K,KACNC,QAAS,CAAE2B,aOgIdxC,SP9MuB,SAACnT,EAAMkW,GAAP,OAAoB,SAAArC,GAC3C,IAAIsC,EAAUlC,QAAQ+B,QAAQhW,GAEzBA,EAAK5B,WACT+X,EArCF,SAA+BnW,EAAMmW,GACpC,SAASC,EAAYrY,EAAQmS,GAC5B,OAAOxQ,OAAAC,EAAA,EAAAD,CAAA,GACHM,EACAlC,EAAoBC,EAAQmS,IAGjC,OAAIlQ,EAAKC,YACDkU,IACL2B,aAAa9V,EAAKC,aAClBqU,KAAK,SAAAvW,GAAM,OAAIqY,EAAYrY,EAAQ,eAElCiC,EAAKE,SACDiU,IACLkC,SAASrW,EAAKE,UACdoU,KAAK,SAAAvW,GAAM,OAAIqY,EAAYrY,EAAQ,YAElCiC,EAAKG,YACDgU,IACLmC,aAAatW,EAAKG,aAClBmU,KAAK,SAAAvW,GAAM,OAAIqY,EAAYrY,EAAQ,eAE/BoY,EAeII,CAAsBvW,EAAMmW,IAGvC,IAAMK,EAASxW,EAAKhB,GAAK,UAAY,WAKrC,OAJA6U,EAAS,CACR1K,KAAM4K,KACNC,QAAShU,IAEHmW,EAAQ7B,KAAK,SAAAtU,GACnB,OAAOmU,IAAIqC,GAAQxW,GAAMsU,KACxB,SAAAiB,GACC1B,EAAS,CACR1K,KAAM4K,KACNC,QAAShU,IAEVkW,EAASX,GAAWvV,EAAKhB,KAE1B,SAAA2W,GACC9B,EAAS,CACR1K,KAAM4K,KACNC,QAAS,CAAE2B,eOuLfc,mBACAC,eACAC,mBACA7K,qBAGc8K,gBACdC,IACAvL,YArF8B,SAACzJ,EAAO0J,GACtC,IAAK1J,EAAMiV,gCACV,MAAO,CACNpE,wBAAyBvH,IACzBzH,kBAAmB,IAJ8B,IAiC/CqM,EAjC+CgH,EAW/ClV,EAAMiV,gCAFApT,EATyCqT,EASlDxB,QACQ7C,EAV0CqE,EAUlD1S,OAGKrF,EAAK4S,GAAUrG,GAqBrB,IACI2E,EXpJyBlQ,EWmJzB6S,EAAc,GAEdE,GAAiB,EACrB,OAAQxH,EAASlL,MAChB,IAtLkB,OAuLjBwS,EAAc,GACd,MACD,IAxLoB,SAyLnB9C,EAAW+B,GAAgBvG,GAD5B,IAAAyL,EA1BD,SAA0B9G,GACzB,MAAmB,cAAfA,EACI,CACN+G,KAAoBpV,GACpBA,EAAMqV,kCAGW,WAAfhH,EACI,CAAC+G,KAAgBpV,GAAQA,EAAMsV,+BAEpB,cAAfjH,EACI,CACN+G,KAAoBpV,GACpBA,EAAMqV,uCAHR,EAmB8CE,CAD7ClH,EAAa3E,EAASiH,MAAMC,OAAO,IAFpC4E,EAAA3X,OAAAsI,EAAA,EAAAtI,CAAAsX,EAAA,GAGQM,EAHRD,EAAA,GAGuBE,EAHvBF,EAAA,GAICxE,EAAWnT,OAAAC,EAAA,EAAAD,CAAA,GACP5B,EAAoBwZ,EAAepH,IAEvC6C,EACCwE,IAAwBpM,KAAcmM,EAActY,KAAO+Q,EAC5D,MACD,QACC8C,EAAcoE,KAAgCpV,GAC9CqO,GXtK2BlQ,EWsKA6S,GXrKpB5S,YACD,YAEJD,EAAKE,SACD,SAEJF,EAAKG,YACD,iBADR,EWgKE4P,EAAWhQ,EAAY8S,GAIzB,MAAO,CACNrM,MAAOyQ,KAAgBpV,GACvBgK,WAAY2L,aAAc3V,GAC1B6B,oBACAgP,0BACAG,YAAc7T,GAAM6T,EAAY7T,KAAOA,EAAmB,GAAd6T,EAC5CE,iBACA/T,KACA+Q,WACAzK,WAAYmS,aAAuB5V,GACnC0D,cAAemS,aAA2B7V,GAC1CqO,eAkBA7E,IAJauL,CAMbxE,IE/PauF,EAAA,mBACd,OACCrV,EAAAC,EAAAC,cAACoV,EAAA,EAAD,KACCtV,EAAAC,EAAAC,cAACqV,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,mBAAmBC,UAAW5F,KAChD9P,EAAAC,EAAAC,cAACqV,EAAA,EAAD,CACCC,OAAK,EACLC,KAAK,8BACLC,UAAW5F,KAEZ9P,EAAAC,EAAAC,cAACqV,EAAA,EAAD,CACCC,OAAK,EACLC,KAAK,iEACLE,OAAQ,SAAAlX,GACP,OACCuB,EAAAC,EAAAC,cAAC0V,GAAD,CACC7X,KFQe,SEPf8B,QAAO,eAAAe,OAAiBnC,EAAMyR,MAAMC,OAAO,GAApC,KAAAvP,OACNnC,EAAMyR,MAAMC,OAAO1C,SADb,gBAGP1N,sBAAoB,OAKxBC,EAAAC,EAAAC,cAACqV,EAAA,EAAD,CACCC,OAAK,EACLC,KAAK,uBACLE,OAAQ,SAAAlX,GAAK,OACZuB,EAAAC,EAAAC,cAAC0V,GAAD,CACC7X,KFLc,OEMd8B,QAAO,oBAAAe,OAAsBnC,EAAMyR,MAAMC,OAAOzT,GAAzC,kBAIVsD,EAAAC,EAAAC,cAACqV,EAAA,EAAD,CACCC,OAAK,EACLC,KAAK,8BACLE,OAAQ,SAAAlX,GAAK,OACZuB,EAAAC,EAAAC,cAAC0V,GAAD,CACC7X,KFdgB,SEehBgC,sBAAoB,EACpBF,QAAO,oBAAAe,OAAsBnC,EAAMyR,MAAMC,OAAOzT,GAAzC,gBAIVsD,EAAAC,EAAAC,cAACqV,EAAA,EAAD,CACCC,OAAK,EACLC,KAAK,iCACLE,OAAQ,SAAAlX,GAAK,OACZuB,EAAAC,EAAAC,cAAC0V,GAAD,CACC7X,KAAMO,GACNyB,sBAAoB,EACpBF,QAAO,oBAAAe,OAAsBnC,EAAMyR,MAAMC,OAAOzT,GAAzC,mBAIVsD,EAAAC,EAAAC,cAACqV,EAAA,EAAD,CACCC,OAAK,EACLC,KAAK,0CACLE,OAAQ,SAAAlX,GAAK,OACZuB,EAAAC,EAAAC,cAAC0V,GAAD,CACC7X,KFrCc,OEsCd8B,QAAO,oBAAAe,OAAsBnC,EAAMyR,MAAMC,OAAOzT,GAAzC,4ICjEb,SAAAmZ,EAAAC,EAAA/W,GACA,IAAA+W,EACA,UAAAC,eAAA,6DAGA,OAAAhX,GAAA,kBAAAA,GAAA,oBAAAA,EAAA+W,EAAA/W,EA4BA,IAAIiX,EAAU,SAAAC,GAGd,SAAAC,IACA,IAAAC,EAAAzX,GA3CA,SAAA0X,EAAAC,GACA,KAAAD,aAAAC,GACA,UAAAC,UAAA,qCA2CAC,CAAA3X,KAAAsX,GAEA,QAAAM,EAAA7a,UAAAC,OAAA6a,EAAAC,MAAAF,GAAAG,EAAA,EAAmEA,EAAAH,EAAaG,IAChFF,EAAAE,GAAAhb,UAAAgb,GAGA,OAAAR,EAAAzX,EAAAmX,EAAAjX,KAAAqX,EAAAlX,KAAA6X,MAAAX,EAAA,CAAArX,MAAAgC,OAAA6V,KAAA/X,EAAAsR,QAAkK5S,OAAAyZ,EAAA,EAAAzZ,CAAasB,EAAAD,OAAAoX,EAAAnX,EAAAyX,GAc/K,OAnDA,SAAAW,EAAAC,GACA,uBAAAA,GAAA,OAAAA,EACA,UAAAT,UAAA,kEAAAS,GAGAD,EAAAE,UAAA5Z,OAAA6Z,OAAAF,KAAAC,UAAA,CACAE,YAAA,CACA1O,MAAAsO,EACAK,YAAA,EACAC,UAAA,EACAC,cAAA,KAGAN,IAAA3Z,OAAAka,eAAAla,OAAAka,eAAAR,EAAAC,GAAAD,EAAAS,UAAAR,GAaAS,CAAAtB,EAAAD,GAcAC,EAAAc,UAAAS,mBAAA,WACIC,KAAO9Y,KAAAH,MAAAuR,QAAA,0IAGXkG,EAAAc,UAAArB,OAAA,WACA,OAAW3V,EAAAC,EAAKC,cAAeyX,EAAA,EAAM,CACrC3H,QAAApR,KAAAoR,QACA3Q,SAAAT,KAAAH,MAAAY,YAIA6W,EA1Bc,CA2BZlW,EAAAC,EAAKgB,WAEP+U,EAAU4B,UAAA,CACVC,SAAYC,EAAA7X,EAAS8X,OACrBC,oBAAuBF,EAAA7X,EAASgY,KAChCC,SAAYJ,EAAA7X,EAASkY,MAAA,gCACrB9Y,SAAYyY,EAAA7X,EAASmY,MAEN,IAAAC,EAAA,qCCpEf,SAASC,EAA0BxC,EAAA/W,GACnC,IAAA+W,EACA,UAAAC,eAAA,6DAGA,OAAAhX,GAAA,kBAAAA,GAAA,oBAAAA,EAAA+W,EAAA/W,EA4BA,IAAIwZ,EAAY,SAAAtC,GAGhB,SAAAuC,IACA,IAAArC,EAAAzX,GA3CA,SAAwB0X,EAAAC,GACxB,KAAAD,aAAAC,GACA,UAAAC,UAAA,qCA2CImC,CAAe7Z,KAAA4Z,GAEnB,QAAAhC,EAAA7a,UAAAC,OAAA6a,EAAAC,MAAAF,GAAAG,EAAA,EAAmEA,EAAAH,EAAaG,IAChFF,EAAAE,GAAAhb,UAAAgb,GAGA,OAAAR,EAAAzX,EAAoC4Z,EAA0B1Z,KAAAqX,EAAAlX,KAAA6X,MAAAX,EAAA,CAAArX,MAAAgC,OAAA6V,KAAA/X,EAAAsR,QAAoG5S,OAAAyZ,EAAA,EAAAzZ,CAAasB,EAAAD,OAAuB6Z,EAA0B5Z,EAAjDyX,GAc/K,OAnDA,SAAkBW,EAAAC,GAClB,uBAAAA,GAAA,OAAAA,EACA,UAAAT,UAAA,kEAAAS,GAGAD,EAAAE,UAAA5Z,OAAA6Z,OAAAF,KAAAC,UAAA,CACAE,YAAA,CACA1O,MAAAsO,EACAK,YAAA,EACAC,UAAA,EACAC,cAAA,KAGAN,IAAA3Z,OAAAka,eAAAla,OAAAka,eAAAR,EAAAC,GAAAD,EAAAS,UAAAR,GAaE2B,CAASF,EAAAvC,GAcXuC,EAAAxB,UAAAS,mBAAA,WACIkB,KAAO/Z,KAAAH,MAAAuR,QAAA,8IAGXwI,EAAAxB,UAAArB,OAAA,WACA,OAAW3V,EAAAC,EAAKC,cAAe0Y,EAAA,EAAM,CACrC5I,QAAApR,KAAAoR,QACA3Q,SAAAT,KAAAH,MAAAY,YAIAmZ,EA1BgB,CA2BdxY,EAAAC,EAAKgB,WAEPsX,EAAYX,UAAA,CACZiB,eAAkBf,EAAA7X,EAAS6Y,MAC3BC,aAAgBjB,EAAA7X,EAAS+Y,OACzBhB,oBAAuBF,EAAA7X,EAASgY,KAChCgB,UAAanB,EAAA7X,EAAS+Y,OACtB3Z,SAAYyY,EAAA7X,EAASmY,MAEN,ICzEAc,EDyEA,WE3EfC,EAAA/b,OAAAgc,QAAA,SAAAlS,GACA,QAAAmS,EAAA,EAAiBA,EAAA1d,UAAAC,OAAsByd,IAAA,CACvC,IAAAC,EAAA3d,UAAA0d,GAEA,QAAA3d,KAAA4d,EACAlc,OAAA4Z,UAAAuC,eAAAxa,KAAAua,EAAA5d,KACAwL,EAAAxL,GAAA4d,EAAA5d,IAKA,OAAAwL,GAGAsS,EAAA,oBAAAC,QAAA,kBAAAA,OAAAC,SAAA,SAAAC,GACA,cAAAA,GACC,SAAAA,GACD,OAAAA,GAAA,oBAAAF,QAAAE,EAAAzC,cAAAuC,QAAAE,IAAAF,OAAAzC,UAAA,gBAAA2C,GAuBA,IAAIC,EAAO,SAAA3a,GACX,IAAA8B,EAAA9B,EAAA8B,GACAyU,EAAAvW,EAAAuW,MACAqE,EAAA5a,EAAA4a,OACAC,EAAA7a,EAAA6a,SACAC,EAAA9a,EAAA8a,gBACA5Z,EAAAlB,EAAAkB,UACA6Z,EAAA/a,EAAA+a,YACA7X,EAAAlD,EAAAkD,MACA8X,EAAAhb,EAAAib,SACAC,EAAAlb,EAAA,gBACAmb,EA/BA,SAAAT,EAAAzb,GACA,IAAAgJ,EAAA,GAEA,QAAAmS,KAAAM,EACAzb,EAAAK,QAAA8a,IAAA,GACAjc,OAAA4Z,UAAAuC,eAAAxa,KAAA4a,EAAAN,KACAnS,EAAAmS,GAAAM,EAAAN,IAGA,OAAAnS,EAsBAmT,CAAApb,EAAA,kHAEAwW,EAAA,iCAAA1U,EAAA,YAAAyY,EAAAzY,MAAAuZ,SAAAvZ,EAEAwZ,EAAA9E,KAAAzZ,QAAA,6BAAuD,QACvD,OAASgE,EAAAC,EAAKC,cAAeqV,EAAA,EAAK,CAClCE,KAAA8E,EACA/E,QACAqE,SACAC,WACAza,SAAA,SAAA+E,GACA,IAAA0V,EAAA1V,EAAA0V,SACA5J,EAAA9L,EAAA8L,MACAgK,KAAAD,IAAA/J,EAAA4J,GAAA5J,GACA,OAAalQ,EAAAC,EAAKC,cAAesa,EAAA,EAAIrB,EAAA,CACrCpY,KACAZ,UAAA+Z,EAAA,CAAA/Z,EAAA4Z,GAAAhU,OAAA,SAAAsT,GACA,OAAAA,IACS5S,KAAA,KAAAtG,EACTgC,MAAA+X,EAAAf,EAAA,GAAqChX,EAAA6X,GAAA7X,EACrCsY,eAAAP,GAAAC,GAAA,MACOC,QAKPR,EAAOhC,UAAA,CACP7W,GAAMyZ,EAAA,EAAI5C,UAAA7W,GACVyU,MAASsC,EAAA7X,EAASya,KAClBb,OAAU/B,EAAA7X,EAASya,KACnBZ,SAAYhC,EAAA7X,EAAS0a,OACrBZ,gBAAmBjC,EAAA7X,EAAS8X,OAC5B5X,UAAa2X,EAAA7X,EAAS8X,OACtBiC,YAAelC,EAAA7X,EAAS0a,OACxBxY,MAAS2V,EAAA7X,EAAS0a,OAClBT,SAAYpC,EAAA7X,EAASgY,KACrBwC,eAAkB3C,EAAA7X,EAASkY,MAAA,kDAE3ByB,EAAOtI,aAAA,CACPyI,gBAAA,SACAU,eAAA,QAEe,IAAAG,EAAA,mBCvDf,IAAIC,EAAM,SAAA5E,GAGV,SAAA6E,IAGA,OA5CA,SAAwB1E,EAAAC,GACxB,KAAAD,aAAAC,GACA,UAAAC,UAAA,qCAwCIyE,CAAenc,KAAAkc,GApCnB,SAAmChF,EAAA/W,GACnC,IAAA+W,EACA,UAAAC,eAAA,6DAGA,OAAAhX,GAAA,kBAAAA,GAAA,oBAAAA,EAAA+W,EAAA/W,EAiCWic,CAA0Bpc,KAAAqX,EAAAW,MAAAhY,KAAAjD,YAoCrC,OAlEA,SAAkBmb,EAAAC,GAClB,uBAAAA,GAAA,OAAAA,EACA,UAAAT,UAAA,kEAAAS,GAGAD,EAAAE,UAAA5Z,OAAA6Z,OAAAF,KAAAC,UAAA,CACAE,YAAA,CACA1O,MAAAsO,EACAK,YAAA,EACAC,UAAA,EACAC,cAAA,KAGAN,IAAA3Z,OAAAka,eAAAla,OAAAka,eAAAR,EAAAC,GAAAD,EAAAS,UAAAR,GAYEkE,CAASH,EAAA7E,GAQX6E,EAAA9D,UAAAkE,OAAA,SAAAC,GACAvc,KAAAwc,SAAAxc,KAAAwc,UACAxc,KAAAwc,QAAAxc,KAAAyc,QAAAC,OAAAtL,QAAAuL,MAAAJ,IAGAL,EAAA9D,UAAAwE,QAAA,WACA5c,KAAAwc,UACAxc,KAAAwc,UACAxc,KAAAwc,QAAA,OAIAN,EAAA9D,UAAAS,mBAAA,WACIgE,IAAS7c,KAAAyc,QAAAC,OAAA,kDACb1c,KAAAH,MAAAid,MAAA9c,KAAAsc,OAAAtc,KAAAH,MAAA0c,UAGAL,EAAA9D,UAAA2E,0BAAA,SAAAhL,GACAA,EAAA+K,KACA9c,KAAAH,MAAAid,MAAA9c,KAAAH,MAAA0c,UAAAxK,EAAAwK,SAAAvc,KAAAsc,OAAAvK,EAAAwK,SAEAvc,KAAA4c,WAIAV,EAAA9D,UAAA4E,qBAAA,WACAhd,KAAA4c,WAGAV,EAAA9D,UAAArB,OAAA,WACA,aAGAmF,EA1CU,CA2CR9a,EAAAC,EAAKgB,WAEP4Z,EAAMjD,UAAA,CACN8D,KAAQ5D,EAAA7X,EAASya,KACjBS,QAAWrD,EAAA7X,EAAS4b,UAAA,CAAY/D,EAAA7X,EAASgY,KAAOH,EAAA7X,EAAS8X,SAAA+D,YAEzDjB,EAAMvJ,aAAA,CACNoK,MAAA,GAEAb,EAAMkB,aAAA,CACNT,OAAUxD,EAAA7X,EAAS+b,MAAA,CACnBhM,QAAa8H,EAAA7X,EAAS+b,MAAA,CACtBT,MAAazD,EAAA7X,EAASgY,KAAA6D,aACjBA,aACFA,YAEY,IC/FAG,ED+FA,WEjGXC,EAAQ9e,OAAAgc,QAAA,SAAAlS,GACZ,QAAAmS,EAAA,EAAiBA,EAAA1d,UAAAC,OAAsByd,IAAA,CACvC,IAAAC,EAAA3d,UAAA0d,GAEA,QAAA3d,KAAA4d,EACAlc,OAAA4Z,UAAAuC,eAAAxa,KAAAua,EAAA5d,KACAwL,EAAAxL,GAAA4d,EAAA5d,IAKA,OAAAwL,GAqBA,SAASiV,EAA0BrG,EAAA/W,GACnC,IAAA+W,EACA,UAAAC,eAAA,6DAGA,OAAAhX,GAAA,kBAAAA,GAAA,oBAAAA,EAAA+W,EAAA/W,EA0BA,IAAAqd,EAAA,SAAA3G,GACA,YAAAA,EAAA4G,OAAA,GAAA5G,EAAA,IAAAA,GAGA6G,EAAA,SAAAzE,EAAAiC,GACA,OAAAjC,EACSqE,EAAQ,GAAGpC,EAAA,CACpBQ,SAAA8B,EAAAvE,GAAAiC,EAAAQ,WAFAR,GAMAyC,EAAA,SAAA1E,EAAAiC,GACA,IAAAjC,EAAA,OAAAiC,EACA,IAAA0C,EAAAJ,EAAAvE,GACA,WAAAiC,EAAAQ,SAAA/b,QAAAie,GAAA1C,EACSoC,EAAQ,GAAGpC,EAAA,CACpBQ,SAAAR,EAAAQ,SAAA3H,OAAA6J,EAAA5gB,WAII6gB,EAAS,SAAA3C,GACb,wBAAAA,IAAmD1c,OAAAyZ,EAAA,EAAAzZ,CAAU0c,IAGzD4C,EAAa,SAAAC,GACjB,kBACIlB,KAAS,sCAAAkB,KAIbC,EAAA,aASIC,EAAY,SAAA5G,GAGhB,SAAA6G,IACA,IAAA3G,EAAAzX,GAhFA,SAAwB0X,EAAAC,GACxB,KAAAD,aAAAC,GACA,UAAAC,UAAA,qCAgFIyG,CAAene,KAAAke,GAEnB,QAAAtG,EAAA7a,UAAAC,OAAA6a,EAAAC,MAAAF,GAAAG,EAAA,EAAmEA,EAAAH,EAAaG,IAChFF,EAAAE,GAAAhb,UAAAgb,GAGA,OAAAR,EAAAzX,EAAoCyd,EAA0Bvd,KAAAqX,EAAAlX,KAAA6X,MAAAX,EAAA,CAAArX,MAAAgC,OAAA6V,KAAA/X,EAAAse,WAAA,SAAAvH,GAC9D,OAAA2G,EAAA1d,EAAAD,MAAAoZ,SAAoD4E,EAAShH,KACxD/W,EAAAue,WAAA,SAAAnD,GACL,IAAApa,EAAAhB,EAAAD,MACAoZ,EAAAnY,EAAAmY,SACAwD,EAAA3b,EAAA2b,QACAA,EAAAzQ,OAAA,OACAyQ,EAAAvB,SAAAwC,EAAAzE,EAA+Cza,OAAAyZ,EAAA,EAAAzZ,CAAc0c,IAC7DuB,EAAAhU,IAAoBoV,EAASpB,EAAAvB,WACxBpb,EAAAwe,cAAA,SAAApD,GACL,IAAA7L,EAAAvP,EAAAD,MACAoZ,EAAA5J,EAAA4J,SACAwD,EAAApN,EAAAoN,QACAA,EAAAzQ,OAAA,UACAyQ,EAAAvB,SAAAwC,EAAAzE,EAA+Cza,OAAAyZ,EAAA,EAAAzZ,CAAc0c,IAC7DuB,EAAAhU,IAAoBoV,EAASpB,EAAAvB,WACxBpb,EAAAye,aAAA,WACL,OAAAP,GACKle,EAAA0e,YAAA,WACL,OAAAR,GACeT,EAA0Bzd,EAApCyX,GAuCL,OArIA,SAAkBW,EAAAC,GAClB,uBAAAA,GAAA,OAAAA,EACA,UAAAT,UAAA,kEAAAS,GAGAD,EAAAE,UAAA5Z,OAAA6Z,OAAAF,KAAAC,UAAA,CACAE,YAAA,CACA1O,MAAAsO,EACAK,YAAA,EACAC,UAAA,EACAC,cAAA,KAGAN,IAAA3Z,OAAAka,eAAAla,OAAAka,eAAAR,EAAAC,GAAAD,EAAAS,UAAAR,GAkDEsG,CAASP,EAAA7G,GAkCX6G,EAAA9F,UAAAsG,gBAAA,WACA,OACAhC,OAAA,CACAiC,cAAA3e,KAAAH,MAAA4c,WAKAyB,EAAA9F,UAAAS,mBAAA,WACIkB,KAAO/Z,KAAAH,MAAAuR,QAAA,8IAGX8M,EAAA9F,UAAArB,OAAA,WACA,IAAA6H,EAAA5e,KAAAH,MACAoZ,EAAA2F,EAAA3F,SAEAiC,GADA0D,EAAAnC,QACAmC,EAAA1D,UACArb,EA5IA,SAAiCkb,EAAAzb,GACjC,IAAAgJ,EAAA,GAEA,QAAAmS,KAAAM,EACAzb,EAAAK,QAAA8a,IAAA,GACAjc,OAAA4Z,UAAAuC,eAAAxa,KAAA4a,EAAAN,KACAnS,EAAAmS,GAAAM,EAAAN,IAGA,OAAAnS,EAmIgBuW,CAAwBD,EAAA,mCAExCxN,EAAA,CACAgN,WAAApe,KAAAoe,WACApS,OAAA,MACAkP,SAAAyC,EAAA1E,EAAwCza,OAAAyZ,EAAA,EAAAzZ,CAAc0c,IACtD7J,KAAArR,KAAAqe,WACAjhB,QAAA4C,KAAAse,cACAQ,GAAUhB,EAAa,MACvBjT,OAAciT,EAAa,UAC3BiB,UAAiBjB,EAAa,aAC9BkB,OAAAhf,KAAAue,aACA5B,MAAA3c,KAAAwe,aAEA,OAAWpd,EAAAC,EAAKC,cAAe0Y,EAAA,EAAQsD,EAAQ,GAAGzd,EAAA,CAClDuR,cAIA8M,EAvEgB,CAwEd9c,EAAAC,EAAKgB,WAEP4b,EAAYjF,UAAA,CACZC,SAAYC,EAAA7X,EAAS8X,OACrBsD,QAAWvD,EAAA7X,EAAS0a,OAAAmB,WACpBhC,SAAYhC,EAAA7X,EAAS4b,UAAA,CAAY/D,EAAA7X,EAAS8X,OAASD,EAAA7X,EAAS0a,UAE5DkC,EAAYvL,aAAA,CACZuG,SAAA,GACAiC,SAAA,KAEA+C,EAAYgB,kBAAA,CACZvC,OAAUxD,EAAA7X,EAAS0a,OAAAmB,YAEJ,IC1LAgC,ED0LA,WE1LAC,SAAY,ECAZC,SAAS,WCFxBC,EAAAC,EAAA7I,EAAA,kCAAA8I,EAAA,IAAAF,EAAAC,EAAA7I,EAAA,+BAAAgD,IAAA4F,EAAAC,EAAA7I,EAAA,yBAAAmF,EAAA,IAAAyD,EAAAC,EAAA7I,EAAA,iCAAA6D,IAAA+E,EAAAC,EAAA7I,EAAA,4BAAAuF,IAAAqD,EAAAC,EAAA7I,EAAA,2BAAA4G,IAAAgC,EAAAC,EAAA7I,EAAA,6BAAA+I,EAAA,IAAAH,EAAAC,EAAA7I,EAAA,0BAAAE,EAAA,IAAA0I,EAAAC,EAAA7I,EAAA,2BAAAsC,EAAA,IAAAsG,EAAAC,EAAA7I,EAAA,iCAAAyI,IAAAG,EAAAC,EAAA7I,EAAA,2BAAAC,EAAA,IAAA2I,EAAAC,EAAA7I,EAAA,iCAAA0I,IAAAE,EAAAC,EAAA7I,EAAA,8BAAA2I,IAAAC,EAAAC,EAAA7I,EAAA,+BAAAd,EAAA,sCCAec,EAAA,WAAAgJ,GAAS,OAAI,SAAA5f,GAAK,OAAIA,EAAMyR,MAAMC,OAAOkO,2DCAzC3gB,EAAA,CACd6V,QAAS,SAAA7W,GAAE,MAAI,mBAAAkE,OAAmBlE,KAClC4hB,QAAS,SAAA5gB,GAAI,MAAI,mBAAAkD,OACElD,EAAKhB,IACvB,CACC6hB,QAAS,CACRC,eAAgB,oBAEjBC,KAAM9hB,KAAKQ,UAAUO,IAEtB,eAEDghB,SAAU,SAAAhhB,GAAI,MAAI,kBAEjB,CACC6gB,QAAS,CACRC,eAAgB,oBAEjBC,KAAM9hB,KAAKQ,UAAUO,IAEtB,SAAAihB,GAAG,OAAIA,EAAIpa,OAAOyN,KAAK,SAAAtV,GAAE,OAAIA,QCpBhBmT,EAAA,CACd+O,kBAAmB,iBAAM,CAAC,eAC1BC,wBAAyB,iBAAM,CAAC,sBAEhC7K,aAAc,SAAAtX,GAAE,MAAI,cAAAkE,OAAclE,KAClCoiB,aAAc,SAAAjP,GAAS,MAAI,cAAAjP,OACbiP,EAAUnT,IACvB,CACC6hB,QAAS,CACRC,eAAgB,oBAEjBC,KAAM9hB,KAAKQ,UAAU0S,IAEtB,kBAAMA,EAAUnT,MAEjBqiB,cAAe,SAAAlP,GAAS,MAAI,aAE3B,CACC0O,QAAS,CACRC,eAAgB,oBAEjBC,KAAM9hB,KAAKQ,UAAU0S,IAEtB,SAAA8O,GAAG,OAAIA,EAAIpa,OAAOyN,KAAK,SAAAtV,GAAE,OAAIA,QCnBzBmV,EAAGzU,OAAAC,EAAA,EAAAD,CAAA,GACL4hB,EACAC,EAFK,CAIRC,cAAe,iBAAM,CAAC,oBACtBC,kBAAmB,iBAAM,CAAC,eAC1BC,gBAAiB,iBAAM,CAAC,aAExBC,sBAAuB,iBAAM,CAAC,oBAC9BC,oBAAqB,iBAAM,CAAC,kBAC5BC,wBAAyB,iBAAM,CAAC,sBAEhCzN,yBAA0B,iBAAM,CAAC,gCACjCC,0BAA2B,iBAAM,CAAC,uBAClCyN,UAAW,SAAA9iB,GAAE,MAAI,WAAAkE,OAAWlE,KAC5B8W,aAAc,SAAA9W,GAAE,MAAI,cAAAkE,OAAclE,KAClCqX,SAAU,SAAArX,GAAE,MAAI,WAAAkE,OAAWlE,KAC3B+iB,iBAAkB,SAAC/iB,EAAIgjB,GAAL,MAAkB,cAAA9e,OACtBlE,EADsB,iBAEnC,CACC6hB,QAAS,CACRoB,OAAQD,EACRlB,eAAgB,eAGlB,SAAAG,GAAG,OAAIA,KAERiB,UAAW,SAAAC,GAAM,MAAI,WAAAjf,OACVif,EAAOnjB,IACjB,CACC6hB,QAAS,CACRC,eAAgB,oBAEjBC,KAAM9hB,KAAKQ,UAAU0iB,IAEtB,SAAAlB,GAAG,OAAIhN,QAAQ+B,QAAQmM,EAAOnjB,OAE/BojB,WAAY,SAAAD,GAAM,MAAI,UAErB,CACCtB,QAAS,CACRC,eAAgB,oBAEjBC,KAAM9hB,KAAKQ,UAAU0iB,IAEtB,SAAAlB,GAAG,OAAIA,EAAIpa,UAEZwb,UAAW,SAAAnQ,GAAM,MAAI,WAAAhP,OACVgP,EAAOlT,IACjB,CACC6hB,QAAS,CACRC,eAAgB,oBAEjBC,KAAM9hB,KAAKQ,UAAUyS,IAEtB,SAAA+O,GAAG,OAAIhN,QAAQ+B,QAAQ9D,EAAOlT,OAE/BsjB,WAAY,SAAApQ,GAAM,MAAI,UAErB,CACC2O,QAAS,CACRC,eAAgB,oBAEjBC,KAAM9hB,KAAKQ,UAAUyS,IAEtB,SAAA+O,GAAG,OAAIA,EAAIpa,UAEZ0b,aAAc,SAAAvQ,GAAS,MAAI,cAAA9O,OACb8O,EAAUhT,IACvB,CACC6hB,QAAS,CACRC,eAAgB,oBAEjBC,KAAM9hB,KAAKQ,UAAUuS,IAEtB,SAAAiP,GAAG,OAAIhN,QAAQ+B,QAAQhE,EAAUhT,OAElCwjB,cAAe,SAAAxQ,GAAS,MAAI,aAE3B,CACC6O,QAAS,CACRC,eAAgB,oBAEjBC,KAAM9hB,KAAKQ,UAAUuS,IAEtB,SAAAiP,GAAG,OAAIA,EAAIpa,UAEZkP,2BAA4B,SAAA0M,GAAO,MAAI,WAAAvf,OAC5Buf,EAD4B,gCAKzBC,gBAAS,aAAcvO,qCChGtC,IAAAwO,EAAApC,EAAA,GAAAqC,EAAArC,EAAAsC,EAAAF,GAAAG,EAAAvC,EAAA,GAoBewC,IAhBE,SAAAxhB,GAAA,IAAGsK,EAAHtK,EAAGsK,WAAYd,EAAfxJ,EAAewJ,SAAf,OAChB6X,EAAArgB,EAAAC,cAAA,OAAKC,UAAU,OACdmgB,EAAArgB,EAAAC,cAAA,OAAKC,UAAU,aACdmgB,EAAArgB,EAAAC,cAAA,SAAOC,UAAU,cAChBmgB,EAAArgB,EAAAC,cAAA,SAAO2G,KAAK,WAAW6Z,QAASnX,EAAYd,SAAUA,IAAa,IAClE1M,IAAE4kB,iDCTP1C,EAAAC,EAAA7I,EAAA,sBAAAuL,IAAA,IAAAP,EAAApC,EAAA,GAAAqC,EAAArC,EAAAsC,EAAAF,GAAAQ,EAAA5C,EAAA,KAAA6C,EAAA7C,EAAA,KAAA8C,EAAA9C,EAAA,KAAA+C,EAAA/C,EAAA,IAMa2C,EAAO,SAAA3hB,GASd,IAAAgiB,EAAAhiB,EARLsF,YAQK,IAAA0c,EARE,GAQFA,EAPLzgB,EAOKvB,EAPLuB,MACAiE,EAMKxF,EANLwF,KACAD,EAKKvF,EALLuF,MAKK0c,EAAAjiB,EAJLkiB,kBAIK,IAAAD,KAAAE,EAAAniB,EAHLoiB,UAGK,IAAAD,KAFL/F,EAEKpc,EAFLoc,QAEKiG,EAAAriB,EADLqJ,WACK,IAAAgZ,EADC,GACDA,EACCC,EAAMC,qBAAWC,MAAuBpG,EACxCqG,EAAKld,EAAQ,YAAc,WACjC,OAAKD,GAAS4c,EAEVE,EAEFf,EAAArgB,EAAAC,cAAA,OAAKC,UAAWuhB,EAAIlhB,MAAO8H,GAC1BgY,EAAArgB,EAAAC,cAAC2gB,EAAA,EAAD,CAAOrgB,MAAO8f,EAAArgB,EAAAC,cAAC4gB,EAAA,EAAD,CAAUvc,KAAM/D,EAAOiE,KAAMA,IAAU4W,QAASkG,GAC7DjB,EAAArgB,EAAAC,cAAA,OAAK+J,wBAAyB,CAAEC,OAAQC,YAAe5F,QAM1D+b,EAAArgB,EAAAC,cAAA,OAAKC,UAAWuhB,EAAIlhB,MAAO8H,GAC1BgY,EAAArgB,EAAAC,cAAC2gB,EAAA,EAAD,CAAOrgB,MAAO8f,EAAArgB,EAAAC,cAAC4gB,EAAA,EAAD,CAAUvc,KAAM/D,EAAOiE,KAAMA,IAAU4W,QAASkG,GAC5Dhd,IAd6B,wCClBlC0Z,EAAAC,EAAA7I,EAAA,sBAAAsM,IAAA1D,EAAAC,EAAA7I,EAAA,sBAAAuM,IAAA3D,EAAAC,EAAA7I,EAAA,sBAAAwM,IAAA5D,EAAAC,EAAA7I,EAAA,sBAAAyM,IAAA7D,EAAAC,EAAA7I,EAAA,sBAAA0M,IAAA9D,EAAAC,EAAA7I,EAAA,sBAAA2M,IAAA/D,EAAAC,EAAA7I,EAAA,sBAAA4M,IAAAhE,EAAAC,EAAA7I,EAAA,sBAAA6M,IAAAjE,EAAAC,EAAA7I,EAAA,sBAAA8M,IAAAlE,EAAAC,EAAA7I,EAAA,sBAAAlL,IAAA,IAAAiY,EAAAnE,EAAA,KAAAoE,EAAApE,EAAA,KAAAqE,EAAArE,EAAA,KAAAsE,EAAAtE,EAAA,KAIauE,EAAgB,SAAAC,GAC5B,IAAMC,EAAKnc,SAASrG,cAAc,OAElC,OADAwiB,EAAGC,UAAYF,GAAQ,GAChBC,EAAGE,aAGEjB,EAAa,SAAAc,GAAI,OAAID,EAAcC,GAAMI,OAAOjnB,QAChDgmB,EAAc,SAAAa,GAAI,QAAMd,EAAWc,GAAQ,IAO3CZ,EAAoB,SAAAY,GAAI,OACpCK,EAAUC,sBAAYC,wBAAcP,MAcxBX,EAAoB,SAAAW,GAAI,mDAAA7hB,OATL,SAAA6hB,GAAI,OACnCA,EACEzmB,QAAQ,UAAW,KACnBA,QAAQ,QAAS,SACjBA,QAAQ,YAAa,SAMsBinB,CAAiBR,GAD1B,WAG/BS,EAAW,MACXC,EAAgB,aACTL,EAAY,SAAAL,GAExB,MAAgB,KADAD,EAAcC,GACH,GACpBA,EAAKzmB,QAAQknB,EAAU,IAAIlnB,QAAQmnB,EAAe,SAG7CpB,EAAW,SAAAqB,GAAC,OAAIA,GAAKA,EAAEpnB,QAAQ,OAAQ,IAAIA,QAAQ,SAAU,KAKnE,SAASgmB,EAAoBqB,GACnC,IAAMZ,EAAOM,sBAAYM,EAAYC,qBACrC,OAAOR,EAAUL,GAGX,SAASR,EAAoBQ,GACnC,OAAOc,cAAYC,kBAAkBR,wBAAcP,IAG7C,SAASP,EAAkBmB,GACjC,OAAOI,sBAAYC,uBAAaL,EAAYC,sBAGtC,SAASnB,IAA2B,IAATd,EAAS1lB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GACtC,OAAO4nB,cAAYC,kBAAkBG,yBAAeC,sBAAYvC,KAG1D,SAASlX,EAAekX,GAC9B,OAAOW,EAAoBG,EAAkBd,uCCnE9C,IAAAhB,EAAApC,EAAA,GAAAqC,EAAArC,EAAAsC,EAAAF,GAAAwD,EAAA5F,EAAA,GAAA6F,EAAA7F,EAAAsC,EAAAsD,GAAAE,EAAA9F,EAAA,IAAA+F,EAAA/F,EAAA,KAKA,SAASgG,EAAThlB,GAA4D,IAAlCkS,EAAkClS,EAAlCkS,SAAUC,EAAwBnS,EAAxBmS,SAAU7H,EAActK,EAAdsK,WAC7C,OACC+W,EAAArgB,EAAAC,cAAAogB,EAAArgB,EAAAoE,SAAA,KACCic,EAAArgB,EAAAC,cAAC6jB,EAAA,EAAD,CAAWvjB,MAAO2Q,IACjB5H,GAAc6H,GAAYkP,EAAArgB,EAAAC,cAAC8jB,EAAA,EAAD,CAAcE,SAAU9S,KAKtD6S,EAAeE,WAAa,CAC3BhT,SAAUiT,IAAUrM,OAAO+D,WAC3B1K,SAAUgT,IAAUrM,OACpBxO,WAAY6a,IAAU1J,KACtBW,QAAS+I,IAAUjM,MAAM,CAAC,GAAI,WAAY,kBAAmB,gBAG/C8L,wCCrBfhG,EAAAC,EAAA7I,EAAA,sBAAAgP,IAAA,IAAAC,EAAArG,EAAA,IAEMsG,EAAcre,YAAU,SAEfmP,EAAA,WAACmP,EAAYrc,EAASsc,EAASC,GAA/B,OAA2C,SAAAnT,GAKzD,OAJAA,EAAS,CACR1K,KAAMsB,EACNuJ,QAAS,KAEH8S,IAAaxS,KACnB,SAAAiB,GAAO,OACN1B,EAAS,CACR1K,KAAM4d,EACN/S,QAAS,CAAEuB,QAASsR,EAAYtR,OAElC,SAAAI,GAAG,OACF9B,EAAS,CACR1K,KAAM6d,EACNhT,QAAS,CAAE2B,aAKR,IAAMgR,EAAiB,SAACG,EAAYrc,EAASsc,EAASC,GAA/B,OAA2C,SAAAhoB,GAAE,OAAI,SAC9E6U,EACAC,GAEA,GAAIA,IAAWmT,mCAAqCxc,EASpD,OANAoJ,EAAS,CACR1K,KAAMsB,EACNuJ,QAAS,CACRhV,QAGK8nB,EAAW9nB,GAAIsV,KACrB,SAAAiB,GAAO,OACN1B,EAAS,CACR1K,KAAM4d,EACN/S,QAASuB,KAEX,SAAAI,GAAG,OACF9B,EAAS,CACR1K,KAAM6d,EACNhT,QAAS,CAAE2B,gDC7Cf,IAAAgN,EAAApC,EAAA,GAAAqC,EAAArC,EAAAsC,EAAAF,GAAAuE,EAAA3G,EAAA,KAkBe4G,IAdf,SAAA5lB,GAAkC,IAAdsF,EAActF,EAAdsF,KAAME,EAAQxF,EAARwF,KACzB,OACC6b,EAAArgB,EAAAC,cAACogB,EAAArgB,EAAMoE,SAAP,KACEE,EAAO,OACPugB,YAAKrgB,GAFP,4BCNFsgB,EAAAC,QAAiB/G,EAAAgH,EAAuB,yDCAxC,IAAA5kB,EAAA,CACA6kB,gBAAA,IACAC,WAAA,IACAC,WAAA,KAIA,SAAAC,EAAAC,GACA,IAAA5oB,EAAA6oB,EAAAD,GACA,OAAArH,EAAAvhB,GAEA,SAAA6oB,EAAAD,GACA,IAAArH,EAAAuH,EAAAnlB,EAAAilB,GAAA,CACA,IAAA5c,EAAA,IAAA+c,MAAA,uBAAAH,EAAA,KAEA,MADA5c,EAAA9E,KAAA,mBACA8E,EAEA,OAAArI,EAAAilB,GAEAD,EAAAnnB,KAAA,WACA,OAAAd,OAAAc,KAAAmC,IAEAglB,EAAA3R,QAAA6R,EACAR,EAAAC,QAAAK,EACAA,EAAA3oB,GAAA,sCCxBA,IAAA2jB,EAAApC,EAAA,GAAAqC,EAAArC,EAAAsC,EAAAF,GAAAqF,EAAAzH,EAAA,KAAA0H,EAAA1H,EAAAsC,EAAAmF,GAAAE,EAAA3H,EAAA,GAIa4H,EAAS,SAAAphB,GACrB,IACCqhB,OAAQ,KAAAllB,OAAa6D,EAAd,SACN,MAAOiE,GACR,OAAO,EAER,OAAO,GAGO2M,EAAA,WAAA5Q,GACd,OAAKA,EAEJ6b,EAAArgB,EAAAC,cAAA,OACCkI,IAAKyd,EAAOphB,GAAQqhB,OAAQ,KAAAllB,OAAa6D,EAAd,SAA4BshB,IACvDzd,IAAKvM,IAAEmI,MACP/D,UAAU,aALM,wCCdnB,IAAA6lB,EAAA/H,EAAA,IAAAgI,EAAAhI,EAAA,IAsBejV,gBAnBgB,SAAAzJ,GAC9B,MAAO,CACN2mB,UAAWvR,IAAqBpV,GAAOyL,QAiB1BhC,CAbR,SAAA/J,GAMJ,IALFI,EAKEJ,EALFI,SACA6mB,EAIEjnB,EAJFinB,UACAlb,EAGE/L,EAHF+L,MAGEmb,EAAAlnB,EAFFmnB,gBAEE,IAAAD,EAFS,KAETA,EAAAE,EAAApnB,EADFkM,0BACE,IAAAkb,KAEF,OADuBrb,EAAMT,KAAK,SAAA+b,GAAI,OAAIJ,EAAU1f,SAAS8f,MACvCnb,EAGf9L,EAFC+mB,sCClBT,IAAA/F,EAAApC,EAAA,GAAAqC,EAAArC,EAAAsC,EAAAF,GAAAwD,EAAA5F,EAAA,GAAA6F,EAAA7F,EAAAsC,EAAAsD,GAAA0C,GAAAtI,EAAA,KAAAA,EAAA,KAKMuI,EAAe,SAAAvnB,GAAwC,IAArCilB,EAAqCjlB,EAArCilB,SAAqCuC,EAAAxnB,EAA3Boc,eAA2B,IAAAoL,EAAjB,WAAiBA,EACtDlF,EAAMC,qBAAWC,MAAuBpG,EAE9C,OACCiF,EAAArgB,EAAAC,cAAA,OAAKC,UAAU,OACdmgB,EAAArgB,EAAAC,cAAA,OAAKC,UAAU,qCACdmgB,EAAArgB,EAAAC,cAAA,MAAIC,UAAS,iBAAAS,OAAmB2gB,IAAQ2C,MAM7BsC,MAEfA,EAAarC,WAAa,CACzBuC,SAAUtC,IAAUrM,OAAO+D,WAC3BT,QAAS+I,IAAUjM,MAAM,CAAC,GAAI,WAAY,kBAAmB,kDCrB9D8F,EAAAC,EAAA7I,EAAA,sBAAAsR,IAAA1I,EAAAC,EAAA7I,EAAA,sBAAAuR,IAAA3I,EAAAC,EAAA7I,EAAA,sBAAAwR,IAAA,IAAAxG,EAAApC,EAAA,GAAAqC,EAAArC,EAAAsC,EAAAF,GAAAyG,EAAA7I,EAAA,IAAA2H,EAAA3H,EAAA,GAIa8I,EAAiB,SAAAtoB,GAC7B,OACC6hB,EAAArgB,EAAAC,cAAC4mB,EAAA,EAAD1pB,OAAAgc,OAAA,CACCtV,MACCwc,EAAArgB,EAAAC,cAACogB,EAAArgB,EAAMoE,SAAP,KACCic,EAAArgB,EAAAC,cAAA,QACCC,UAAS,uBAAAS,OAAyBnC,EAAMuoB,MACxCjgB,cAAY,SAEbuZ,EAAArgB,EAAAC,cAAA,gBAAQzB,EAAMY,YAGZZ,KAKMkoB,EAAe,SAAAloB,GAAK,OAChC6hB,EAAArgB,EAAAC,cAAC6mB,EAAD3pB,OAAAgc,OAAA,CAAgB4N,KAAK,iBAAoBvoB,GACvC1C,IAAEiT,YAGQ4X,EAAa,SAAAnoB,GAAK,OAC9B6hB,EAAArgB,EAAAC,cAAC6mB,EAAD3pB,OAAAgc,OAAA,CAAgB4N,KAAK,eAAkBvoB,GACrC1C,IAAEkT,UAIQ4X,EAAkB,SAAApoB,GAAK,OACnC6hB,EAAArgB,EAAAC,cAAC6mB,EAAD3pB,OAAAgc,OAAA,CAAgB4N,KAAK,aAAgBvoB,GACnC1C,IAAEkrB,wDClCLlC,EAAAC,QAAA,wkCCAAD,EAAAC,QAAA,q1BCSMkC,EAAU,CACfha,QAAS,CAAC,OAAQ,SAAU,QAC5Bia,KAAM,CACLC,YAAY,EACZjnB,eAAWtE,EACXqR,QAAS,CAAC,YAAa,YAExBma,OAAQ,CACPna,QAAS,CAAC,OAAQ,YAIdoa,cAML,SAAAA,EAAY7oB,GAAO,IAAAC,EAAAtB,OAAAmqB,EAAA,EAAAnqB,CAAAwB,KAAA0oB,GAClB5oB,EAAAtB,OAAAoqB,EAAA,EAAApqB,CAAAwB,KAAAxB,OAAAqqB,EAAA,EAAArqB,CAAAkqB,GAAAvoB,KAAAH,KAAMH,IADY,IAEV8F,EAAS9F,EAAT8F,KAFU,OAGlB7F,EAAKa,MAAQ,CACZ8jB,YAAalB,YAAkB5d,GAAQ,IACvCA,QAED7F,EAAK6N,aAAe,SAAA8W,GACnB3kB,EAAKS,SAAS,CACbkkB,iBAGF3kB,EAAKgpB,YAAc,kBAClBhpB,EAAKD,MAAM8N,aAAa2V,YAAkBxjB,EAAKa,MAAM8jB,eAbpC3kB,yFAeOiS,GACzB/R,KAAKO,SAAS,CACbkkB,YAAalB,YAAkBxR,EAAUpM,MAAQ,uCAKlD,OACCojB,EAAA1nB,EAAAC,cAAC0nB,EAAA,OAAD,CACCvE,YAAazkB,KAAKW,MAAM8jB,YACxB6D,QAASA,EACTW,iBAAiB,eACjBC,iBAAiB,eACjBC,gBAAgB,cAChBC,oBAAqBppB,KAAK2N,aAC1B0b,OAAQrpB,KAAK8oB,YACbQ,aAAc,CACbC,OAAQ1gB,wBAtCgBxG,aA6CdqmB,wCClEfrJ,EAAAC,EAAA7I,EAAA,sBAAAD,IAAA6I,EAAAC,EAAA7I,EAAA,sBAAAF,IAAA8I,EAAAC,EAAA7I,EAAA,sBAAAlM,IAAA8U,EAAAC,EAAA7I,EAAA,sBAAAnM,IAAA+U,EAAAC,EAAA7I,EAAA,sBAAA+S,IAAO,IAAMhT,EAA6B,SAAA7V,GAEzC,OADsBA,EAAM8oB,yBAA2B,IAClCpV,SAAW,IAGpBkC,EAAyB,SAAA5V,GAErC,OAD4BA,EAAMyT,qBAAuB,IAC9BC,SAAW,IAG1B9J,EAAyB,SAAC5J,GAA0B,IAAnB+oB,EAAmB3sB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAX,OACrD,OAAK4D,EAAMgpB,oBAAoBtV,SAGxB1T,EAAMgpB,oBAAoBtV,QAAQqV,IAFjC,IAKIpf,EAA+B,SAAA3J,GAC3C,OAAOA,EAAMgpB,oBAAoBxmB,QAErBqmB,EAAqB,SAAA7oB,GACjC,OAAOA,EAAMipB,0BAA0BvV,SAAW,sCCrBnD,IAAAoN,EAAApC,EAAA,GAAAqC,EAAArC,EAAAsC,EAAAF,GAAAoI,EAAAxK,EAAA,KAAAyK,EAAAzK,EAAAsC,EAAAkI,GAAA7C,EAAA3H,EAAA,GAoBe0K,IAhBf,SAAA1pB,GAAwD,IAA9BuJ,EAA8BvJ,EAA9BuJ,MAAOC,EAAuBxJ,EAAvBwJ,SAAUmgB,EAAa3pB,EAAb2pB,UACpCC,EAAO9sB,IAAE+sB,aACTC,EAAShtB,IAAEitB,eAEjB,OACC1I,EAAArgB,EAAAC,cAACwoB,EAAAzoB,EAAD,CACCuI,MAAOA,EACPygB,kBAAmBL,EACnBngB,SAAUA,EACVygB,aAAc,EACdC,UAAWN,EACXO,YAAaL,6DCfhB,IAAA1I,EAAApC,EAAA,GAAAqC,EAAArC,EAAAsC,EAAAF,GAAAuE,EAAA3G,EAAA,KAgDeoL,IA5Cf,SAAApqB,GAWG,IAVFmO,EAUEnO,EAVFmO,MACA5E,EASEvJ,EATFuJ,MACA1E,EAQE7E,EARF6E,MACAW,EAOExF,EAPFwF,KACA6kB,EAMErqB,EANFqqB,KACAC,EAKEtqB,EALFsqB,WACAlnB,EAIEpD,EAJFoD,SACAmnB,EAGEvqB,EAHFuqB,SACAjd,EAEEtN,EAFFsN,aACAQ,EACE9N,EADF8N,MAEA,OACCuT,EAAArgB,EAAAC,cAAA,OAAKC,UAAS,qBAAAS,OAAuBwM,GAAS,KAC7CkT,EAAArgB,EAAAC,cAAA,SAAOC,UAAU,cACf2D,EADF,IACUghB,YAAKrgB,GAAQ,KAAO,KAD9B,IACqCqgB,YAAKrgB,GAAO,IAC/CqgB,YAAKrgB,GAAQ,KAAO,KACpB6kB,GAAQhJ,EAAArgB,EAAAC,cAAA,QAAMC,UAAU,WAAhB,KACRopB,GAAcjJ,EAAArgB,EAAAC,cAAA,QAAMC,UAAU,aAAhB,KACfmgB,EAAArgB,EAAAC,cAAA,QAAA9C,OAAAgc,OAAA,CACCvS,KAAM2iB,EAAW,WAAa,OAC9BhhB,MAAOA,GAAS,GAChBrI,UAAU,eACVkC,SAAUA,EACVoG,SAAU,SAAAC,GAAC,OAAI6D,EAAa7D,EAAExB,OAAOsB,SACjCuE,yCC7BT,IAAA0c,EAAAxL,EAAA,KAAAyL,EAAAzL,EAAA,GAAA0L,EAAA1L,EAAA,KAIe5I,EAAA,oBACduU,YACC/X,IAAIqN,cACJzN,KACAA,KACAA,6GCLWoY,EAAY,SAACja,EAAQgE,GAAT,OAAsB,SAAArC,GAC9CA,EAAS,CACR1K,KAAM4K,KACNC,QAAS9B,IAEV,IAAMsE,EAAStE,EAAOlT,GAAK,YAAc,aAEzC,OAAOmV,IAAIqC,GAAQtE,GAAQoC,KAC1B,SAAAtV,GACC6U,EAAS,CACR1K,KAAM4K,KACNC,QAAQtU,OAAA0sB,EAAA,EAAA1sB,CAAA,GACJwS,EADG,CAENlT,SAGFkX,EAAS,KAAMlX,IAEhB,SAAA2W,GACC9B,EAAS,CACR1K,KAAM4K,KACNC,QAAS,CAAE2B,SAEZO,EAASP,OAKGgR,gBACdxS,IAAIkC,SACJtC,KACAA,KACAA,4GChCYsY,EAAgB,SAACra,EAAWkE,GAAZ,OAAyB,SAAArC,GACrDA,EAAS,CACR1K,KAAM4K,KACNC,QAAShC,IAEV,IAAMwE,EAASxE,EAAUhT,GAAK,eAAiB,gBAE/C,OAAOmV,IAAIqC,GAAQxE,GAAWsC,KAC7B,SAAAtV,GACC6U,EAAS,CACR1K,KAAM4K,KACNC,QAAQtU,OAAA0sB,EAAA,EAAA1sB,CAAA,GACJsS,EADG,CAENhT,SAGFkX,EAAS,KAAMlX,IAEhB,SAAA2W,GACC9B,EAAS,CACR1K,KAAM4K,KACNC,QAAS,CAAE2B,SAEZO,EAASP,OAKGgR,gBACdxS,IAAI2B,aACJ/B,KACAA,KACAA,wCCpCDwM,EAAAC,EAAA7I,EAAA,sBAAA2U,IAAA,IAAAP,EAAAxL,EAAA,KAAAyL,EAAAzL,EAAA,GAAAgM,EAAAhM,EAAA,KAIa+L,EAAgB,SAACna,EAAW+D,GAAZ,OAAyB,SAAArC,GACrDA,EAAS,CACR1K,KAAM4K,KACNC,QAAS7B,IAEV,IAAMqE,EAASrE,EAAUnT,GAAK,eAAiB,gBAE/C,OAAOmV,IAAIqC,GAAQrE,GAAWmC,KAC7B,SAAAiB,GACC1B,EAAS,CACR1K,KAAM4K,KACNC,QAAS,CACRhV,GAAIuW,EACJhX,aAAc4T,EAAU5T,aACxBiuB,SAAUra,EAAUsa,eAGtBvW,EAAS,KAAMX,IAEhB,SAAAI,GACC9B,EAAS,CACR1K,KAAM4K,KACNC,QAAS,CAAE2B,SAEZO,EAASP,OAKGgR,gBACdxS,IAAImC,aACJvC,KACAA,KACAA,0ECjCK8S,EAAcre,YAAU,YAEfmP,EAAA,oBAAM,SAAA9D,GAKpB,OAJAA,EAAS,CACR1K,KAAM4K,KACNC,QAAS,KAEHG,IAAIuY,mBAAmBpY,KAC7B,SAAAiB,GAAO,OACN1B,EAAS,CACR1K,KAAM4K,KACNC,QAAS,CACRuB,QAASsR,EACRtR,EAAQ5S,IAAI,SAAA+F,GACX,OAAOhJ,OAAA0sB,EAAA,EAAA1sB,CAAA,GACHgJ,EADJ,CAEC1J,GAAI0J,EAAIC,IAAIsM,OAAOvM,EAAIC,IAAIgkB,YAAY,KAAO,YAMpD,SAAAhX,GACC9B,EAAS,CACR1K,KAAM4K,KACNC,QAAS,CAAE2B,+CC7Bf,IAAAoW,EAAAxL,EAAA,KAAAyL,EAAAzL,EAAA,GAAA0L,EAAA1L,EAAA,KAIe5I,EAAA,oBACduU,YACC/X,IAAI+M,kBACJnN,KACAA,KACAA,yCCPFrU,OAAAE,eAAA0nB,EAAA,cACAxc,OAAA,IAGA,IAAA2Q,EAAA/b,OAAAgc,QAAA,SAAAlS,GACA,QAAAmS,EAAA,EAAiBA,EAAA1d,UAAAC,OAAsByd,IAAA,CACvC,IAAAC,EAAA3d,UAAA0d,GAEA,QAAA3d,KAAA4d,EACAlc,OAAA4Z,UAAAuC,eAAAxa,KAAAua,EAAA5d,KACAwL,EAAAxL,GAAA4d,EAAA5d,IAKA,OAAAwL,GAGAsS,EAAA,oBAAAC,QAAA,kBAAAA,OAAAC,SAAA,SAAAC,GACA,cAAAA,GACC,SAAAA,GACD,OAAAA,GAAA,oBAAAF,QAAAE,EAAAzC,cAAAuC,QAAAE,IAAAF,OAAAzC,UAAA,gBAAA2C,GAGAqL,EAAAsF,kBACAtF,EAAAuF,WACAvF,EAAAwF,cAEA,IAEAC,EAAAC,EAFazM,EAAQ,IAMrB0M,EAAAD,EAFiBzM,EAAQ,IAIzB2M,EAAsB3M,EAAQ,IAE9B,SAAAyM,EAAA/Q,GACA,OAAAA,KAAAkR,WAAAlR,EAAA,CACAmR,QAAAnR,GAgBA,IAAAoR,EAAA,GACAC,EAAA,KACAC,EAAA,KACAC,EAAA,KAEA,SAAAC,IACAJ,EAAA,GACA,OAAAC,KAAAI,aAEA,OAAAH,IACAI,OAAAC,aAAAL,GACAA,EAAA,MAIA,SAAAM,IACA,IAAAC,EAAAjlB,SAAAklB,eAAAV,GAEA,cAAAS,IACAN,EAAAM,GACAL,KACA,GA2BA,SAAAb,EAAA7rB,EAAAitB,GAsBAjtB,EAAAktB,OACAltB,EAAAqC,OADA,IAEA8qB,EApFA,SAAAjS,EAAAzb,GACA,IAAAgJ,EAAA,GAEA,QAAAmS,KAAAM,EACAzb,EAAAK,QAAA8a,IAAA,GACAjc,OAAA4Z,UAAAuC,eAAAxa,KAAA4a,EAAAN,KACAnS,EAAAmS,GAAAM,EAAAN,IAGA,OAAAnS,EA2EAmT,CAAA5b,EAAA,qBAEA,OAAAgsB,EAAAK,QAAA5qB,cAAAwrB,EAAAvS,EAAA,GAAsDyS,EAAA,CACtDjrB,QA1BA,SAAA+H,GACAyiB,IACA1sB,EAAAkC,SAAAlC,EAAAkC,QAAA+H,GAEA,kBAAAjK,EAAAsC,GACAgqB,EAAAtsB,EAAAsC,GAAA8qB,MAAA,KAAAC,MAAA,GAAArlB,KAAA,KACK,WAAA+S,EAAA/a,EAAAsC,KAAA,kBAAAtC,EAAAsC,GAAAgrB,OACLhB,EAAAtsB,EAAAsC,GAAAgrB,KAAA/vB,QAAA,SAGA,KAAA+uB,IACAG,EAAAzsB,EAAAktB,QAAA,SAAAjJ,GACA,OAAAA,EAAAsJ,eAAAvtB,EAAAqC,OAAA,CACAmrB,SAAA,eACSpwB,IAlCTwvB,OAAAa,WAAA,YACA,IAAAX,MACA,OAAAP,IACAA,EAAA,IAAAmB,iBAAAZ,IAGAP,EAAAoB,QAAA7lB,SAAA,CACA8lB,YAAA,EACAC,WAAA,EACAC,SAAA,IAGAtB,EAAAI,OAAAa,WAAA,WACAf,KACO,OAEJ,OA+BA1sB,EAAAY,UAGH,SAAAkrB,EAAA9rB,GACA,OAAA6rB,EAAA7rB,EAAAmsB,EAAApQ,MAGA,SAAAgQ,EAAA/rB,GACA,OAAA6rB,EAAA7rB,EAAAmsB,EAAA4B,SAGA,IAAA5U,EAAA,CACAjX,QAAAgqB,EAAAG,QAAA7S,KACA5Y,SAAAsrB,EAAAG,QAAA1S,KACAuT,OAAAhB,EAAAG,QAAA7S,KACAlX,GAAA4pB,EAAAG,QAAAjP,UAAA,CAAA8O,EAAAG,QAAA/S,OAAA4S,EAAAG,QAAAnQ,UAEA4P,EAAA3S,YACA4S,EAAA5S,2DCjJewI,cAAS,WALZ,CACXqM,aAAc,SAAAC,GAAQ,MAAI,IAAA9rB,OAAI8rB,KAC9BC,QAAS,SAACD,EAAU9oB,GAAX,MAAoB,IAAAhD,OAAI8rB,EAAJ,UAAA9rB,OAAqBgD,OCCpCwc,cAAS,gBAHZ,CACXwM,iBAAkB,iBAAM,CAAC,yCCH1B3O,EAAAC,EAAA7I,EAAA,sBAAAwX,IAAA5O,EAAAC,EAAA7I,EAAA,sBAAAjC,IAQO,IAAM0Z,EAAY,kBAAM,SAAAvb,GAC9B6B,EAAc,CAAC2Z,IAAoBC,KAAUzb,GAsBvC,SAA2BA,GAC1B0b,EAAiBL,mBAAmB5a,KAC1C,SAAAiB,GAAO,OACN1B,EAAS,CACR1K,KAAM4K,KACNC,QAASuB,KAEX,SAAAI,GAAG,OACF9B,EAAS,CACR1K,KAAM4K,KACNC,QAAS,CAAE2B,WA/Bd6Z,CAAkB3b,GAClB4b,cAAiB5b,GACjB6b,cAAa7b,KAEP,SAAS6B,EAAcia,EAAW9b,GACxC8b,EAAUna,QAAQ,SAAAwZ,GACjB,OAAO7a,EAAI4a,aAAaC,GAAU1a,KACjC,SAAAiB,GAAO,OACN1B,EAAS,CACR1K,KAAM4K,KACNC,QAASuB,KAEX,SAAAI,GAAG,OACF9B,EAAS,CACR1K,KAAM4K,KACNC,QAAS,CAAE2B,+ECzBhB0R,EAAAC,QAAiB/G,EAAAgH,EAAuB","file":"static/js/9.4e195860.chunk.js","sourcesContent":["import D from 'js/i18n';\nimport { getMessageForSecondLang } from 'js/i18n/build-dictionary';\nimport { isLang2 } from 'js/i18n/build-dictionary';\n\n/**\n * This method is used when we cant to create a new SIMS.\n * It will return a new Object with the labels predefined based\n * on the parent object\n *\n * @param {import('js/types/index').Series | import('js/types/index').Indicator | import('js/types/index').Operation } parent\n * @returns {import('js/types').Sims}\n */\nexport function getLabelsFromParent(parent, type = 'operation') {\n\tconst labelOperationNameTemplate = '{{PARENT_LABEL}}';\n\tconst key = 'simsLabel_' + type;\n\treturn {\n\t\tlabelLg1: D[key].replace(labelOperationNameTemplate, parent.prefLabelLg1),\n\t\tlabelLg2: getMessageForSecondLang(key).replace(\n\t\t\tlabelOperationNameTemplate,\n\t\t\tparent.prefLabelLg2\n\t\t),\n\t};\n}\n/**\n *\n * Take a an array as input, and return a hierarchical tree based on objects\n * @param {Array<Object>} input : the content of a SIMS\n * @param {string} idParent\n * @param {object} objectToMerge\n */\nexport function getTree(input, idParent, objectToMerge) {\n\treturn input\n\t\t.filter(msd => msd.idParent === idParent)\n\t\t.sort((msd1, msd2) => {\n\t\t\tconst msdId1 = parseInt(msd1.idMas.substr(2).replace('.', ''), 10);\n\t\t\tconst msdId2 = parseInt(msd2.idMas.substr(2).replace('.', ''), 10);\n\n\t\t\treturn msdId1 - msdId2;\n\t\t})\n\t\t.reduce((acc, msd) => {\n\t\t\tconst msdToMerge = objectToMerge[msd.idMas] || {};\n\t\t\treturn {\n\t\t\t\t...acc,\n\t\t\t\t[msd.idMas]: {\n\t\t\t\t\t...msd,\n\t\t\t\t\tmasLabelBasedOnCurrentLang: isLang2()\n\t\t\t\t\t\t? msd.masLabelLg2\n\t\t\t\t\t\t: msd.masLabelLg1,\n\t\t\t\t\tisPresentational: msdToMerge.isPresentational || false,\n\t\t\t\t\trangeType: msdToMerge.rangeType,\n\t\t\t\t\tcodeList: msdToMerge.codeList,\n\t\t\t\t\tchildren: getTree(input, msd.idMas, objectToMerge),\n\t\t\t\t},\n\t\t\t};\n\t\t}, {});\n}\n\n/**\n * Flatten a hierarchical tree. Return the same type of data : an object with the\n * ID of the element as a key\n * @param {Object} tree\n */\nexport function flattenTree(tree) {\n\tif (!tree) {\n\t\treturn null;\n\t}\n\treturn Object.keys(tree).reduce((acc, key) => {\n\t\treturn {\n\t\t\t...acc,\n\t\t\t[key]: {\n\t\t\t\t...tree[key],\n\t\t\t},\n\t\t\t...flattenTree(tree[key].children),\n\t\t};\n\t}, {});\n}\n\nexport const rangeType = {\n\tREPORTED_ATTRIBUTE: 'REPORTED_ATTRIBUTE',\n\tTEXT: 'TEXT',\n\tDATE: 'DATE',\n\tCODE_LIST: 'CODE_LIST',\n\tRICH_TEXT: 'RICH_TEXT',\n\tORGANIZATION: 'ORGANIZATION',\n};\n","import { rangeType } from 'js/utils/msd/';\nimport { DUPLICATE } from 'js/components/operations/msd';\n\nconst { RICH_TEXT, TEXT } = rangeType;\n\nexport const HELP_COLLAPSED = 'HELP_COLLAPSED';\n\nexport function isOpen(id) {\n\tconst collapsed = JSON.parse(localStorage.getItem(HELP_COLLAPSED)) || {};\n\treturn collapsed[id] || false;\n}\n\nexport function toggleOpen(id) {\n\tconst collapsed = JSON.parse(localStorage.getItem(HELP_COLLAPSED)) || {};\n\tconst previous = collapsed[id] || false;\n\tlocalStorage.setItem(\n\t\tHELP_COLLAPSED,\n\t\tJSON.stringify({\n\t\t\t...collapsed,\n\t\t\t[id]: !previous,\n\t\t})\n\t);\n}\n\n/**\n * Return true if the section of a MSD should display its labelLg2\n *\n * @param {Object} section\n * @returns {Boolean}\n */\nexport function hasLabelLg2(section) {\n\treturn section.rangeType === TEXT || section.rangeType === RICH_TEXT;\n}\n\n/**\n * Return true if the duplicate button should be displayed.\n * For the moment only Sims linked to an operation (with siblings operations\n * wihout SIMS) can use this feature.\n *\n * @param {Object} sims\n * @returns {Boolean}\n */\nexport function shouldDisplayDuplicateButton(sims) {\n\tconst siblingsWithoutSims = sims.parentsWithoutSims || [];\n\treturn siblingsWithoutSims.length > 0 && sims.idOperation;\n}\n\n/**\n *\n * @param {import('js/types').Sims} sims\n * @returns {String}\n */\nexport function getParentUri(sims) {\n\tif (sims.idOperation) {\n\t\treturn `/operations/operation/${sims.idOperation}`;\n\t} else if (sims.idSeries) {\n\t\treturn `/operations/series/${sims.idSeries}`;\n\t} else if (sims.idIndicator) {\n\t\treturn `/operations/indicator/${sims.idIndicator}`;\n\t}\n}\n\nexport function getParentType(sims) {\n\tif (sims.idOperation) {\n\t\treturn 'operation';\n\t}\n\tif (sims.idSeries) {\n\t\treturn 'series';\n\t}\n\tif (sims.idIndicator) {\n\t\treturn 'indicator';\n\t}\n}\n\nexport function getParentId(sims) {\n\treturn sims.idOperation || sims.idSeries || sims.idIndicator;\n}\n\nexport function getParentIdName(parentType) {\n\tif (parentType === 'operation') {\n\t\treturn 'idOperation';\n\t}\n\tif (parentType === 'series') {\n\t\treturn 'idSeries';\n\t}\n\tif (parentType === 'indicator') {\n\t\treturn 'idIndicator';\n\t}\n}\n\nexport function removeRubricsWhenDuplicate(mode, rubrics = {}) {\n\t/**\n\t * @type {string[]} name A name to use.\n\t */\n\tconst blackList = ['I.6.4'];\n\n\treturn Object.keys(rubrics).reduce((acc, rubricKey) => {\n\t\tif (mode === DUPLICATE && blackList.indexOf(rubricKey) >= 0) return acc;\n\t\treturn {\n\t\t\t...acc,\n\t\t\t[rubricKey]: rubrics[rubricKey],\n\t\t};\n\t}, {});\n}\n\nexport function shouldDisplayTitleForPrimaryItem(msd) {\n\treturn (\n\t\tmsd.isPresentational ||\n\t\t(!msd.isPresentational && Object.keys(msd.children).length === 0)\n\t);\n}\n","import React, { Component } from 'react';\nimport { HashLink as Link } from 'react-router-hash-link';\nimport { toggleOpen, isOpen } from 'js/components/operations/msd/utils';\nimport PropTypes from 'prop-types';\nimport D from 'js/i18n';\n\nclass OutlineBlock extends Component {\n\tstatic propTypes = {\n\t\tsecondary: PropTypes.bool,\n\t\tparent: PropTypes.string,\n\t\tbaseUrl: PropTypes.string,\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tchildren: Object.keys(this.props.children).reduce((acc, childId) => {\n\t\t\t\treturn {\n\t\t\t\t\t...acc,\n\t\t\t\t\t[childId]: {\n\t\t\t\t\t\t...this.props.children[childId],\n\t\t\t\t\t\topened: isOpen(childId),\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t}, {}),\n\t\t};\n\t}\n\n\texpandOrCollapseItem = ({ currentTarget: { id } }) => {\n\t\ttoggleOpen(id);\n\t\tthis.setState(previousState => ({\n\t\t\tchildren: {\n\t\t\t\t...previousState.children,\n\t\t\t\t[id]: {\n\t\t\t\t\t...previousState.children[id],\n\t\t\t\t\topened: !previousState.children[id].opened,\n\t\t\t\t},\n\t\t\t},\n\t\t}));\n\t};\n\trender() {\n\t\tconst {\n\t\t\tsecondary,\n\t\t\tparent,\n\t\t\tbaseUrl = '/operations/help/',\n\t\t\tdisableSectionAnchor = false,\n\t\t} = this.props;\n\t\tconst { children } = this.state;\n\t\tif (Object.keys(children).length <= 0) return null;\n\t\treturn (\n\t\t\t<ul className={secondary ? 'msd__item-secondary' : 'msd__item'}>\n\t\t\t\t{Object.values(children).map(child => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li key={child.idMas} className=\"help-item\">\n\t\t\t\t\t\t\t{Object.keys(child.children).length > 0 && (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"msd__item-updown\"\n\t\t\t\t\t\t\t\t\ttitle={child.opened ? D.hide : D.display}\n\t\t\t\t\t\t\t\t\tid={child.idMas}\n\t\t\t\t\t\t\t\t\tonClick={this.expandOrCollapseItem}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tclassName={`glyphicon glyphicon-chevron-${\n\t\t\t\t\t\t\t\t\t\t\tchild.opened ? 'up' : 'down'\n\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tsmooth\n\t\t\t\t\t\t\t\tto={`${baseUrl}${disableSectionAnchor ? '' : parent}#${\n\t\t\t\t\t\t\t\t\tchild.idMas\n\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{child.idMas} - {child.masLabelBasedOnCurrentLang}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t{child.opened && (\n\t\t\t\t\t\t\t\t<OutlineBlock\n\t\t\t\t\t\t\t\t\tchildren={child.children}\n\t\t\t\t\t\t\t\t\tsecondary\n\t\t\t\t\t\t\t\t\tparent={parent}\n\t\t\t\t\t\t\t\t\tbaseUrl={baseUrl}\n\t\t\t\t\t\t\t\t\tdisableSectionAnchor={disableSectionAnchor}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</ul>\n\t\t);\n\t}\n}\n\nexport default OutlineBlock;\n","import React, { Component } from 'react';\nimport { toggleOpen, isOpen } from 'js/components/operations/msd/utils';\nimport { HashLink as Link } from 'react-router-hash-link';\nimport OutlineBlock from 'js/components/operations/msd/outline/outline-block';\nimport PropTypes from 'prop-types';\nimport D from 'js/i18n';\n\nimport './style.scss';\n\nclass Outline extends Component {\n\tstatic propTypes = {\n\t\tstoreCollapseState: PropTypes.bool,\n\t\tmetadataStructure: PropTypes.object.isRequired,\n\t\tbaseUrl: PropTypes.string,\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\t/**\n\t\t * If the storeCollapseState is false, we won't store the state in the localStorage.\n\t\t * It will be resetted after each F5\n\t\t */\n\t\tthis.state = {\n\t\t\topened: props.storeCollapseState && isOpen(props.metadataStructure.idMas),\n\t\t};\n\t}\n\n\texpandOrCollapseItem = () => {\n\t\tthis.setState(previousState => ({ opened: !previousState.opened }));\n\t\tthis.props.storeCollapseState &&\n\t\t\ttoggleOpen(this.props.metadataStructure.idMas);\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\tmetadataStructure,\n\t\t\tstoreCollapseState,\n\t\t\tbaseUrl = '/operations/help/',\n\t\t\tdisableSectionAnchor = false,\n\t\t} = this.props;\n\n\t\treturn (\n\t\t\t<li>\n\t\t\t\t<div className=\"msd__outline-primary-item\">\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto={`${baseUrl}${\n\t\t\t\t\t\t\tdisableSectionAnchor ? '' : metadataStructure.idMas\n\t\t\t\t\t\t}#${metadataStructure.idMas}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{metadataStructure.idMas} -{' '}\n\t\t\t\t\t\t{metadataStructure.masLabelBasedOnCurrentLang}\n\t\t\t\t\t</Link>\n\n\t\t\t\t\t{Object.keys(metadataStructure.children).length > 0 && (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"msd__outline-primary-updown\"\n\t\t\t\t\t\t\ttitle={this.state.opened ? D.hide : D.display}\n\t\t\t\t\t\t\tonClick={this.expandOrCollapseItem}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName={` glyphicon glyphicon-chevron-${\n\t\t\t\t\t\t\t\t\tthis.state.opened ? 'up' : 'down'\n\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t{this.state.opened && (\n\t\t\t\t\t<OutlineBlock\n\t\t\t\t\t\tchildren={metadataStructure.children}\n\t\t\t\t\t\tparent={metadataStructure.idMas}\n\t\t\t\t\t\tstoreCollapseState={storeCollapseState}\n\t\t\t\t\t\tbaseUrl={baseUrl}\n\t\t\t\t\t\tdisableSectionAnchor={disableSectionAnchor}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</li>\n\t\t);\n\t}\n}\n\nexport default Outline;\n","import React, { Component } from 'react';\nimport Outline from 'js/components/operations/msd/outline/';\nimport D from 'js/i18n';\nimport PropTypes from 'prop-types';\n\nimport './style.scss';\n\nconst STATUS = {\n\tBOTH: 'BOTH',\n\tSUMMARY: 'SUMMARY',\n\tCONTENT: 'CONTENT',\n};\nclass MSDComponent extends Component {\n\tstatic propTypes = {\n\t\tmetadataStructure: PropTypes.object.isRequired,\n\t\tstoreCollapseState: PropTypes.bool,\n\t\tchildren: PropTypes.array,\n\t\tbaseUrl: PropTypes.string,\n\t\tdisableSectionAnchor: PropTypes.bool,\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tstatus: localStorage.getItem('HELP_VIEW') || STATUS.BOTH,\n\t\t};\n\t}\n\n\tchangeStatus(status) {\n\t\tlocalStorage.setItem('HELP_VIEW', status);\n\t\tthis.setState(previousState => ({\n\t\t\tstatus,\n\t\t}));\n\t}\n\n\tchangeStatusToBoth = () => this.changeStatus(STATUS.BOTH);\n\tchangeStatusToContent = () => this.changeStatus(STATUS.CONTENT);\n\tchangeStatusToSummary = () => this.changeStatus(STATUS.SUMMARY);\n\n\trender() {\n\t\tconst { status } = this.state;\n\n\t\tconst styleSummary = {\n\t\t\twidth: status === STATUS.BOTH ? '25%' : '100%',\n\t\t\tdisplay: status === STATUS.CONTENT ? 'none' : 'block',\n\t\t};\n\t\tconst styleContent = {\n\t\t\twidth: status === STATUS.BOTH ? '75%' : '100%',\n\t\t\tdisplay: status === STATUS.SUMMARY ? 'none' : 'block',\n\t\t};\n\t\tconst {\n\t\t\tstoreCollapseState,\n\t\t\tmetadataStructure,\n\t\t\tchildren,\n\t\t\tbaseUrl,\n\t\t\tdisableSectionAnchor,\n\t\t} = this.props;\n\t\treturn (\n\t\t\t<div id=\"consulter-sommaire\" className=\"container msd__container\">\n\t\t\t\t<section className=\"msd__outline\" style={styleSummary}>\n\t\t\t\t\t<div className=\"msd__outline_title\">{D.helpSummary}</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tdisabled\n\t\t\t\t\t\tplaceholder={D.search}\n\t\t\t\t\t\taria-label={D.search}\n\t\t\t\t\t/>\n\t\t\t\t\t<nav className=\"msd__outline-container\">\n\t\t\t\t\t\t<ul className=\"msd__outline-content\">\n\t\t\t\t\t\t\t{Object.values(metadataStructure).map(metadata => (\n\t\t\t\t\t\t\t\t<Outline\n\t\t\t\t\t\t\t\t\tkey={metadata.idMas}\n\t\t\t\t\t\t\t\t\tstoreCollapseState={storeCollapseState}\n\t\t\t\t\t\t\t\t\tmetadataStructure={metadata}\n\t\t\t\t\t\t\t\t\tbaseUrl={baseUrl}\n\t\t\t\t\t\t\t\t\tdisableSectionAnchor={disableSectionAnchor}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</nav>\n\t\t\t\t</section>\n\n\t\t\t\t{status === STATUS.CONTENT && (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"msd__panel-trigger_left\"\n\t\t\t\t\t\tonClick={this.changeStatusToBoth}\n\t\t\t\t\t>\n\t\t\t\t\t\t{D.helpSummary}\n\t\t\t\t\t\t<span className=\"glyphicon glyphicon-chevron-right\" />\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t\t{status === STATUS.BOTH && (\n\t\t\t\t\t<div className=\"msd__panel-trigger_middle\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<button onClick={this.changeStatusToContent} title=\"open content\">\n\t\t\t\t\t\t\t\t<span className=\"glyphicon glyphicon-chevron-left\" />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<button onClick={this.changeStatusToSummary} title=\"open summary\">\n\t\t\t\t\t\t\t\t<span className=\"glyphicon glyphicon-chevron-right\" />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{status === STATUS.SUMMARY && (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"msd__panel-trigger_right\"\n\t\t\t\t\t\tonClick={this.changeStatusToBoth}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span className=\"glyphicon glyphicon-chevron-left\" />\n\t\t\t\t\t\t{D.helpContent}\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t\t<section\n\t\t\t\t\tstyle={styleContent}\n\t\t\t\t\tclassName={\n\t\t\t\t\t\tstatus === STATUS.CONTENT ? 'msd__content_alone' : 'msd__content'\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</section>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default MSDComponent;\n","import api from 'js/remote-api/operations-api';\nimport * as A from 'js/actions/constants';\nimport { LOADING } from 'js/constants';\nimport { getLabelsFromParent } from 'js/utils/msd';\n\n/**\n * Method used to merge a SIMS with the label of its corresponding\n * parent.\n *\n * @param {*} sims\n * @param {*} promise\n */\nfunction getFetchLabelsPromise(sims, promise) {\n\tfunction mergeLabels(parent, parentType) {\n\t\treturn {\n\t\t\t...sims,\n\t\t\t...getLabelsFromParent(parent, parentType),\n\t\t};\n\t}\n\tif (sims.idOperation) {\n\t\treturn api\n\t\t\t.getOperation(sims.idOperation)\n\t\t\t.then(parent => mergeLabels(parent, 'operation'));\n\t}\n\tif (sims.idSeries) {\n\t\treturn api\n\t\t\t.getSerie(sims.idSeries)\n\t\t\t.then(parent => mergeLabels(parent, 'series'));\n\t}\n\tif (sims.idIndicator) {\n\t\treturn api\n\t\t\t.getIndicator(sims.idIndicator)\n\t\t\t.then(parent => mergeLabels(parent, 'indicator'));\n\t}\n\treturn promise;\n}\n/**\n * This method is called when we need to save a SIMS.\n * If the sims passed as a parameter already have an id,\n * we will send a PUR request. If this property is not\n * present, a POST request will be send.\n *\n * @param {Sims} sims\n * @param {(string) => void} callback\n */\nexport const saveSims = (sims, callback) => dispatch => {\n\tlet promise = Promise.resolve(sims);\n\n\tif (!sims.labelLg1) {\n\t\tpromise = getFetchLabelsPromise(sims, promise);\n\t}\n\n\tconst method = sims.id ? 'putSims' : 'postSims';\n\tdispatch({\n\t\ttype: A.SAVE_OPERATIONS_SIMS,\n\t\tpayload: sims,\n\t});\n\treturn promise.then(sims => {\n\t\treturn api[method](sims).then(\n\t\t\tresults => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: A.SAVE_OPERATIONS_SIMS_SUCCESS,\n\t\t\t\t\tpayload: sims,\n\t\t\t\t});\n\t\t\t\tcallback(results || sims.id);\n\t\t\t},\n\t\t\terr => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: A.SAVE_OPERATIONS_SIMS_FAILURE,\n\t\t\t\t\tpayload: { err },\n\t\t\t\t});\n\t\t\t}\n\t\t);\n\t});\n};\n\nfunction getParentsWithoutSims(idOperation) {\n\tif (idOperation) {\n\t\treturn api\n\t\t\t.getOperation(idOperation)\n\t\t\t.then(operation => api.getOperationsWithoutReport(operation.series.id));\n\t}\n\treturn Promise.resolve([]);\n}\n\nexport default id => (dispatch, getState) => {\n\tif (!id || getState().operationsSimsCurrentStatus === LOADING) {\n\t\treturn;\n\t}\n\tdispatch({\n\t\ttype: A.LOAD_OPERATIONS_SIMS,\n\t\tpayload: {\n\t\t\tid,\n\t\t},\n\t});\n\n\treturn api.getSims(id).then(\n\t\tresults => {\n\t\t\treturn getParentsWithoutSims(results.idOperation).then(\n\t\t\t\t(parentsWithoutSims = []) => {\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: A.LOAD_OPERATIONS_SIMS_SUCCESS,\n\t\t\t\t\t\tpayload: {\n\t\t\t\t\t\t\t...results,\n\t\t\t\t\t\t\tparentsWithoutSims,\n\t\t\t\t\t\t\trubrics: results.rubrics.reduce((acc, rubric) => {\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t...acc,\n\t\t\t\t\t\t\t\t\t[rubric.idAttribute]: {\n\t\t\t\t\t\t\t\t\t\t...rubric,\n\t\t\t\t\t\t\t\t\t\tidMas: rubric.idAttribute,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}, {}),\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\n\t\terr => {\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_OPERATIONS_SIMS_LIST_FAILURE,\n\t\t\t\tpayload: { err },\n\t\t\t});\n\t\t}\n\t);\n};\n","import React from 'react';\nimport D from 'js/i18n';\nimport { rangeType } from 'js/utils/msd/';\nconst { CODE_LIST, ORGANIZATION } = rangeType;\n\nexport default function HelpInformation({ msd, codesLists, organisations }) {\n\tif (!msd.masLabelLg1) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<dl>\n\t\t\t<dt>{D.labelTitle}:</dt>\n\t\t\t<dd>{msd.masLabelLg2}</dd>\n\t\t\t<dt>{D.helpPresentational}:</dt>\n\t\t\t<dd>{msd.isPresentational.toString()}</dd>\n\t\t\t<dt>{D.helpRange}:</dt>\n\t\t\t<dd>\n\t\t\t\t{msd.rangeType === CODE_LIST && codesLists[msd.codeList]\n\t\t\t\t\t? `${D[`help${msd.rangeType}`]} - ${\n\t\t\t\t\t\t\tcodesLists[msd.codeList].codeListLabelLg1\n\t\t\t\t\t  }`\n\t\t\t\t\t: `${D[`help${msd.rangeType}`]}`}\n\n\t\t\t\t{msd.rangeType === CODE_LIST && codesLists[msd.codeList] && (\n\t\t\t\t\t<ul className=\"list-group\">\n\t\t\t\t\t\t{codesLists[msd.codeList].codes.map(code => (\n\t\t\t\t\t\t\t<li className=\"list-group-item\" key={code.code}>\n\t\t\t\t\t\t\t\t{code.labelLg1}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ul>\n\t\t\t\t)}\n\t\t\t\t{msd.rangeType === ORGANIZATION && (\n\t\t\t\t\t<ul className=\"list-group\">\n\t\t\t\t\t\t{organisations.map(orga => (\n\t\t\t\t\t\t\t<li className=\"list-group-item\" key={orga.id}>\n\t\t\t\t\t\t\t\t{orga.label}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ul>\n\t\t\t\t)}\n\t\t\t</dd>\n\t\t</dl>\n\t);\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport HelpInformation from 'js/components/operations/msd/help-information';\nimport { Note } from 'js/components/shared/note/note';\n\nexport default function MSDHelp({\n\tmetadataStructure,\n\tcurrentSection,\n\tcodesLists,\n\tlangs: { lg1 },\n\torganisations,\n}) {\n\tfunction MSDInformations({ msd }) {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div className=\"row\" key={msd.idMas} id={msd.idMas}>\n\t\t\t\t\t<Note\n\t\t\t\t\t\ttitle={`${msd.idMas} - ${msd.masLabelLg1}`}\n\t\t\t\t\t\ttext={\n\t\t\t\t\t\t\t<HelpInformation\n\t\t\t\t\t\t\t\tmsd={msd}\n\t\t\t\t\t\t\t\tcodesLists={codesLists}\n\t\t\t\t\t\t\t\torganisations={organisations}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\talone\n\t\t\t\t\t\tlang={lg1}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t{Object.values(msd.children).map(child => (\n\t\t\t\t\t<MSDInformations key={child.idMas} msd={child} />\n\t\t\t\t))}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n\treturn Object.values(metadataStructure).map(msd => {\n\t\tif (currentSection && msd.idMas !== currentSection) {\n\t\t\treturn null;\n\t\t}\n\t\treturn <MSDInformations key={msd.idMas} msd={msd} />;\n\t});\n}\n\nMSDHelp.propTypes = {\n\tmetadataStructure: PropTypes.object.isRequired,\n\tcurrentSection: PropTypes.string,\n\tcodesLists: PropTypes.object.isRequired,\n};\n","import spinner from 'img/spinner.svg';\nimport loadDocuments from 'js/actions/operations/documents/list';\nimport { LOADING, NOT_LOADED } from 'js/constants';\nimport D from 'js/i18n';\nimport { getLang } from 'js/i18n/build-dictionary';\nimport {\n\tgetOperationsDocuments,\n\tgetOperationsDocumentsStatus,\n} from 'js/reducers/operations/selector';\nimport { sortArray } from 'js/utils/array-utils';\nimport React, { Component, useState } from 'react';\nimport { connect } from 'react-redux';\nimport './style.scss';\n\n/**\n * @typedef {Object} DocumentsBlocProps\n * @property {import('js/types').SimsDocuments[]=}  documents\n * @property {String=} localPrefix\n * @property {Boolean=} editMode\n * @property {(string) => void } deleteHandler\n * @property {(string) => void } addHandler\n * @property {import('js/types').SimsDocuments[]} documentStores\n * @property {String} documentStoresStatus\n * @property {String} objectType\n */\n\n/**\n * This component will display a list of documents associated\n * to a RICH_TEXT typed rubric of a SIMS\n *\n * @param {DocumentsBlocProps} props\n */\nexport function DocumentsBloc({\n\tdocuments = [],\n\tlocalPrefix = 'Lg1',\n\teditMode = false,\n\tdeleteHandler,\n\taddHandler,\n\tdocumentStores = [],\n\tdocumentStoresStatus,\n\tobjectType,\n}) {\n\tconst [panelStatus, setPanelStatus] = useState(false);\n\tconst [filter, setFilter] = useState('');\n\n\tconst currentDocuments = sortArray(`label${localPrefix}`)(documents);\n\tconst currentDocumentsIds = currentDocuments.map(doc => doc.uri);\n\n\tconst otherDocuments = sortArray(`label${localPrefix}`)(\n\t\tdocumentStores\n\t\t\t.filter(document => !currentDocumentsIds.includes(document.uri))\n\t\t\t.filter(document =>\n\t\t\t\t['', document.labelLg1, document.labelLg2]\n\t\t\t\t\t.join()\n\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t.includes(filter.toLowerCase())\n\t\t\t)\n\t);\n\tconst isSecondLang = localPrefix === 'Lg2';\n\n\tfunction getAsideToTheDocument(document) {\n\t\tlet updatedDate;\n\t\tif (document.updatedDate) {\n\t\t\tupdatedDate = new Intl.DateTimeFormat(getLang()).format(\n\t\t\t\tnew Date(document.updatedDate)\n\t\t\t);\n\t\t}\n\t\treturn [document.lang, updatedDate].filter(val => !!val).join('-');\n\t}\n\n\t/**\n\t * @param {import('js/types').SimsDocuments} document\n\t */\n\tconst defaultBtnBlocFunction = document => (\n\t\t<button\n\t\t\ttype=\"button\"\n\t\t\tclassName=\"documentsbloc__delete documentsbloc__btn\"\n\t\t\taria-label={D.btnDelete}\n\t\t\tonClick={() => deleteHandler(document.uri)}\n\t\t>\n\t\t\t<span className=\"glyphicon glyphicon-trash\" aria-hidden=\"true\" />\n\t\t</button>\n\t);\n\n\t/**\n\t * @param {import('js/types').SimsDocuments} document\n\t */\n\tfunction displayHTMLForDocument(\n\t\tdocument,\n\t\tbtnBlocFunction = defaultBtnBlocFunction\n\t) {\n\t\tconst label =\n\t\t\tdocument[`label${localPrefix}`] || document.labelLg1 || document.labelLg2;\n\t\treturn (\n\t\t\t<li className=\"list-group-item documentbloc__item\" key={document.uri}>\n\t\t\t\t<span>\n\t\t\t\t\t<a\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\thref={document.url}\n\t\t\t\t\t\ttitle={document[`description${localPrefix}`]}\n\t\t\t\t\t>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</a>\n\t\t\t\t\t<i> ({getAsideToTheDocument(document)})</i>\n\t\t\t\t</span>\n\t\t\t\t{editMode && !isSecondLang && btnBlocFunction(document)}\n\t\t\t</li>\n\t\t);\n\t}\n\tconst addTitle = objectType === 'documents' ? D.addDocument : D.addLink;\n\tconst title = objectType === 'documents' ? D.titleDocument : D.titleLink;\n\treturn (\n\t\t<>\n\t\t\t{(documents.length > 0 || editMode) && <h4>{title}</h4>}\n\t\t\t{documents && documents.length > 0 && (\n\t\t\t\t<ul className=\"documentsbloc list-group\">\n\t\t\t\t\t{currentDocuments.map(document => displayHTMLForDocument(document))}\n\t\t\t\t</ul>\n\t\t\t)}\n\t\t\t{editMode && !isSecondLang && (\n\t\t\t\t<div className=\"panel panel-default\">\n\t\t\t\t\t<div className=\"panel-heading\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn documentsbloc__add documentsbloc__btn\"\n\t\t\t\t\t\t\taria-label={addTitle}\n\t\t\t\t\t\t\tonClick={() => setPanelStatus(!panelStatus)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName={`glyphicon glyphicon-menu-${\n\t\t\t\t\t\t\t\t\tpanelStatus ? 'down' : 'right'\n\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{addTitle}{' '}\n\t\t\t\t\t\t\t{documentStoresStatus === LOADING ? (\n\t\t\t\t\t\t\t\t<img src={spinner} width=\"30px\" alt=\"loading\" />\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<span className=\"badge\">{otherDocuments.length}</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t{panelStatus && (\n\t\t\t\t\t\t<div className=\"panel-body\">\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label className=\"sr-only\" htmlFor=\"documentFilter\">\n\t\t\t\t\t\t\t\t\t{D.search}\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tid=\"documentFilter\"\n\t\t\t\t\t\t\t\t\tplaceholder={D.search}\n\t\t\t\t\t\t\t\t\tvalue={filter}\n\t\t\t\t\t\t\t\t\tonChange={e => setFilter(e.target.value)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<ul className=\"documentsbloc__filepicker\">\n\t\t\t\t\t\t\t\t{otherDocuments.map(document => {\n\t\t\t\t\t\t\t\t\treturn displayHTMLForDocument(document, document => (\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"documentsbloc__delete documentsbloc__btn\"\n\t\t\t\t\t\t\t\t\t\t\taria-label={D.btnAdd}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => addHandler(document)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"glyphicon glyphicon-plus\"\n\t\t\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t));\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</>\n\t);\n}\n\nclass DocumentsBlocContainer extends Component {\n\tcomponentWillMount() {\n\t\tif (this.props.documentStoresStatus === NOT_LOADED) {\n\t\t\tthis.props.loadDocuments();\n\t\t}\n\t}\n\trender() {\n\t\treturn <DocumentsBloc {...this.props} />;\n\t}\n}\n\nconst mapDispatchToProps = {\n\tloadDocuments,\n};\n\n/**\n * @param {DocumentsBlocProps} ownProps\n */\nconst mapStateToProps = (state, ownProps) => {\n\treturn {\n\t\tdocumentStoresStatus: getOperationsDocumentsStatus(state),\n\t\tdocumentStores: getOperationsDocuments(state, ownProps.objectType),\n\t};\n};\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(DocumentsBlocContainer);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport D from 'js/i18n';\nimport { stringToDate } from 'js/utils/moment';\nimport { rangeType } from 'js/utils/msd/';\nimport CheckSecondLang from 'js/components/shared/second-lang-checkbox';\nimport Button from 'js/components/shared/button';\nimport { markdownToHtml } from 'js/utils/html';\nimport { Note } from 'js/components/shared/note/note';\nimport DocumentsBloc from 'js/components/operations/msd/documents/documents-bloc/index.js';\nimport {\n\thasLabelLg2,\n\tshouldDisplayDuplicateButton,\n\tgetParentUri,\n} from 'js/components/operations/msd/utils';\nimport { isLink, isDocument } from 'js/components/operations/document/utils';\nimport {\n\tADMIN,\n\tSERIES_CREATOR,\n\tINDICATOR_CREATOR,\n\tCNIS,\n} from 'js/utils/auth/roles';\nimport Auth from 'js/utils/auth/components/auth';\nimport { DuplicateButton } from 'js/components/shared/button-with-icon';\n\nconst { RICH_TEXT, TEXT, DATE, CODE_LIST, ORGANIZATION } = rangeType;\n\nexport default function SimsVisualisation({\n\tmetadataStructure,\n\tcurrentSection,\n\tcodesLists,\n\tsims = {},\n\tsecondLang,\n\tsaveSecondLang,\n\tgoBack,\n\tlangs: { lg1, lg2 },\n\torganisations,\n}) {\n\tconst shouldDisplayDuplicateButtonFlag = shouldDisplayDuplicateButton(sims);\n\n\tfunction displayInformation(msd, isSecondLang = false, currentSection = {}) {\n\t\tif (!msd.masLabelLg1) {\n\t\t\treturn null;\n\t\t}\n\t\treturn (\n\t\t\t!msd.isPresentational && (\n\t\t\t\t<>\n\t\t\t\t\t{currentSection.rangeType === TEXT &&\n\t\t\t\t\t\tcurrentSection[isSecondLang ? 'labelLg2' : 'labelLg1']}\n\t\t\t\t\t{currentSection.value &&\n\t\t\t\t\t\tcurrentSection.rangeType === DATE &&\n\t\t\t\t\t\tstringToDate(currentSection.value)}\n\t\t\t\t\t{currentSection.rangeType === RICH_TEXT && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t__html: markdownToHtml(\n\t\t\t\t\t\t\t\t\t\tcurrentSection[isSecondLang ? 'labelLg2' : 'labelLg1']\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{currentSection.documents && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<DocumentsBloc\n\t\t\t\t\t\t\t\t\t\tdocuments={currentSection.documents.filter(isDocument)}\n\t\t\t\t\t\t\t\t\t\tlocalPrefix={isSecondLang ? 'Lg2' : 'Lg1'}\n\t\t\t\t\t\t\t\t\t\tobjectType=\"documents\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<DocumentsBloc\n\t\t\t\t\t\t\t\t\t\tdocuments={currentSection.documents.filter(isLink)}\n\t\t\t\t\t\t\t\t\t\tlocalPrefix={isSecondLang ? 'Lg2' : 'Lg1'}\n\t\t\t\t\t\t\t\t\t\tobjectType=\"links\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t{currentSection.rangeType === CODE_LIST &&\n\t\t\t\t\t\tcodesLists[currentSection.codeList] && (\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{currentSection.codeList}-\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tcodesLists[currentSection.codeList].codes.find(\n\t\t\t\t\t\t\t\t\t\tcode => code.code === currentSection.value\n\t\t\t\t\t\t\t\t\t).labelLg1\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t{currentSection.rangeType === ORGANIZATION && (\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\torganisations.find(\n\t\t\t\t\t\t\t\t\t\torga => orga.id === currentSection.value\n\t\t\t\t\t\t\t\t\t) || {}\n\t\t\t\t\t\t\t\t).label\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)\n\t\t);\n\t}\n\n\tfunction MSDInformations({ msd, firstLevel = false }) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div className=\"row flex\" key={msd.idMas} id={msd.idMas}>\n\t\t\t\t\t{firstLevel && shouldDisplayTitleForPrimaryItem(msd) && (\n\t\t\t\t\t\t<h3 className=\"col-md-12\">\n\t\t\t\t\t\t\t{msd.idMas} - {msd.masLabelBasedOnCurrentLang}\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t)}\n\t\t\t\t\t{!msd.isPresentational && (\n\t\t\t\t\t\t<Note\n\t\t\t\t\t\t\ttitle={`${msd.idMas} - ${msd.masLabelBasedOnCurrentLang}`}\n\t\t\t\t\t\t\ttext={displayInformation(msd, false, sims.rubrics[msd.idMas])}\n\t\t\t\t\t\t\talone={!(hasLabelLg2(msd) && secondLang)}\n\t\t\t\t\t\t\tlang={lg1}\n\t\t\t\t\t\t\talt={`${msd.idMas} - ${msd.masLabelLg1}`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{!msd.isPresentational && hasLabelLg2(msd) && secondLang && (\n\t\t\t\t\t\t<Note\n\t\t\t\t\t\t\ttitle={`${msd.idMas} - ${msd.masLabelBasedOnCurrentLang}`}\n\t\t\t\t\t\t\ttext={displayInformation(msd, true, sims.rubrics[msd.idMas])}\n\t\t\t\t\t\t\tlang={lg2}\n\t\t\t\t\t\t\talt={`${msd.idMas} - ${msd.masLabelLg2}`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t{Object.values(msd.children).map(child => (\n\t\t\t\t\t<MSDInformations key={child.idMas} msd={child} />\n\t\t\t\t))}\n\t\t\t</>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"row btn-line action-toolbar\">\n\t\t\t\t<Button action={() => goBack(getParentUri(sims))} label={D.btnReturn} />\n\t\t\t\t<div className=\"empty-center\" />\n\t\t\t\t<Auth\n\t\t\t\t\troles={[ADMIN, SERIES_CREATOR]}\n\t\t\t\t\tcomplementaryCheck={shouldDisplayDuplicateButtonFlag}\n\t\t\t\t>\n\t\t\t\t\t<DuplicateButton\n\t\t\t\t\t\taction={`/operations/sims/${sims.id}/duplicate`}\n\t\t\t\t\t\tcol={3}\n\t\t\t\t\t/>\n\t\t\t\t</Auth>\n\t\t\t\t<Auth roles={[ADMIN, INDICATOR_CREATOR, SERIES_CREATOR, CNIS]}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\taction={`/operations/sims/${sims.id}/modify`}\n\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName=\"glyphicon glyphicon-floppy-disk\"\n\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span> {D.btnUpdate}</span>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Auth>\n\t\t\t</div>\n\t\t\t<CheckSecondLang secondLang={secondLang} onChange={saveSecondLang} />\n\n\t\t\t{Object.values(metadataStructure).map(msd => {\n\t\t\t\tif (currentSection && msd.idMas !== currentSection) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn <MSDInformations key={msd.idMas} msd={msd} firstLevel={true} />;\n\t\t\t})}\n\t\t</>\n\t);\n}\nfunction shouldDisplayTitleForPrimaryItem(msd) {\n\treturn (\n\t\tmsd.isPresentational ||\n\t\t(!msd.isPresentational && Object.keys(msd.children).length === 0)\n\t);\n}\nSimsVisualisation.propTypes = {\n\tmetadataStructure: PropTypes.object.isRequired,\n\tcurrentSection: PropTypes.string,\n\tcodesLists: PropTypes.object.isRequired,\n\tsims: PropTypes.object.isRequired,\n\tgoBack: PropTypes.func,\n};\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport D from 'js/i18n';\nimport { rangeType } from 'js/utils/msd/';\nimport DatePickerRmes from 'js/components/shared/date-picker-rmes';\nimport InputRmes from 'js/components/shared/input-rmes';\nimport EditorMarkdown from 'js/components/shared/editor-html/editor-markdown';\nimport SelectRmes from 'js/components/shared/select-rmes';\nimport { Note } from 'js/components/shared/note/note';\nimport { isLink, isDocument } from 'js/components/operations/document/utils';\nimport './sims-field.scss';\nimport DocumentsBloc from '../../documents/documents-bloc';\n\nconst { RICH_TEXT, TEXT, DATE, CODE_LIST, ORGANIZATION } = rangeType;\n\nclass Field extends PureComponent {\n\tstatic propTypes = {\n\t\tmsd: PropTypes.object.isRequired,\n\t\tcurrentSection: PropTypes.object,\n\t\tcodesLists: PropTypes.object.isRequired,\n\t\thandleChange: PropTypes.func,\n\t\tsecondLang: PropTypes.bool,\n\t};\n\n\t_handleChange(override) {\n\t\tthis.props.handleChange({\n\t\t\tid: this.props.msd.idMas,\n\t\t\toverride,\n\t\t});\n\t}\n\n\thandleTextInput = value => {\n\t\tthis._handleChange({\n\t\t\t[this.props.secondLang ? 'labelLg2' : 'labelLg1']: value,\n\t\t});\n\t};\n\n\thandleCodeListInput = value => {\n\t\tthis._handleChange({ codeList: this.props.msd.codeList, value });\n\t};\n\n\t/**\n\t * @param {String} value The new value of the date input\n\t */\n\thandleDateInput = value => {\n\t\tthis._handleChange({ value });\n\t};\n\n\t_handleDeleteDocumentOrLinks = type => uri => {\n\t\tconst objects = this.props.currentSection[type] || [];\n\n\t\tthis._handleChange({\n\t\t\t[type]: objects.filter(doc => doc.uri !== uri),\n\t\t});\n\t};\n\n\t_handleAddDocumentOrLinks = type => newObject => {\n\t\tconst objects = this.props.currentSection[type] || [];\n\n\t\tthis._handleChange({\n\t\t\t[type]: [...objects, newObject],\n\t\t});\n\t};\n\n\t/**\n\t * Handler when the user click on a button in order to delete a document\n\t * @param {String} uri The uri of the document that we should remove\n\t */\n\thandleDeleteDocument = uri =>\n\t\tthis._handleDeleteDocumentOrLinks('documents')(uri);\n\n\t/**\n\t * Handler when the user add a new document to a rubric\n\t * @param {SimsDocuments} document\n\t */\n\thandleAddDocument = document =>\n\t\tthis._handleAddDocumentOrLinks('documents')(document);\n\n\trender() {\n\t\tconst {\n\t\t\tmsd,\n\t\t\tcurrentSection = {},\n\t\t\tsecondLang,\n\t\t\tlang,\n\t\t\talone,\n\t\t\torganisations = [],\n\t\t} = this.props;\n\t\tconst codesList = this.props.codesLists[msd.codeList] || {};\n\t\tconst codes = codesList.codes || [];\n\t\tconst codesListOptions = codes.map(c => ({\n\t\t\tlabel: c.labelLg1,\n\t\t\tvalue: c.code,\n\t\t}));\n\t\tconst organisationsOptions = organisations.map(c => ({\n\t\t\tlabel: c.label,\n\t\t\tvalue: c.id,\n\t\t}));\n\n\t\treturn (\n\t\t\t<Note\n\t\t\t\ttitle={`${msd.idMas} - ${msd.masLabelBasedOnCurrentLang}`}\n\t\t\t\talone={alone}\n\t\t\t\tlang={lang}\n\t\t\t\talt={`${msd.idMas} - ${\n\t\t\t\t\tmsd[secondLang ? 'masLabelLg2' : 'masLabelLg1']\n\t\t\t\t}`}\n\t\t\t\ttext={\n\t\t\t\t\t!msd.isPresentational && (\n\t\t\t\t\t\t<span className=\"simsField\">\n\t\t\t\t\t\t\t{msd.rangeType === TEXT && (\n\t\t\t\t\t\t\t\t<InputRmes\n\t\t\t\t\t\t\t\t\tid={msd.idMas}\n\t\t\t\t\t\t\t\t\tvalue={currentSection[secondLang ? 'labelLg2' : 'labelLg1']}\n\t\t\t\t\t\t\t\t\thandleChange={this.handleTextInput}\n\t\t\t\t\t\t\t\t\tarias={{\n\t\t\t\t\t\t\t\t\t\t'aria-label': D.simsValue,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{msd.rangeType === ORGANIZATION && (\n\t\t\t\t\t\t\t\t<SelectRmes\n\t\t\t\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tvalue={currentSection.value}\n\t\t\t\t\t\t\t\t\toptions={organisationsOptions}\n\t\t\t\t\t\t\t\t\tonChange={this.handleCodeListInput}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{msd.rangeType === DATE && (\n\t\t\t\t\t\t\t\t<DatePickerRmes\n\t\t\t\t\t\t\t\t\taria-label={D.simsValue}\n\t\t\t\t\t\t\t\t\tid={msd.idMas}\n\t\t\t\t\t\t\t\t\tcolMd={12}\n\t\t\t\t\t\t\t\t\tvalue={currentSection.value}\n\t\t\t\t\t\t\t\t\tonChange={this.handleCodeListInput}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{msd.rangeType === RICH_TEXT && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<EditorMarkdown\n\t\t\t\t\t\t\t\t\t\taria-label={D.simsValue}\n\t\t\t\t\t\t\t\t\t\ttext={currentSection[secondLang ? 'labelLg2' : 'labelLg1']}\n\t\t\t\t\t\t\t\t\t\thandleChange={this.handleTextInput}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<DocumentsBloc\n\t\t\t\t\t\t\t\t\t\tdocuments={(currentSection.documents || []).filter(\n\t\t\t\t\t\t\t\t\t\t\tisDocument\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\tlocalPrefix={secondLang ? 'Lg2' : 'Lg1'}\n\t\t\t\t\t\t\t\t\t\teditMode={true}\n\t\t\t\t\t\t\t\t\t\tdeleteHandler={this.handleDeleteDocument}\n\t\t\t\t\t\t\t\t\t\taddHandler={this.handleAddDocument}\n\t\t\t\t\t\t\t\t\t\tobjectType=\"documents\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<DocumentsBloc\n\t\t\t\t\t\t\t\t\t\tdocuments={(currentSection.documents || []).filter(isLink)}\n\t\t\t\t\t\t\t\t\t\tlocalPrefix={secondLang ? 'Lg2' : 'Lg1'}\n\t\t\t\t\t\t\t\t\t\teditMode={true}\n\t\t\t\t\t\t\t\t\t\tdeleteHandler={this.handleDeleteDocument}\n\t\t\t\t\t\t\t\t\t\taddHandler={this.handleAddDocument}\n\t\t\t\t\t\t\t\t\t\tobjectType=\"links\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{msd.rangeType === CODE_LIST && codesList && (\n\t\t\t\t\t\t\t\t<SelectRmes\n\t\t\t\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\t\t\t\taria-label={codesList.codeListLabelLg1}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tvalue={currentSection.value}\n\t\t\t\t\t\t\t\t\toptions={codesListOptions}\n\t\t\t\t\t\t\t\t\tonChange={this.handleCodeListInput}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default Field;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport D from 'js/i18n';\nimport Field from 'js/components/operations/msd/pages/sims-creation/sims-field';\nimport Button from 'js/components/shared/button';\nimport { flattenTree } from 'js/utils/msd';\nimport ReactLoading from 'react-loading';\nimport CheckSecondLang from 'js/components/shared/second-lang-checkbox';\nimport SelectRmes from 'js/components/shared/select-rmes';\nimport { DUPLICATE } from 'js/components/operations/msd';\nimport {\n\thasLabelLg2,\n\tgetParentId,\n\tgetParentIdName,\n\tremoveRubricsWhenDuplicate,\n\tshouldDisplayTitleForPrimaryItem,\n} from 'js/components/operations/msd/utils';\n\nclass SimsCreation extends React.Component {\n\tstatic propTypes = {\n\t\tmetadataStructure: PropTypes.object.isRequired,\n\t\tcodesLists: PropTypes.object.isRequired,\n\t\tsims: PropTypes.object,\n\t\tonSubmit: PropTypes.func.isRequired,\n\t\tgoBack: PropTypes.func,\n\t\tmode: PropTypes.string,\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tconst { metadataStructure, sims = {} } = this.props;\n\t\tconst flattenStructure = flattenTree(metadataStructure);\n\n\t\tthis.state = {\n\t\t\tsaving: false,\n\t\t\tidParent:\n\t\t\t\tthis.props.mode !== DUPLICATE\n\t\t\t\t\t? this.props.idParent || getParentId(this.props.sims)\n\t\t\t\t\t: '',\n\t\t\tsims: {\n\t\t\t\t...Object.keys(flattenStructure).reduce((acc, key) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...acc,\n\t\t\t\t\t\t[key]: {\n\t\t\t\t\t\t\trangeType: flattenStructure[key].rangeType,\n\t\t\t\t\t\t\tidAttribute: key,\n\t\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\t\tlabelLg1: '',\n\t\t\t\t\t\t\tlabelLg2: '',\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}, {}),\n\t\t\t\t...removeRubricsWhenDuplicate(props.mode, sims.rubrics),\n\t\t\t},\n\t\t};\n\t}\n\n\thandleChange = e => {\n\t\tthis.setState(state => ({\n\t\t\t...state,\n\t\t\tsims: {\n\t\t\t\t...state.sims,\n\t\t\t\t[e.id]: {\n\t\t\t\t\t...state.sims[e.id],\n\t\t\t\t\t...e.override,\n\t\t\t\t},\n\t\t\t},\n\t\t}));\n\t};\n\n\tupdateIdParent = value => {\n\t\tthis.setState({\n\t\t\tidParent: value,\n\t\t});\n\t};\n\n\thandleSubmit = e => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tthis.setState({ saving: true });\n\n\t\tthis.props.onSubmit(\n\t\t\t{\n\t\t\t\tid: this.props.mode !== DUPLICATE ? this.props.sims.id : '',\n\t\t\t\tlabelLg1: this.props.mode !== DUPLICATE ? this.props.sims.labelLg1 : '',\n\t\t\t\tlabelLg2: this.props.mode !== DUPLICATE ? this.props.sims.labelLg2 : '',\n\t\t\t\t[getParentIdName(this.props.parentType)]: this.state.idParent,\n\t\t\t\trubrics: Object.values(this.state.sims),\n\t\t\t},\n\t\t\tid => {\n\t\t\t\tthis.setState({ saving: false });\n\t\t\t\tthis.props.goBack(`/operations/sims/${id}`);\n\t\t\t}\n\t\t);\n\t};\n\n\tgoBack = () => {\n\t\tconst { goBack, sims, parentType } = this.props;\n\t\tconst { idParent } = this.state;\n\t\tgoBack(\n\t\t\tsims.id\n\t\t\t\t? `/operations/sims/${sims.id}`\n\t\t\t\t: `/operations/${parentType}/${idParent}`\n\t\t);\n\t};\n\trender() {\n\t\tconst {\n\t\t\tmetadataStructure,\n\t\t\tcodesLists,\n\t\t\tsaveSecondLang,\n\t\t\tsecondLang,\n\t\t\tmode,\n\t\t\tlangs: { lg1, lg2 },\n\t\t\torganisations,\n\t\t} = this.props;\n\t\tconst { sims, idParent } = this.state;\n\t\tconst operationsOptions = (this.props.sims.parentsWithoutSims || []).map(\n\t\t\top => ({\n\t\t\t\tlabel: op.labelLg1,\n\t\t\t\tvalue: op.id,\n\t\t\t})\n\t\t);\n\t\tfunction MSDInformations(msd, handleChange, firstLevel = false) {\n\t\t\treturn (\n\t\t\t\t<React.Fragment key={msd.idMas}>\n\t\t\t\t\t<div className=\"row flex\" id={msd.idMas}>\n\t\t\t\t\t\t{firstLevel && shouldDisplayTitleForPrimaryItem(msd) && (\n\t\t\t\t\t\t\t<h3 className=\"col-md-12\">\n\t\t\t\t\t\t\t\t{msd.idMas} - {msd.masLabelBasedOnCurrentLang}\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!msd.isPresentational && (\n\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\tmsd={msd}\n\t\t\t\t\t\t\t\tcurrentSection={sims[msd.idMas]}\n\t\t\t\t\t\t\t\thandleChange={handleChange}\n\t\t\t\t\t\t\t\tcodesLists={codesLists}\n\t\t\t\t\t\t\t\tsecondLang={false}\n\t\t\t\t\t\t\t\tlang={lg1}\n\t\t\t\t\t\t\t\talone={!hasLabelLg2(msd) || !secondLang}\n\t\t\t\t\t\t\t\torganisations={organisations}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!msd.isPresentational && hasLabelLg2(msd) && secondLang && (\n\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\tmsd={msd}\n\t\t\t\t\t\t\t\tcurrentSection={sims[msd.idMas]}\n\t\t\t\t\t\t\t\thandleChange={handleChange}\n\t\t\t\t\t\t\t\tcodesLists={codesLists}\n\t\t\t\t\t\t\t\tsecondLang={true}\n\t\t\t\t\t\t\t\tlang={lg2}\n\t\t\t\t\t\t\t\talone={false}\n\t\t\t\t\t\t\t\torganisations={organisations}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t{Object.values(msd.children).map(child =>\n\t\t\t\t\t\tMSDInformations(child, handleChange)\n\t\t\t\t\t)}\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t}\n\n\t\tif (this.state.saving)\n\t\t\treturn (\n\t\t\t\t<div className=\"loading-operations\">\n\t\t\t\t\t<ReactLoading\n\t\t\t\t\t\ttype=\"spinningBubbles\"\n\t\t\t\t\t\tdelay={0}\n\t\t\t\t\t\theight=\"50%\"\n\t\t\t\t\t\twidth=\"50%\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t);\n\n\t\treturn (\n\t\t\t<form>\n\t\t\t\t<div className=\"row btn-line\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\taction={this.goBack}\n\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName=\"glyphicon glyphicon-floppy-remove\"\n\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span> {D.btnCancel}</span>\n\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"col-md-7\" />\n\t\t\t\t\t<Button\n\t\t\t\t\t\taction={this.handleSubmit}\n\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName=\"glyphicon glyphicon-floppy-disk\"\n\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span> {D.btnSave}</span>\n\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcol={3}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t{Object.values(metadataStructure).map((msd, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={msd.idMas}>\n\t\t\t\t\t\t\t{index === 0 && (\n\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t<CheckSecondLang\n\t\t\t\t\t\t\t\t\t\tsecondLang={secondLang}\n\t\t\t\t\t\t\t\t\t\tonChange={saveSecondLang}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{mode === 'DUPLICATE' && (\n\t\t\t\t\t\t\t\t\t\t<div id=\"operation-picker\" className=\"panel panel-default\">\n\t\t\t\t\t\t\t\t\t\t\t<SelectRmes\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={idParent}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={D.operationsTitle}\n\t\t\t\t\t\t\t\t\t\t\t\toptions={operationsOptions}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.updateIdParent}\n\t\t\t\t\t\t\t\t\t\t\t\tsearchable\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{MSDInformations(msd, this.handleChange, true)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</form>\n\t\t);\n\t}\n}\n\nexport default SimsCreation;\n","import React, { Component } from 'react';\nimport MSDLayout from 'js/components/operations/msd/layout/';\nimport { connect } from 'react-redux';\nimport Loading from 'js/components/shared/loading';\nimport { LOADING, NOT_LOADED, LOADED } from 'js/constants';\nimport loadMetadataStructure from 'js/actions/operations/metadatastructure/list';\nimport loadSIMS, { saveSims } from 'js/actions/operations/sims/item';\nimport { withRouter } from 'react-router-dom';\nimport MSDHelp from 'js/components/operations/msd/pages/help';\nimport SimsVisualisation from 'js/components/operations/msd/pages/sims-visualisation/';\nimport SimsCreation from 'js/components/operations/msd/pages/sims-creation/';\nimport buildExtract from 'js/utils/build-extract';\nimport { getLabelsFromParent } from 'js/utils/msd';\nimport PropTypes from 'prop-types';\nimport { saveSecondLang } from 'js/actions/app';\nimport { compose } from 'recompose';\nimport * as select from 'js/reducers';\nimport loadOperation from 'js/actions/operations/operations/item';\nimport loadSerie from 'js/actions/operations/series/item';\nimport loadIndicator from 'js/actions/operations/indicators/item';\n\nimport { getSecondLang } from 'js/reducers/app';\nimport {\n\tgetOperationsOrganisations,\n\tgetOperationsCodesList,\n} from 'js/reducers/operations/selector';\nimport { getParentType, getParentId } from './utils';\nimport PageTitleBlock from 'js/components/shared/page-title-block';\nconst extractId = buildExtract('id');\nconst extractIdParent = buildExtract('idParent');\n\nexport const HELP = 'HELP';\nexport const CREATE = 'CREATE';\nexport const VIEW = 'VIEW';\nexport const UPDATE = 'UPDATE';\nexport const DUPLICATE = 'DUPLICATE';\n\nconst mapToParentType = {\n\toperation: {\n\t\tload: 'loadOperation',\n\t},\n\tseries: { load: 'loadSerie' },\n\tindicator: { load: 'loadIndicator' },\n};\nclass MSDContainer extends Component {\n\tstatic propTypes = {\n\t\tmetadataStructure: PropTypes.object,\n\t\tmetadataStructureStatus: PropTypes.oneOf([LOADED, NOT_LOADED, LOADING]),\n\t\tcodesLists: PropTypes.object,\n\t\tmode: PropTypes.oneOf([HELP, VIEW, CREATE, UPDATE, DUPLICATE]),\n\t\tbaseUrl: PropTypes.string,\n\t\tid: PropTypes.string,\n\t\tsaveSims: PropTypes.func,\n\t\tidParent: PropTypes.string,\n\t\tdisableSectionAnchor: PropTypes.bool,\n\t\tsaveSecondLang: PropTypes.func,\n\t\tlangs: PropTypes.object,\n\t\tsecondLang: PropTypes.bool,\n\t\tcurrentSims: PropTypes.object,\n\t};\n\tstatic defaultProps = {\n\t\tcurrentSims: {},\n\t};\n\n\t_loadParent(id) {\n\t\tconst parentType = this.props.match.params[0];\n\t\treturn this.props[mapToParentType[parentType].load](id);\n\t}\n\n\tgoBackCallback = url => {\n\t\tthis.props.history.push(url);\n\t};\n\n\tcomponentDidMount() {\n\t\tif (this.props.metadataStructureStatus !== LOADED) {\n\t\t\tthis.props.loadMetadataStructure();\n\t\t}\n\t\tif (!this.props.currentSims.id) {\n\t\t\tthis.props.loadSIMS(this.props.id);\n\t\t}\n\t\tif (!this.props.isParentLoaded) {\n\t\t\tthis._loadParent(this.props.idParent);\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (!nextProps.currentSims.id || this.props.id !== nextProps.id) {\n\t\t\tthis.props.loadSIMS(nextProps.id);\n\t\t}\n\t\tif (!nextProps.isParentLoaded) {\n\t\t\tthis._loadParent(nextProps.idParent);\n\t\t}\n\t}\n\trender() {\n\t\tconst {\n\t\t\tmetadataStructure,\n\t\t\tmetadataStructureStatus,\n\t\t\tcodesLists,\n\t\t\tmode = HELP,\n\t\t\tbaseUrl,\n\t\t\tsaveSims,\n\t\t\tidParent,\n\t\t\tdisableSectionAnchor,\n\t\t\tsaveSecondLang,\n\t\t\tlangs,\n\t\t\tsecondLang,\n\t\t\tcurrentSims,\n\t\t\torganisations,\n\t\t\tparentType,\n\t\t} = this.props;\n\t\tif (\n\t\t\tmetadataStructureStatus !== LOADED ||\n\t\t\t(mode === VIEW && !currentSims.id)\n\t\t)\n\t\t\treturn <Loading textType=\"loading\" />;\n\n\t\treturn (\n\t\t\t<MSDLayout\n\t\t\t\tmetadataStructure={metadataStructure}\n\t\t\t\tcurrentSection={this.props.match.params.idSection}\n\t\t\t\tstoreCollapseState={mode === HELP}\n\t\t\t\tbaseUrl={baseUrl}\n\t\t\t\tdisableSectionAnchor={disableSectionAnchor}\n\t\t\t>\n\t\t\t\t{mode !== HELP && mode !== DUPLICATE && (\n\t\t\t\t\t<PageTitleBlock\n\t\t\t\t\t\ttitleLg1={currentSims.labelLg1}\n\t\t\t\t\t\ttitleLg2={currentSims.labelLg2}\n\t\t\t\t\t\tsecondLang={secondLang}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t{mode === HELP && (\n\t\t\t\t\t<MSDHelp\n\t\t\t\t\t\tmetadataStructure={metadataStructure}\n\t\t\t\t\t\tcodesLists={codesLists}\n\t\t\t\t\t\tcurrentSection={this.props.match.params.idSection}\n\t\t\t\t\t\tlangs={langs}\n\t\t\t\t\t\torganisations={organisations}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\n\t\t\t\t{mode === VIEW && (\n\t\t\t\t\t<SimsVisualisation\n\t\t\t\t\t\tsims={currentSims}\n\t\t\t\t\t\tmetadataStructure={metadataStructure}\n\t\t\t\t\t\tcodesLists={codesLists}\n\t\t\t\t\t\torganisations={organisations}\n\t\t\t\t\t\tcurrentSection={this.props.match.params.idSection}\n\t\t\t\t\t\tsaveSecondLang={saveSecondLang}\n\t\t\t\t\t\tlangs={langs}\n\t\t\t\t\t\tsecondLang={secondLang}\n\t\t\t\t\t\tgoBack={this.goBackCallback}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t{(mode === CREATE || mode === UPDATE || mode === DUPLICATE) && (\n\t\t\t\t\t<SimsCreation\n\t\t\t\t\t\tsims={currentSims}\n\t\t\t\t\t\tmetadataStructure={metadataStructure}\n\t\t\t\t\t\tcodesLists={codesLists}\n\t\t\t\t\t\tonSubmit={saveSims}\n\t\t\t\t\t\tidParent={idParent}\n\t\t\t\t\t\tsaveSecondLang={saveSecondLang}\n\t\t\t\t\t\tlangs={langs}\n\t\t\t\t\t\tsecondLang={secondLang}\n\t\t\t\t\t\tgoBack={this.goBackCallback}\n\t\t\t\t\t\tmode={mode}\n\t\t\t\t\t\torganisations={organisations}\n\t\t\t\t\t\tparentType={parentType}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</MSDLayout>\n\t\t);\n\t}\n}\n\nexport const mapStateToProps = (state, ownProps) => {\n\tif (!state.operationsMetadataStructureList) {\n\t\treturn {\n\t\t\tmetadataStructureStatus: NOT_LOADED,\n\t\t\tmetadataStructure: [],\n\t\t};\n\t}\n\n\tconst {\n\t\tresults: metadataStructure,\n\t\tstatus: metadataStructureStatus,\n\t} = state.operationsMetadataStructureList;\n\n\tconst id = extractId(ownProps);\n\n\tfunction getCurrentParent(parentType) {\n\t\tif (parentType === 'operation') {\n\t\t\treturn [\n\t\t\t\tselect.getOperation(state),\n\t\t\t\tstate.operationsIndicatorCurrentStatus,\n\t\t\t];\n\t\t}\n\t\tif (parentType === 'series') {\n\t\t\treturn [select.getSerie(state), state.operationsSeriesCurrentStatus];\n\t\t}\n\t\tif (parentType === 'indicator') {\n\t\t\treturn [\n\t\t\t\tselect.getIndicator(state),\n\t\t\t\tstate.operationsIndicatorCurrentStatus,\n\t\t\t];\n\t\t}\n\t}\n\n\tlet idParent;\n\tlet currentSims = {};\n\tlet parentType;\n\tlet isParentLoaded = true;\n\tswitch (ownProps.mode) {\n\t\tcase HELP:\n\t\t\tcurrentSims = {};\n\t\t\tbreak;\n\t\tcase CREATE:\n\t\t\tidParent = extractIdParent(ownProps);\n\t\t\tparentType = ownProps.match.params[0];\n\t\t\tconst [currentParent, currentParentStatus] = getCurrentParent(parentType);\n\t\t\tcurrentSims = {\n\t\t\t\t...getLabelsFromParent(currentParent, parentType),\n\t\t\t};\n\t\t\tisParentLoaded =\n\t\t\t\tcurrentParentStatus !== NOT_LOADED || currentParent.id === idParent;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tcurrentSims = select.getOperationsSimsCurrent(state);\n\t\t\tparentType = getParentType(currentSims);\n\t\t\tidParent = getParentId(currentSims);\n\t\t\tbreak;\n\t}\n\n\treturn {\n\t\tlangs: select.getLangs(state),\n\t\tsecondLang: getSecondLang(state),\n\t\tmetadataStructure,\n\t\tmetadataStructureStatus,\n\t\tcurrentSims: !id || currentSims.id === id ? currentSims : {},\n\t\tisParentLoaded,\n\t\tid,\n\t\tidParent,\n\t\tcodesLists: getOperationsCodesList(state),\n\t\torganisations: getOperationsOrganisations(state),\n\t\tparentType,\n\t};\n};\n\nconst mapDispatchToProps = {\n\tloadMetadataStructure,\n\tloadSIMS,\n\tsaveSims,\n\tloadOperation,\n\tloadSerie,\n\tloadIndicator,\n\tsaveSecondLang,\n};\n\nexport default compose(\n\twithRouter,\n\tconnect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)\n)(MSDContainer);\n","import api from 'js/remote-api/operations-api';\nimport * as A from 'js/actions/constants';\nimport { loadCodesList } from 'js/actions/operations/utils/setup';\nimport { getTree } from 'js/utils/msd';\n\nexport default () => (dispatch, getState) => {\n\tdispatch({\n\t\ttype: A.LOAD_OPERATIONS_METADATASTRUCTURE_LIST,\n\t\tpayload: {},\n\t});\n\treturn Promise.all([\n\t\tapi.getMetadataStructureList(),\n\t\tapi.getMetadataAttributesList(),\n\t]).then(\n\t\t([metaDataStructure, metadataAttributes]) => {\n\t\t\tconst metadataAttributesObject = metadataAttributes.reduce(\n\t\t\t\t(acc, attr) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...acc,\n\t\t\t\t\t\t[attr.id]: {\n\t\t\t\t\t\t\t...attr,\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\t{}\n\t\t\t);\n\t\t\tconst metaDataStructureTree = getTree(\n\t\t\t\tmetaDataStructure,\n\t\t\t\tundefined,\n\t\t\t\tmetadataAttributesObject\n\t\t\t);\n\n\t\t\tconst codesList = new Set();\n\t\t\tmetadataAttributes\n\t\t\t\t.filter(attr => attr.codeList)\n\t\t\t\t.map(attr => attr.codeList)\n\t\t\t\t.filter(\n\t\t\t\t\tcode =>\n\t\t\t\t\t\tObject.keys(getState().operationsCodesList.results).indexOf(code) <\n\t\t\t\t\t\t0\n\t\t\t\t)\n\t\t\t\t.forEach(code => codesList.add(code));\n\t\t\tloadCodesList(codesList, dispatch);\n\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_OPERATIONS_METADATASTRUCTURE_LIST_SUCCESS,\n\t\t\t\tpayload: { results: metaDataStructureTree },\n\t\t\t});\n\t\t},\n\t\terr =>\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_OPERATIONS_METADATASTRUCTURE_LIST_FAILURE,\n\t\t\t\tpayload: { err },\n\t\t\t})\n\t);\n};\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport MSDContainer, {\n\tCREATE,\n\tVIEW,\n\tUPDATE,\n\tDUPLICATE,\n} from 'js/components/operations/msd/';\n\nexport default () => {\n\treturn (\n\t\t<Switch>\n\t\t\t<Route exact path=\"/operations/help\" component={MSDContainer} />\n\t\t\t<Route\n\t\t\t\texact\n\t\t\t\tpath=\"/operations/help/:idSection\"\n\t\t\t\tcomponent={MSDContainer}\n\t\t\t/>\n\t\t\t<Route\n\t\t\t\texact\n\t\t\t\tpath=\"/operations/(operation|series|indicator)/:idParent/sims/create\"\n\t\t\t\trender={props => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<MSDContainer\n\t\t\t\t\t\t\tmode={CREATE}\n\t\t\t\t\t\t\tbaseUrl={`/operations/${props.match.params[0]}/${\n\t\t\t\t\t\t\t\tprops.match.params.idParent\n\t\t\t\t\t\t\t}/sims/create`}\n\t\t\t\t\t\t\tdisableSectionAnchor\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<Route\n\t\t\t\texact\n\t\t\t\tpath=\"/operations/sims/:id\"\n\t\t\t\trender={props => (\n\t\t\t\t\t<MSDContainer\n\t\t\t\t\t\tmode={VIEW}\n\t\t\t\t\t\tbaseUrl={`/operations/sims/${props.match.params.id}/section/`}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t/>\n\t\t\t<Route\n\t\t\t\texact\n\t\t\t\tpath=\"/operations/sims/:id/modify\"\n\t\t\t\trender={props => (\n\t\t\t\t\t<MSDContainer\n\t\t\t\t\t\tmode={UPDATE}\n\t\t\t\t\t\tdisableSectionAnchor\n\t\t\t\t\t\tbaseUrl={`/operations/sims/${props.match.params.id}/modify`}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t/>\n\t\t\t<Route\n\t\t\t\texact\n\t\t\t\tpath=\"/operations/sims/:id/duplicate\"\n\t\t\t\trender={props => (\n\t\t\t\t\t<MSDContainer\n\t\t\t\t\t\tmode={DUPLICATE}\n\t\t\t\t\t\tdisableSectionAnchor\n\t\t\t\t\t\tbaseUrl={`/operations/sims/${props.match.params.id}/duplicate`}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t/>\n\t\t\t<Route\n\t\t\t\texact\n\t\t\t\tpath=\"/operations/sims/:id/section/:idSection\"\n\t\t\t\trender={props => (\n\t\t\t\t\t<MSDContainer\n\t\t\t\t\t\tmode={VIEW}\n\t\t\t\t\t\tbaseUrl={`/operations/sims/${props.match.params.id}/section/`}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t/>\n\t\t</Switch>\n\t);\n};\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport warning from \"warning\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { createHashHistory as createHistory } from \"history\";\nimport Router from \"./Router\";\n/**\n * The public API for a <Router> that uses window.location.hash.\n */\n\nvar HashRouter = function (_React$Component) {\n  _inherits(HashRouter, _React$Component);\n\n  function HashRouter() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, HashRouter);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.history = createHistory(_this.props), _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  HashRouter.prototype.componentWillMount = function componentWillMount() {\n    warning(!this.props.history, \"<HashRouter> ignores the history prop. To use a custom history, \" + \"use `import { Router }` instead of `import { HashRouter as Router }`.\");\n  };\n\n  HashRouter.prototype.render = function render() {\n    return React.createElement(Router, {\n      history: this.history,\n      children: this.props.children\n    });\n  };\n\n  return HashRouter;\n}(React.Component);\n\nHashRouter.propTypes = {\n  basename: PropTypes.string,\n  getUserConfirmation: PropTypes.func,\n  hashType: PropTypes.oneOf([\"hashbang\", \"noslash\", \"slash\"]),\n  children: PropTypes.node\n};\nexport default HashRouter;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport warning from \"warning\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { createMemoryHistory as createHistory } from \"history\";\nimport Router from \"./Router\";\n/**\n * The public API for a <Router> that stores location in memory.\n */\n\nvar MemoryRouter = function (_React$Component) {\n  _inherits(MemoryRouter, _React$Component);\n\n  function MemoryRouter() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, MemoryRouter);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.history = createHistory(_this.props), _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  MemoryRouter.prototype.componentWillMount = function componentWillMount() {\n    warning(!this.props.history, \"<MemoryRouter> ignores the history prop. To use a custom history, \" + \"use `import { Router }` instead of `import { MemoryRouter as Router }`.\");\n  };\n\n  MemoryRouter.prototype.render = function render() {\n    return React.createElement(Router, {\n      history: this.history,\n      children: this.props.children\n    });\n  };\n\n  return MemoryRouter;\n}(React.Component);\n\nMemoryRouter.propTypes = {\n  initialEntries: PropTypes.array,\n  initialIndex: PropTypes.number,\n  getUserConfirmation: PropTypes.func,\n  keyLength: PropTypes.number,\n  children: PropTypes.node\n};\nexport default MemoryRouter;","// Written in this round about way for babel-transform-imports\nimport MemoryRouter from \"react-router/es/MemoryRouter\";\nexport default MemoryRouter;","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Route from \"./Route\";\nimport Link from \"./Link\";\n/**\n * A <Link> wrapper that knows if it's \"active\" or not.\n */\n\nvar NavLink = function NavLink(_ref) {\n  var to = _ref.to,\n      exact = _ref.exact,\n      strict = _ref.strict,\n      location = _ref.location,\n      activeClassName = _ref.activeClassName,\n      className = _ref.className,\n      activeStyle = _ref.activeStyle,\n      style = _ref.style,\n      getIsActive = _ref.isActive,\n      ariaCurrent = _ref[\"aria-current\"],\n      rest = _objectWithoutProperties(_ref, [\"to\", \"exact\", \"strict\", \"location\", \"activeClassName\", \"className\", \"activeStyle\", \"style\", \"isActive\", \"aria-current\"]);\n\n  var path = (typeof to === \"undefined\" ? \"undefined\" : _typeof(to)) === \"object\" ? to.pathname : to; // Regex taken from: https://github.com/pillarjs/path-to-regexp/blob/master/index.js#L202\n\n  var escapedPath = path && path.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n  return React.createElement(Route, {\n    path: escapedPath,\n    exact: exact,\n    strict: strict,\n    location: location,\n    children: function children(_ref2) {\n      var location = _ref2.location,\n          match = _ref2.match;\n      var isActive = !!(getIsActive ? getIsActive(match, location) : match);\n      return React.createElement(Link, _extends({\n        to: to,\n        className: isActive ? [className, activeClassName].filter(function (i) {\n          return i;\n        }).join(\" \") : className,\n        style: isActive ? _extends({}, style, activeStyle) : style,\n        \"aria-current\": isActive && ariaCurrent || null\n      }, rest));\n    }\n  });\n};\n\nNavLink.propTypes = {\n  to: Link.propTypes.to,\n  exact: PropTypes.bool,\n  strict: PropTypes.bool,\n  location: PropTypes.object,\n  activeClassName: PropTypes.string,\n  className: PropTypes.string,\n  activeStyle: PropTypes.object,\n  style: PropTypes.object,\n  isActive: PropTypes.func,\n  \"aria-current\": PropTypes.oneOf([\"page\", \"step\", \"location\", \"date\", \"time\", \"true\"])\n};\nNavLink.defaultProps = {\n  activeClassName: \"active\",\n  \"aria-current\": \"page\"\n};\nexport default NavLink;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport invariant from \"invariant\";\n/**\n * The public API for prompting the user before navigating away\n * from a screen with a component.\n */\n\nvar Prompt = function (_React$Component) {\n  _inherits(Prompt, _React$Component);\n\n  function Prompt() {\n    _classCallCheck(this, Prompt);\n\n    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n  }\n\n  Prompt.prototype.enable = function enable(message) {\n    if (this.unblock) this.unblock();\n    this.unblock = this.context.router.history.block(message);\n  };\n\n  Prompt.prototype.disable = function disable() {\n    if (this.unblock) {\n      this.unblock();\n      this.unblock = null;\n    }\n  };\n\n  Prompt.prototype.componentWillMount = function componentWillMount() {\n    invariant(this.context.router, \"You should not use <Prompt> outside a <Router>\");\n    if (this.props.when) this.enable(this.props.message);\n  };\n\n  Prompt.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    if (nextProps.when) {\n      if (!this.props.when || this.props.message !== nextProps.message) this.enable(nextProps.message);\n    } else {\n      this.disable();\n    }\n  };\n\n  Prompt.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.disable();\n  };\n\n  Prompt.prototype.render = function render() {\n    return null;\n  };\n\n  return Prompt;\n}(React.Component);\n\nPrompt.propTypes = {\n  when: PropTypes.bool,\n  message: PropTypes.oneOfType([PropTypes.func, PropTypes.string]).isRequired\n};\nPrompt.defaultProps = {\n  when: true\n};\nPrompt.contextTypes = {\n  router: PropTypes.shape({\n    history: PropTypes.shape({\n      block: PropTypes.func.isRequired\n    }).isRequired\n  }).isRequired\n};\nexport default Prompt;","// Written in this round about way for babel-transform-imports\nimport Prompt from \"react-router/es/Prompt\";\nexport default Prompt;","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport warning from \"warning\";\nimport invariant from \"invariant\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { createLocation, createPath } from \"history\";\nimport Router from \"./Router\";\n\nvar addLeadingSlash = function addLeadingSlash(path) {\n  return path.charAt(0) === \"/\" ? path : \"/\" + path;\n};\n\nvar addBasename = function addBasename(basename, location) {\n  if (!basename) return location;\n  return _extends({}, location, {\n    pathname: addLeadingSlash(basename) + location.pathname\n  });\n};\n\nvar stripBasename = function stripBasename(basename, location) {\n  if (!basename) return location;\n  var base = addLeadingSlash(basename);\n  if (location.pathname.indexOf(base) !== 0) return location;\n  return _extends({}, location, {\n    pathname: location.pathname.substr(base.length)\n  });\n};\n\nvar createURL = function createURL(location) {\n  return typeof location === \"string\" ? location : createPath(location);\n};\n\nvar staticHandler = function staticHandler(methodName) {\n  return function () {\n    invariant(false, \"You cannot %s with <StaticRouter>\", methodName);\n  };\n};\n\nvar noop = function noop() {};\n/**\n * The public top-level API for a \"static\" <Router>, so-called because it\n * can't actually change the current location. Instead, it just records\n * location changes in a context object. Useful mainly in testing and\n * server-rendering scenarios.\n */\n\n\nvar StaticRouter = function (_React$Component) {\n  _inherits(StaticRouter, _React$Component);\n\n  function StaticRouter() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, StaticRouter);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.createHref = function (path) {\n      return addLeadingSlash(_this.props.basename + createURL(path));\n    }, _this.handlePush = function (location) {\n      var _this$props = _this.props,\n          basename = _this$props.basename,\n          context = _this$props.context;\n      context.action = \"PUSH\";\n      context.location = addBasename(basename, createLocation(location));\n      context.url = createURL(context.location);\n    }, _this.handleReplace = function (location) {\n      var _this$props2 = _this.props,\n          basename = _this$props2.basename,\n          context = _this$props2.context;\n      context.action = \"REPLACE\";\n      context.location = addBasename(basename, createLocation(location));\n      context.url = createURL(context.location);\n    }, _this.handleListen = function () {\n      return noop;\n    }, _this.handleBlock = function () {\n      return noop;\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  StaticRouter.prototype.getChildContext = function getChildContext() {\n    return {\n      router: {\n        staticContext: this.props.context\n      }\n    };\n  };\n\n  StaticRouter.prototype.componentWillMount = function componentWillMount() {\n    warning(!this.props.history, \"<StaticRouter> ignores the history prop. To use a custom history, \" + \"use `import { Router }` instead of `import { StaticRouter as Router }`.\");\n  };\n\n  StaticRouter.prototype.render = function render() {\n    var _props = this.props,\n        basename = _props.basename,\n        context = _props.context,\n        location = _props.location,\n        props = _objectWithoutProperties(_props, [\"basename\", \"context\", \"location\"]);\n\n    var history = {\n      createHref: this.createHref,\n      action: \"POP\",\n      location: stripBasename(basename, createLocation(location)),\n      push: this.handlePush,\n      replace: this.handleReplace,\n      go: staticHandler(\"go\"),\n      goBack: staticHandler(\"goBack\"),\n      goForward: staticHandler(\"goForward\"),\n      listen: this.handleListen,\n      block: this.handleBlock\n    };\n    return React.createElement(Router, _extends({}, props, {\n      history: history\n    }));\n  };\n\n  return StaticRouter;\n}(React.Component);\n\nStaticRouter.propTypes = {\n  basename: PropTypes.string,\n  context: PropTypes.object.isRequired,\n  location: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n};\nStaticRouter.defaultProps = {\n  basename: \"\",\n  location: \"/\"\n};\nStaticRouter.childContextTypes = {\n  router: PropTypes.object.isRequired\n};\nexport default StaticRouter;","// Written in this round about way for babel-transform-imports\nimport StaticRouter from \"react-router/es/StaticRouter\";\nexport default StaticRouter;","// Written in this round about way for babel-transform-imports\nimport generatePath from \"react-router/es/generatePath\";\nexport default generatePath;","// Written in this round about way for babel-transform-imports\nimport matchPath from \"react-router/es/matchPath\";\nexport default matchPath;","import _BrowserRouter from \"./BrowserRouter\";\nexport { _BrowserRouter as BrowserRouter };\nimport _HashRouter from \"./HashRouter\";\nexport { _HashRouter as HashRouter };\nimport _Link from \"./Link\";\nexport { _Link as Link };\nimport _MemoryRouter from \"./MemoryRouter\";\nexport { _MemoryRouter as MemoryRouter };\nimport _NavLink from \"./NavLink\";\nexport { _NavLink as NavLink };\nimport _Prompt from \"./Prompt\";\nexport { _Prompt as Prompt };\nimport _Redirect from \"./Redirect\";\nexport { _Redirect as Redirect };\nimport _Route from \"./Route\";\nexport { _Route as Route };\nimport _Router from \"./Router\";\nexport { _Router as Router };\nimport _StaticRouter from \"./StaticRouter\";\nexport { _StaticRouter as StaticRouter };\nimport _Switch from \"./Switch\";\nexport { _Switch as Switch };\nimport _generatePath from \"./generatePath\";\nexport { _generatePath as generatePath };\nimport _matchPath from \"./matchPath\";\nexport { _matchPath as matchPath };\nimport _withRouter from \"./withRouter\";\nexport { _withRouter as withRouter };","export default paramName => props => props.match.params[paramName];\n","export default {\n\tgetSims: id => [`metadataReport/${id}`],\n\tputSims: sims => [\n\t\t`metadataReport/${sims.id}`,\n\t\t{\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify(sims),\n\t\t},\n\t\t() => {},\n\t],\n\tpostSims: sims => [\n\t\t`metadataReport`,\n\t\t{\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify(sims),\n\t\t},\n\t\tres => res.text().then(id => id),\n\t],\n};\n","export default {\n\tgetIndicatorsList: () => ['indicators'],\n\tgetIndicatorsSearchList: () => ['indicators_search'],\n\n\tgetIndicator: id => [`indicator/${id}`],\n\tputIndicator: indicator => [\n\t\t`indicator/${indicator.id}`,\n\t\t{\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify(indicator),\n\t\t},\n\t\t() => indicator.id,\n\t],\n\tpostIndicator: indicator => [\n\t\t`indicator`,\n\t\t{\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify(indicator),\n\t\t},\n\t\tres => res.text().then(id => id),\n\t],\n};\n","import buildApi from './build-api';\nimport simsApi from './operations/sims';\nimport indicatorApi from './operations/indicator';\n\nconst api = {\n\t...simsApi,\n\t...indicatorApi,\n\n\tgetSeriesList: () => ['series/withSims'],\n\tgetOperationsList: () => ['operations'],\n\tgetFamiliesList: () => ['families'],\n\n\tgetFamiliesSearchList: () => ['families_search'],\n\tgetSeriesSearchList: () => ['series_search'],\n\tgetOperationsSearchList: () => ['operations_search'],\n\n\tgetMetadataStructureList: () => ['metadataStructureDefinition'],\n\tgetMetadataAttributesList: () => ['metadataAttributes'],\n\tgetFamily: id => [`family/${id}`],\n\tgetOperation: id => [`operation/${id}`],\n\tgetSerie: id => [`series/${id}`],\n\tgetVarBookExport: (id, MimeType) => [\n\t\t`operation/${id}/variableBook`,\n\t\t{\n\t\t\theaders: {\n\t\t\t\tAccept: MimeType,\n\t\t\t\t'Content-Type': 'text/plain',\n\t\t\t},\n\t\t},\n\t\tres => res,\n\t],\n\tputFamily: family => [\n\t\t`family/${family.id}`,\n\t\t{\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify(family),\n\t\t},\n\t\tres => Promise.resolve(family.id),\n\t],\n\tpostFamily: family => [\n\t\t`family`,\n\t\t{\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify(family),\n\t\t},\n\t\tres => res.text(),\n\t],\n\tputSeries: series => [\n\t\t`series/${series.id}`,\n\t\t{\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify(series),\n\t\t},\n\t\tres => Promise.resolve(series.id),\n\t],\n\tpostSeries: series => [\n\t\t`series`,\n\t\t{\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify(series),\n\t\t},\n\t\tres => res.text(),\n\t],\n\tputOperation: operation => [\n\t\t`operation/${operation.id}`,\n\t\t{\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify(operation),\n\t\t},\n\t\tres => Promise.resolve(operation.id),\n\t],\n\tpostOperation: operation => [\n\t\t`operation`,\n\t\t{\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify(operation),\n\t\t},\n\t\tres => res.text(),\n\t],\n\tgetOperationsWithoutReport: idSerie => [\n\t\t`series/${idSerie}/operationsWithoutReport`,\n\t],\n};\n\nexport default buildApi('operations', api);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport D from 'js/i18n';\n\nconst Checkbox = ({ secondLang, onChange }) => (\n\t<div className=\"row\">\n\t\t<div className=\"col-md-12\">\n\t\t\t<label className=\"pull-right\">\n\t\t\t\t<input type=\"checkbox\" checked={secondLang} onChange={onChange} />{' '}\n\t\t\t\t{D.displayLg2}\n\t\t\t</label>\n\t\t</div>\n\t</div>\n);\n\nCheckbox.propTypes = {\n\tsecondLang: PropTypes.bool.isRequired,\n\tonChange: PropTypes.func.isRequired,\n};\n\nexport default Checkbox;\n","import React, { useContext } from 'react';\nimport Panel from 'js/components/shared/panel';\nimport NoteFlag from 'js/components/shared/note-flag/note-flag';\nimport { markdownToHtml } from 'js/utils/html';\nimport { ApplicationContext } from 'js/context';\n\nexport const Note = ({\n\ttext = '',\n\ttitle,\n\tlang,\n\talone,\n\tallowEmpty = false,\n\tmd = false,\n\tcontext,\n\talt = '',\n}) => {\n\tconst ctx = useContext(ApplicationContext) || context;\n\tconst cl = alone ? 'col-md-12' : 'col-md-6';\n\tif (!text && !allowEmpty) return null;\n\n\tif (md) {\n\t\treturn (\n\t\t\t<div className={cl} title={alt}>\n\t\t\t\t<Panel title={<NoteFlag text={title} lang={lang} />} context={ctx}>\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: markdownToHtml(text) }} />\n\t\t\t\t</Panel>\n\t\t\t</div>\n\t\t);\n\t}\n\treturn (\n\t\t<div className={cl} title={alt}>\n\t\t\t<Panel title={<NoteFlag text={title} lang={lang} />} context={ctx}>\n\t\t\t\t{text}\n\t\t\t</Panel>\n\t\t</div>\n\t);\n};\n","import { EditorState, convertToRaw, convertFromRaw } from 'draft-js';\nimport { stateFromHTML } from 'draft-js-import-html';\nimport { stateToHTML } from 'draft-js-export-html';\nimport { mdToDraftjs, draftjsToMd } from 'draftjs-md-converter';\nexport const htmlToRawText = html => {\n\tconst el = document.createElement('div');\n\tel.innerHTML = html || '';\n\treturn el.textContent;\n};\n\nexport const htmlLength = html => htmlToRawText(html).trim().length;\nexport const htmlIsEmpty = html => !(htmlLength(html) > 0);\n\n/**\n * We cannot handle the markup exactly in ths same that it is in the remote\n * repository. So we format it the `ui` way and then we only operate on this\n * representation.\n */\nexport const rmesHtmlToRawHtml = html =>\n\tcleanHtml(stateToHTML(stateFromHTML(html)));\n\n/**\n * We need to transform Draft Html to Xhtml\n */\nexport const draftHtmlToXhtml = html =>\n\thtml\n\t\t.replace(/&nbsp;/g, ' ')\n\t\t.replace(/<br>/g, '<br/>')\n\t\t.replace(/<p><\\/p>/g, '<br/>');\n\n/**\n * We need to transform back the html to comply with the repository rules\n */\nexport const rawHtmlToRmesHtml = html =>\n\t`<div xmlns=\"http://www.w3.org/1999/xhtml\">${draftHtmlToXhtml(html)}</div>`;\n\nconst rNewLine = /\\n/g;\nconst rUselessSpace = /(>)\\s*(<)/g;\nexport const cleanHtml = html => {\n\tconst rawText = htmlToRawText(html);\n\tif (rawText === '') return '';\n\treturn html.replace(rNewLine, '').replace(rUselessSpace, '$1$2');\n};\n\nexport const delPTags = s => s && s.replace(/<p>/g, '').replace(/<\\/p>/g, '');\n\n//HACK avoid new lines and unecesseray whitespaces in the html. Not safe: some\n//of these whitespaces might impact the rendered html. But for notes edited with\n//the html editor, it should be ok.\nexport function htmlFromEditorState(editorState) {\n\tconst html = stateToHTML(editorState.getCurrentContent());\n\treturn cleanHtml(html);\n}\n\nexport function editorStateFromHtml(html) {\n\treturn EditorState.createWithContent(stateFromHTML(html));\n}\n\nexport function mdFromEditorState(editorState) {\n\treturn draftjsToMd(convertToRaw(editorState.getCurrentContent()));\n}\n\nexport function editorStateFromMd(md = '') {\n\treturn EditorState.createWithContent(convertFromRaw(mdToDraftjs(md)));\n}\n\nexport function markdownToHtml(md) {\n\treturn htmlFromEditorState(editorStateFromMd(md));\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PageTitle from 'js/components/shared/page-title';\nimport PageSubtitle from 'js/components/shared/page-subtitle';\n\nfunction PageTitleBlock({ titleLg1, titleLg2, secondLang }) {\n\treturn (\n\t\t<>\n\t\t\t<PageTitle title={titleLg1} />\n\t\t\t{secondLang && titleLg2 && <PageSubtitle subTitle={titleLg2} />}\n\t\t</>\n\t);\n}\n\nPageTitleBlock.proptTypes = {\n\ttitleLg1: PropTypes.string.isRequired,\n\ttitleLg2: PropTypes.string,\n\tsecondLang: PropTypes.bool,\n\tcontext: PropTypes.oneOf(['', 'concepts', 'classifications', 'operations']),\n};\n\nexport default PageTitleBlock;\n","import { sortArray } from 'js/utils/array-utils';\n\nconst sortByLabel = sortArray('label');\n\nexport default (remoteCall, LOADING, SUCCESS, FAILURE) => dispatch => {\n\tdispatch({\n\t\ttype: LOADING,\n\t\tpayload: {},\n\t});\n\treturn remoteCall().then(\n\t\tresults =>\n\t\t\tdispatch({\n\t\t\t\ttype: SUCCESS,\n\t\t\t\tpayload: { results: sortByLabel(results) },\n\t\t\t}),\n\t\terr =>\n\t\t\tdispatch({\n\t\t\t\ttype: FAILURE,\n\t\t\t\tpayload: { err },\n\t\t\t})\n\t);\n};\n\nexport const getItemFactory = (remoteCall, LOADING, SUCCESS, FAILURE) => id => (\n\tdispatch,\n\tgetState\n) => {\n\tif (getState().operationsOperationCurrentStatus === LOADING) {\n\t\treturn;\n\t}\n\tdispatch({\n\t\ttype: LOADING,\n\t\tpayload: {\n\t\t\tid,\n\t\t},\n\t});\n\treturn remoteCall(id).then(\n\t\tresults =>\n\t\t\tdispatch({\n\t\t\t\ttype: SUCCESS,\n\t\t\t\tpayload: results,\n\t\t\t}),\n\t\terr =>\n\t\t\tdispatch({\n\t\t\t\ttype: FAILURE,\n\t\t\t\tpayload: { err },\n\t\t\t})\n\t);\n};\n","import React from 'react';\nimport flag from 'js/components/shared/flag/flag';\nimport PropTypes from 'prop-types';\n\nfunction NoteFlag({ text, lang }) {\n\treturn (\n\t\t<React.Fragment>\n\t\t\t{text + '  ( '}\n\t\t\t{flag(lang)} )\n\t\t</React.Fragment>\n\t);\n}\n\nNoteFlag.propTypes = {\n\ttext: PropTypes.string,\n\tlang: PropTypes.string,\n};\n\nexport default NoteFlag;\n","module.exports = __webpack_public_path__ + \"static/media/default.0d6fe9ef.png\";","var map = {\n\t\"./default.png\": 595,\n\t\"./en.png\": 608,\n\t\"./fr.png\": 609\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 596;","import React from 'react';\nimport defaultFlag from 'img/flags/default.png';\nimport D from 'js/i18n';\n\nexport const isFlag = lang => {\n\ttry {\n\t\trequire(`img/flags/${lang}.png`);\n\t} catch (e) {\n\t\treturn false;\n\t}\n\treturn true;\n};\n\nexport default lang => {\n\tif (!lang) return null;\n\treturn (\n\t\t<img\n\t\t\tsrc={isFlag(lang) ? require(`img/flags/${lang}.png`) : defaultFlag}\n\t\t\talt={D.langs}\n\t\t\tclassName=\"img-flag\"\n\t\t/>\n\t);\n};\n","import * as select from 'js/reducers';\nimport { connect } from 'react-redux';\n\nexport const mapStateToProps = state => {\n\treturn {\n\t\tuserRoles: select.getPermission(state).roles,\n\t};\n};\n\nexport function AuthDumb({\n\tchildren,\n\tuserRoles,\n\troles,\n\tfallback = null,\n\tcomplementaryCheck = true,\n}) {\n\tconst isAuthorized = !!roles.find(role => userRoles.includes(role));\n\tif (!isAuthorized || !complementaryCheck) {\n\t\treturn fallback;\n\t}\n\treturn children;\n}\nexport default connect(mapStateToProps)(AuthDumb);\n","import React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport './page-subtitle.scss';\nimport { ApplicationContext } from 'js/context';\n\nconst PageSubtitle = ({ subTitle, context = 'concepts' }) => {\n\tconst ctx = useContext(ApplicationContext) || context;\n\n\treturn (\n\t\t<div className=\"row\">\n\t\t\t<div className=\"col-md-8 centered col-md-offset-2\">\n\t\t\t\t<h3 className={`page-subtitle-${ctx}`}>{subTitle}</h3>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default PageSubtitle;\n\nPageSubtitle.proptTypes = {\n\tsubtitle: PropTypes.string.isRequired,\n\tcontext: PropTypes.oneOf(['', 'concepts', 'classifications', 'operations']),\n};\n","import React from 'react';\nimport Button from 'js/components/shared/button';\nimport D from 'js/i18n';\n\nexport const AbstractButton = props => {\n\treturn (\n\t\t<Button\n\t\t\tlabel={\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName={`glyphicon glyphicon-${props.icon}`}\n\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t/>\n\t\t\t\t\t<span> {props.children}</span>\n\t\t\t\t</React.Fragment>\n\t\t\t}\n\t\t\t{...props}\n\t\t/>\n\t);\n};\n\nexport const CancelButton = props => (\n\t<AbstractButton icon=\"floppy-remove\" {...props}>\n\t\t{D.btnCancel}\n\t</AbstractButton>\n);\nexport const SaveButton = props => (\n\t<AbstractButton icon=\"floppy-disk\" {...props}>\n\t\t{D.btnSave}\n\t</AbstractButton>\n);\n\nexport const DuplicateButton = props => (\n\t<AbstractButton icon=\"duplicate\" {...props}>\n\t\t{D.btnDuplicate}\n\t</AbstractButton>\n);\n\nexport default AbstractButton;\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAC3ElEQVR4nI2TS2icZRiFn/f7/vyTzC2TyyQ6aawQW4upo5BqRWmpSiRYK0VE2ljvKIqLIoIgUhDULsQi4kJRrHcs3hZtqFErQRBSDaaLWlOTylRFScxMksn800zmv7wuAnVhFJ/lOWd3zoF/Iqto/+r9LbRuEQThnM+e+7bSdWKU0ugYILT05SlddwMH3xgBtwFUFYCFb9Tpv+vFn8an4+s7MjHSyQb+LFZ55sCD5F59jRm3E1TJ7drB5OA9jJx9nY62BIvVZYo1y7rmnR877718h5NtznHz458yfOQkOIY5z6d1pkil8BsoVKdnWKjWKExNUyi43P7ITXx06xre3j7QZI7f/6QK8NmB2wgm9nHN5rWU5qsEoqg1qBXUGopzHttu6WPp0E7eObyfn9dsZPHSXjW2JUPx6RcgUqw1jL55N/3rMtQiQCIiDanWA3ZsbGfk3rVU3v+Ec4O76NEZsg/twUlsupxkb56FoWNIFBCJxSQa8U5PUvc8QPFOTVD+4ms0qNNw41YIAupDx1gYPoq8RduZTYmWHt8xRCga+KCKTacwTTFAiJZqhBUPoghFIYiIR8qHYWXIMak4JpkEDTACmKaVfq1zvmVxXWwmjagSqSJhhA0VuxTi2FQSScZxjAHHgAiIEHoVNAhWNuI4OJlWNAyRUBEUx1hMaRlO/PH7GV2FX554Vsc78zremddf9z2/WkQ/+HL4iKHmMbv/IGOSw7/zUb47OsZkHRqkEUl1IckcrjRyct5nolA8P9zZp17iVP9uzA89g5Ite3RNT9F/5QNsfuxb5ueWcdPtSLobSV+Em2pjfrHOZde/y5a9w8yWa2Sf20vfV4dwYodfcQbKeT5/+HtizTG44iqyF8Roy26g2u4B0NKxnvYLE3D1tYyVDR27j7N9oJdtbskRRLrjjU73hksuxlqLARaXIwJrV44DqO/jBiGpmEU1wvd9fpw6K6HK6f947v/jL75XTMPxMeR3AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABzUlEQVR4XqXOsWoUURTG8f+5c2d2ZzYJayRYuYoheQa1EB9AQV9ACx/BxlLBFBbWPoE2voOFjTY2FoqIEbERC82yJtnZO/d8woCF7AYLf5fTnfudjxWMk9mJyzsXbhiGtfOOK1cn7OxukVKmV1bk/Q+0z55iQ8AQgsczxM3rT94/2nujvfuv9PDBa927+1Kf9w+15ONb5Wvb0u1L0q2L0p3LejEJz2NKs+r7tymdJ8xgetAym86A5q+q3fQnR18/EeY/IDujUnwxq6NAjkAZCCDHxRIJFAyFGqzDlQkEBUnk7GQH94yj/i1xoSTUZpQBNzAjCui6jOS4GTkJraqQHR2AVy3IEQKJiPcNwB1HzH4dkzpniQEBLBjIcHdMRpToA1JK4GBmGP+G0QuSaBcZzyAgOxA4kQT0AwJiLAJ1Ffnzrx5mgq1OsNgPCIIgFBDX1xtOj4fIOzCjssCgWg6wIlA0EGrAA4UyZQlxc2NkW6c2cBaYGc2gYlCVK6/HIdhA4I6ZGJYijtfGcfvcLl3XAuL4MHH+7OZSQHFmTF0DTQs4mKiCR1vbGEyaZjQpqypXRQyEQF5ksgtJ9Mz681aPcIlFyp4Wx/FoPn/H//oNZ+YFBLvnivQAAAAASUVORK5CYII=\"","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Editor } from 'react-draft-wysiwyg';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport './editor-html.scss';\nimport { getLang } from 'js/i18n/build-dictionary';\n\nimport { mdFromEditorState, editorStateFromMd } from 'js/utils/html';\n\nconst toolbar = {\n\toptions: ['list', 'inline', 'link'],\n\tlist: {\n\t\tinDropdown: false,\n\t\tclassName: undefined,\n\t\toptions: ['unordered', 'ordered'],\n\t},\n\tinline: {\n\t\toptions: ['bold', 'italic'],\n\t},\n};\n\nclass EditorMarkdown extends Component {\n\tstatic propTypes = {\n\t\ttext: PropTypes.string,\n\t\thandleChange: PropTypes.func.isRequired,\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tconst { text } = props;\n\t\tthis.state = {\n\t\t\teditorState: editorStateFromMd(text || ''),\n\t\t\ttext,\n\t\t};\n\t\tthis.handleChange = editorState => {\n\t\t\tthis.setState({\n\t\t\t\teditorState,\n\t\t\t});\n\t\t};\n\t\tthis.handleLeave = () =>\n\t\t\tthis.props.handleChange(mdFromEditorState(this.state.editorState));\n\t}\n\tcomponentWillReceiveProps(nextProps) {\n\t\tthis.setState({\n\t\t\teditorState: editorStateFromMd(nextProps.text || ''),\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Editor\n\t\t\t\teditorState={this.state.editorState}\n\t\t\t\ttoolbar={toolbar}\n\t\t\t\ttoolbarClassName=\"home-toolbar\"\n\t\t\t\twrapperClassName=\"home-wrapper\"\n\t\t\t\teditorClassName=\"home-editor\"\n\t\t\t\tonEditorStateChange={this.handleChange}\n\t\t\t\tonBlur={this.handleLeave}\n\t\t\t\tlocalization={{\n\t\t\t\t\tlocale: getLang(),\n\t\t\t\t}}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default EditorMarkdown;\n","export const getOperationsOrganisations = state => {\n\tconst organisations = state.operationsOrganisations || {};\n\treturn organisations.results || [];\n};\n\nexport const getOperationsCodesList = state => {\n\tconst operationsCodesList = state.operationsCodesList || {};\n\treturn operationsCodesList.results || [];\n};\n\nexport const getOperationsDocuments = (state, group = 'full') => {\n\tif (!state.operationsDocuments.results) {\n\t\treturn [];\n\t}\n\treturn state.operationsDocuments.results[group] || [];\n};\n\nexport const getOperationsDocumentsStatus = state => {\n\treturn state.operationsDocuments.status;\n};\nexport const getCurrentDocument = state => {\n\treturn state.operationsCurrentDocument.results || {};\n};\n","import React from 'react';\nimport DatePicker from 'react-16-bootstrap-date-picker';\nimport D from 'js/i18n';\n\nfunction DatePickerRmes({ value, onChange, placement }) {\n\tconst days = D.calendarDays;\n\tconst months = D.calendarMonths;\n\n\treturn (\n\t\t<DatePicker\n\t\t\tvalue={value}\n\t\t\tcalendarPlacement={placement}\n\t\t\tonChange={onChange}\n\t\t\tweekStartsOn={1}\n\t\t\tdayLabels={days}\n\t\t\tmonthLabels={months}\n\t\t/>\n\t);\n}\n\nexport default DatePickerRmes;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport flag from 'js/components/shared/flag/flag';\n\nfunction InputRmes({\n\tcolMd,\n\tvalue,\n\tlabel,\n\tlang,\n\tstar,\n\thiddenStar,\n\tdisabled,\n\tpassword,\n\thandleChange,\n\tarias,\n}) {\n\treturn (\n\t\t<div className={`form-group col-md-${colMd || 12}`}>\n\t\t\t<label className=\"form-label\">\n\t\t\t\t{label} {flag(lang) ? '( ' : null} {flag(lang)}{' '}\n\t\t\t\t{flag(lang) ? ' )' : null}\n\t\t\t\t{star && <span className=\"boldRed\">*</span>}\n\t\t\t\t{hiddenStar && <span className=\"boldWhite\">*</span>}\n\t\t\t\t<input\n\t\t\t\t\ttype={password ? 'password' : 'text'}\n\t\t\t\t\tvalue={value || ''}\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\tonChange={e => handleChange(e.target.value)}\n\t\t\t\t\t{...arias}\n\t\t\t\t/>\n\t\t\t</label>\n\t\t</div>\n\t);\n}\n\nInputRmes.propTypes = {\n\tcolMd: PropTypes.number,\n\tlabel: PropTypes.string,\n\tlang: PropTypes.string,\n\tstar: PropTypes.bool,\n\thiddenStar: PropTypes.bool,\n\tvalue: PropTypes.string, //might be undefined\n\tdisabled: PropTypes.bool,\n\tpassword: PropTypes.bool,\n\thandleChange: PropTypes.func.isRequired,\n};\n\nexport default InputRmes;\n","import api from 'js/remote-api/operations-api';\nimport * as A from 'js/actions/constants';\nimport getListBuilder from 'js/actions/operations/utils/index';\n\nexport default () =>\n\tgetListBuilder(\n\t\tapi.getSeriesList,\n\t\tA.LOAD_OPERATIONS_SERIES_LIST,\n\t\tA.LOAD_OPERATIONS_SERIES_LIST_SUCCESS,\n\t\tA.LOAD_OPERATIONS_SERIES_LIST_FAILURE\n\t);\n","import api from 'js/remote-api/operations-api';\nimport * as A from 'js/actions/constants';\nimport { getItemFactory } from '../utils';\n\nexport const saveSerie = (series, callback) => dispatch => {\n\tdispatch({\n\t\ttype: A.SAVE_OPERATIONS_SERIE,\n\t\tpayload: series,\n\t});\n\tconst method = series.id ? 'putSeries' : 'postSeries';\n\n\treturn api[method](series).then(\n\t\tid => {\n\t\t\tdispatch({\n\t\t\t\ttype: A.SAVE_OPERATIONS_SERIE_SUCCESS,\n\t\t\t\tpayload: {\n\t\t\t\t\t...series,\n\t\t\t\t\tid,\n\t\t\t\t},\n\t\t\t});\n\t\t\tcallback(null, id);\n\t\t},\n\t\terr => {\n\t\t\tdispatch({\n\t\t\t\ttype: A.SAVE_OPERATIONS_SERIE_FAILURE,\n\t\t\t\tpayload: { err },\n\t\t\t});\n\t\t\tcallback(err);\n\t\t}\n\t);\n};\n\nexport default getItemFactory(\n\tapi.getSerie,\n\tA.LOAD_OPERATIONS_SERIE,\n\tA.LOAD_OPERATIONS_SERIE_SUCCESS,\n\tA.LOAD_OPERATIONS_SERIES_LIST_FAILURE\n);\n","import api from 'js/remote-api/operations-api';\nimport * as A from 'js/actions/constants';\nimport { getItemFactory } from '../utils';\n\nexport const saveOperation = (operation, callback) => dispatch => {\n\tdispatch({\n\t\ttype: A.SAVE_OPERATIONS_OPERATION,\n\t\tpayload: operation,\n\t});\n\tconst method = operation.id ? 'putOperation' : 'postOperation';\n\n\treturn api[method](operation).then(\n\t\tid => {\n\t\t\tdispatch({\n\t\t\t\ttype: A.SAVE_OPERATIONS_OPERATION_SUCCESS,\n\t\t\t\tpayload: {\n\t\t\t\t\t...operation,\n\t\t\t\t\tid,\n\t\t\t\t},\n\t\t\t});\n\t\t\tcallback(null, id);\n\t\t},\n\t\terr => {\n\t\t\tdispatch({\n\t\t\t\ttype: A.SAVE_OPERATIONS_OPERATION_FAILURE,\n\t\t\t\tpayload: { err },\n\t\t\t});\n\t\t\tcallback(err);\n\t\t}\n\t);\n};\n\nexport default getItemFactory(\n\tapi.getOperation,\n\tA.LOAD_OPERATIONS_OPERATION,\n\tA.LOAD_OPERATIONS_OPERATION_SUCCESS,\n\tA.LOAD_OPERATIONS_OPERATIONS_LIST_FAILURE\n);\n","import api from 'js/remote-api/operations-api';\nimport * as A from 'js/actions/constants';\nimport { getItemFactory } from '../utils';\n\nexport const saveIndicator = (indicator, callback) => dispatch => {\n\tdispatch({\n\t\ttype: A.SAVE_OPERATIONS_INDICATOR,\n\t\tpayload: indicator,\n\t});\n\tconst method = indicator.id ? 'putIndicator' : 'postIndicator';\n\n\treturn api[method](indicator).then(\n\t\tresults => {\n\t\t\tdispatch({\n\t\t\t\ttype: A.SAVE_OPERATIONS_INDICATOR_SUCCESS,\n\t\t\t\tpayload: {\n\t\t\t\t\tid: results,\n\t\t\t\t\tprefLabelLg1: indicator.prefLabelLg1,\n\t\t\t\t\taltLabel: indicator.altLabelLg1,\n\t\t\t\t},\n\t\t\t});\n\t\t\tcallback(null, results);\n\t\t},\n\t\terr => {\n\t\t\tdispatch({\n\t\t\t\ttype: A.SAVE_OPERATIONS_INDICATOR_FAILURE,\n\t\t\t\tpayload: { err },\n\t\t\t});\n\t\t\tcallback(err);\n\t\t}\n\t);\n};\n\nexport default getItemFactory(\n\tapi.getIndicator,\n\tA.LOAD_OPERATIONS_INDICATOR,\n\tA.LOAD_OPERATIONS_INDICATOR_SUCCESS,\n\tA.LOAD_OPERATIONS_INDICATORS_LIST_FAILURE\n);\n","import api from 'js/remote-api/api';\nimport * as A from 'js/actions/constants';\nimport { sortArray } from 'js/utils/array-utils';\n\nconst sortByLabel = sortArray('labelLg1');\n\nexport default () => dispatch => {\n\tdispatch({\n\t\ttype: A.LOAD_OPERATIONS_DOCUMENTS,\n\t\tpayload: {},\n\t});\n\treturn api.getDocumentsList().then(\n\t\tresults =>\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_OPERATIONS_DOCUMENTS_SUCCESS,\n\t\t\t\tpayload: {\n\t\t\t\t\tresults: sortByLabel(\n\t\t\t\t\t\tresults.map(doc => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...doc,\n\t\t\t\t\t\t\t\tid: doc.uri.substr(doc.uri.lastIndexOf('/') + 1),\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t}),\n\t\terr => {\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_OPERATIONS_DOCUMENTS_FAILURE,\n\t\t\t\tpayload: { err },\n\t\t\t});\n\t\t}\n\t);\n};\n","import api from 'js/remote-api/operations-api';\nimport * as A from 'js/actions/constants';\nimport getListBuilder from 'js/actions/operations/utils/index';\n\nexport default () =>\n\tgetListBuilder(\n\t\tapi.getIndicatorsList,\n\t\tA.LOAD_OPERATIONS_INDICATORS_LIST,\n\t\tA.LOAD_OPERATIONS_INDICATORS_LIST_SUCCESS,\n\t\tA.LOAD_OPERATIONS_INDICATORS_LIST_FAILURE\n\t);\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nexports.genericHashLink = genericHashLink;\nexports.HashLink = HashLink;\nexports.NavHashLink = NavHashLink;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactRouterDom = require('react-router-dom');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nvar hashFragment = '';\nvar observer = null;\nvar asyncTimerId = null;\nvar scrollFunction = null;\n\nfunction reset() {\n  hashFragment = '';\n  if (observer !== null) observer.disconnect();\n\n  if (asyncTimerId !== null) {\n    window.clearTimeout(asyncTimerId);\n    asyncTimerId = null;\n  }\n}\n\nfunction getElAndScroll() {\n  var element = document.getElementById(hashFragment);\n\n  if (element !== null) {\n    scrollFunction(element);\n    reset();\n    return true;\n  }\n\n  return false;\n}\n\nfunction hashLinkScroll() {\n  // Push onto callback queue so it runs after the DOM is updated\n  window.setTimeout(function () {\n    if (getElAndScroll() === false) {\n      if (observer === null) {\n        observer = new MutationObserver(getElAndScroll);\n      }\n\n      observer.observe(document, {\n        attributes: true,\n        childList: true,\n        subtree: true\n      }); // if the element doesn't show up in 10 seconds, stop checking\n\n      asyncTimerId = window.setTimeout(function () {\n        reset();\n      }, 10000);\n    }\n  }, 0);\n}\n\nfunction genericHashLink(props, As) {\n  function handleClick(e) {\n    reset();\n    if (props.onClick) props.onClick(e);\n\n    if (typeof props.to === 'string') {\n      hashFragment = props.to.split('#').slice(1).join('#');\n    } else if (_typeof(props.to) === 'object' && typeof props.to.hash === 'string') {\n      hashFragment = props.to.hash.replace('#', '');\n    }\n\n    if (hashFragment !== '') {\n      scrollFunction = props.scroll || function (el) {\n        return el.scrollIntoView(props.smooth ? {\n          behavior: 'smooth'\n        } : undefined);\n      };\n\n      hashLinkScroll();\n    }\n  }\n\n  var scroll = props.scroll,\n      smooth = props.smooth,\n      filteredProps = _objectWithoutProperties(props, ['scroll', 'smooth']);\n\n  return _react2.default.createElement(As, _extends({}, filteredProps, {\n    onClick: handleClick\n  }), props.children);\n}\n\nfunction HashLink(props) {\n  return genericHashLink(props, _reactRouterDom.Link);\n}\n\nfunction NavHashLink(props) {\n  return genericHashLink(props, _reactRouterDom.NavLink);\n}\n\nvar propTypes = {\n  onClick: _propTypes2.default.func,\n  children: _propTypes2.default.node,\n  scroll: _propTypes2.default.func,\n  to: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.object])\n};\nHashLink.propTypes = propTypes;\nNavHashLink.propTypes = propTypes;","import buildApi from './build-api';\n\nconst api = {\n\tgetCodesList: notation => [`${notation}`],\n\tgetCode: (notation, code) => [`${notation}/code/${code}`],\n};\n\nexport default buildApi('codeList', api);\n","import buildApi from './build-api';\n\nconst api = {\n\tgetOrganisations: () => [''],\n};\nexport default buildApi('organizations', api);\n","import api from 'js/remote-api/codelist-api';\nimport apiOrganisations from 'js/remote-api/organisations-api';\nimport { CL_SOURCE_CATEGORY, CL_FREQ } from 'js/actions/constants/codeList';\nimport loadIndicators from 'js/actions/operations/indicators/list';\nimport loadSeries from 'js/actions/operations/series/list';\n\nimport * as A from 'js/actions/constants';\n\nexport const loadSetup = () => dispatch => {\n\tloadCodesList([CL_SOURCE_CATEGORY, CL_FREQ], dispatch);\n\tloadOrganisations(dispatch);\n\tloadIndicators()(dispatch);\n\tloadSeries()(dispatch);\n};\nexport function loadCodesList(notations, dispatch) {\n\tnotations.forEach(notation => {\n\t\treturn api.getCodesList(notation).then(\n\t\t\tresults =>\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: A.LOAD_OPERATIONS_CODES_LIST_SUCCESS,\n\t\t\t\t\tpayload: results,\n\t\t\t\t}),\n\t\t\terr =>\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: A.LOAD_OPERATIONS_CODES_LIST_FAILURE,\n\t\t\t\t\tpayload: { err },\n\t\t\t\t})\n\t\t);\n\t});\n}\n\nexport function loadOrganisations(dispatch) {\n\treturn apiOrganisations.getOrganisations().then(\n\t\tresults =>\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_OPERATIONS_ORGANISATIONS_SUCCESS,\n\t\t\t\tpayload: results,\n\t\t\t}),\n\t\terr =>\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_OPERATIONS_ORGANISATIONS_FAILURE,\n\t\t\t\tpayload: { err },\n\t\t\t})\n\t);\n}\n","module.exports = __webpack_public_path__ + \"static/media/spinner.acf82525.svg\";"],"sourceRoot":""}
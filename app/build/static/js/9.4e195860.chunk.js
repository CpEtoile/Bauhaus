(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{287:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(571),i=n(568),c=n(4),s=n(29),l=n(12),u=n(13),d=n(15),p=n(14),m=n(16),f=n(6),h=n(7),b=n(92);function g(e){var t="simsLabel_"+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"operation");return{labelLg1:h.a[t].replace("{{PARENT_LABEL}}",e.prefLabelLg1),labelLg2:Object(b.c)(t).replace("{{PARENT_LABEL}}",e.prefLabelLg2)}}var y="TEXT",v="DATE",O="CODE_LIST",E="RICH_TEXT",j="ORGANIZATION",L=E,S=y,C="HELP_COLLAPSED";function T(e){return(JSON.parse(localStorage.getItem(C))||{})[e]||!1}function k(e){var t=JSON.parse(localStorage.getItem(C))||{},n=t[e]||!1;localStorage.setItem(C,JSON.stringify(Object(c.a)({},t,Object(f.a)({},e,!n))))}function N(e){return e.rangeType===S||e.rangeType===L}function A(e){return e.idOperation||e.idSeries||e.idIndicator}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=["I.6.4"];return Object.keys(t).reduce(function(a,r){return e===We&&n.indexOf(r)>=0?a:Object(c.a)({},a,Object(f.a)({},r,t[r]))},{})}var x=n(705),P=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).expandOrCollapseItem=function(e){var t=e.currentTarget.id;k(t),n.setState(function(e){return{children:Object(c.a)({},e.children,Object(f.a)({},t,Object(c.a)({},e.children[t],{opened:!e.children[t].opened})))}})},n.state={children:Object.keys(n.props.children).reduce(function(e,t){return Object(c.a)({},e,Object(f.a)({},t,Object(c.a)({},n.props.children[t],{opened:T(t)})))},{})},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,n=this.props,a=n.secondary,o=n.parent,i=n.baseUrl,c=void 0===i?"/operations/help/":i,s=n.disableSectionAnchor,l=void 0!==s&&s,u=this.state.children;return Object.keys(u).length<=0?null:r.a.createElement("ul",{className:a?"msd__item-secondary":"msd__item"},Object.values(u).map(function(n){return r.a.createElement("li",{key:n.idMas,className:"help-item"},Object.keys(n.children).length>0&&r.a.createElement("button",{className:"msd__item-updown",title:n.opened?h.a.hide:h.a.display,id:n.idMas,onClick:e.expandOrCollapseItem},r.a.createElement("span",{className:"glyphicon glyphicon-chevron-".concat(n.opened?"up":"down")})),r.a.createElement(x.HashLink,{smooth:!0,to:"".concat(c).concat(l?"":o,"#").concat(n.idMas)},n.idMas," - ",n.masLabelBasedOnCurrentLang),n.opened&&r.a.createElement(t,{children:n.children,secondary:!0,parent:o,baseUrl:c,disableSectionAnchor:l}))}))}}]),t}(a.Component),M=(n(801),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).expandOrCollapseItem=function(){n.setState(function(e){return{opened:!e.opened}}),n.props.storeCollapseState&&k(n.props.metadataStructure.idMas)},n.state={opened:e.storeCollapseState&&T(e.metadataStructure.idMas)},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.metadataStructure,n=e.storeCollapseState,a=e.baseUrl,o=void 0===a?"/operations/help/":a,i=e.disableSectionAnchor,c=void 0!==i&&i;return r.a.createElement("li",null,r.a.createElement("div",{className:"msd__outline-primary-item"},r.a.createElement(x.HashLink,{to:"".concat(o).concat(c?"":t.idMas,"#").concat(t.idMas)},t.idMas," -"," ",t.masLabelBasedOnCurrentLang),Object.keys(t.children).length>0&&r.a.createElement("button",{className:"msd__outline-primary-updown",title:this.state.opened?h.a.hide:h.a.display,onClick:this.expandOrCollapseItem},r.a.createElement("span",{className:" glyphicon glyphicon-chevron-".concat(this.state.opened?"up":"down")}))),this.state.opened&&r.a.createElement(P,{children:t.children,parent:t.idMas,storeCollapseState:n,baseUrl:o,disableSectionAnchor:c}))}}]),t}(a.Component)),R=(n(802),{BOTH:"BOTH",SUMMARY:"SUMMARY",CONTENT:"CONTENT"}),I=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).changeStatusToBoth=function(){return n.changeStatus(R.BOTH)},n.changeStatusToContent=function(){return n.changeStatus(R.CONTENT)},n.changeStatusToSummary=function(){return n.changeStatus(R.SUMMARY)},n.state={status:localStorage.getItem("HELP_VIEW")||R.BOTH},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"changeStatus",value:function(e){localStorage.setItem("HELP_VIEW",e),this.setState(function(t){return{status:e}})}},{key:"render",value:function(){var e=this.state.status,t={width:e===R.BOTH?"25%":"100%",display:e===R.CONTENT?"none":"block"},n={width:e===R.BOTH?"75%":"100%",display:e===R.SUMMARY?"none":"block"},a=this.props,o=a.storeCollapseState,i=a.metadataStructure,c=a.children,s=a.baseUrl,l=a.disableSectionAnchor;return r.a.createElement("div",{id:"consulter-sommaire",className:"container msd__container"},r.a.createElement("section",{className:"msd__outline",style:t},r.a.createElement("div",{className:"msd__outline_title"},h.a.helpSummary),r.a.createElement("input",{className:"form-control",disabled:!0,placeholder:h.a.search,"aria-label":h.a.search}),r.a.createElement("nav",{className:"msd__outline-container"},r.a.createElement("ul",{className:"msd__outline-content"},Object.values(i).map(function(e){return r.a.createElement(M,{key:e.idMas,storeCollapseState:o,metadataStructure:e,baseUrl:s,disableSectionAnchor:l})})))),e===R.CONTENT&&r.a.createElement("button",{className:"msd__panel-trigger_left",onClick:this.changeStatusToBoth},h.a.helpSummary,r.a.createElement("span",{className:"glyphicon glyphicon-chevron-right"})),e===R.BOTH&&r.a.createElement("div",{className:"msd__panel-trigger_middle"},r.a.createElement("div",null,r.a.createElement("button",{onClick:this.changeStatusToContent,title:"open content"},r.a.createElement("span",{className:"glyphicon glyphicon-chevron-left"}))),r.a.createElement("div",null,r.a.createElement("button",{onClick:this.changeStatusToSummary,title:"open summary"},r.a.createElement("span",{className:"glyphicon glyphicon-chevron-right"})))),e===R.SUMMARY&&r.a.createElement("button",{className:"msd__panel-trigger_right",onClick:this.changeStatusToBoth},r.a.createElement("span",{className:"glyphicon glyphicon-chevron-left"}),h.a.helpContent),r.a.createElement("section",{style:n,className:e===R.CONTENT?"msd__content_alone":"msd__content"},c))}}]),t}(a.Component),_=n(27),B=n(53),H=n(5),F=n(579),D=n(1),U=n(739);var W=n(570),Q=O,J=j;function V(e){var t=e.msd,n=e.codesLists,a=e.organisations;return t.masLabelLg1?r.a.createElement("dl",null,r.a.createElement("dt",null,h.a.labelTitle,":"),r.a.createElement("dd",null,t.masLabelLg2),r.a.createElement("dt",null,h.a.helpPresentational,":"),r.a.createElement("dd",null,t.isPresentational.toString()),r.a.createElement("dt",null,h.a.helpRange,":"),r.a.createElement("dd",null,t.rangeType===Q&&n[t.codeList]?"".concat(h.a["help".concat(t.rangeType)]," - ").concat(n[t.codeList].codeListLabelLg1):"".concat(h.a["help".concat(t.rangeType)]),t.rangeType===Q&&n[t.codeList]&&r.a.createElement("ul",{className:"list-group"},n[t.codeList].codes.map(function(e){return r.a.createElement("li",{className:"list-group-item",key:e.code},e.labelLg1)})),t.rangeType===J&&r.a.createElement("ul",{className:"list-group"},a.map(function(e){return r.a.createElement("li",{className:"list-group-item",key:e.id},e.label)})))):null}var q=n(583);function Y(e){var t=e.metadataStructure,n=e.currentSection,a=e.codesLists,o=e.langs.lg1,i=e.organisations;function c(e){var t=e.msd;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row",key:t.idMas,id:t.idMas},r.a.createElement(q.a,{title:"".concat(t.idMas," - ").concat(t.masLabelLg1),text:r.a.createElement(V,{msd:t,codesLists:a,organisations:i}),alone:!0,lang:o})),Object.values(t.children).map(function(e){return r.a.createElement(c,{key:e.idMas,msd:e})}))}return Object.values(t).map(function(e){return n&&e.idMas!==n?null:r.a.createElement(c,{key:e.idMas,msd:e})})}var z=n(172),K=n(581),Z=n(54),G=n(586),X=n(803),$=n.n(X),ee=n(678),te=n(614),ne=n(30);n(804);function ae(e){var t=e.documents,n=void 0===t?[]:t,o=e.localPrefix,i=void 0===o?"Lg1":o,c=e.editMode,l=void 0!==c&&c,u=e.deleteHandler,d=e.addHandler,p=e.documentStores,m=void 0===p?[]:p,f=e.documentStoresStatus,g=e.objectType,y=Object(a.useState)(!1),v=Object(s.a)(y,2),O=v[0],E=v[1],j=Object(a.useState)(""),L=Object(s.a)(j,2),S=L[0],C=L[1],T=Object(ne.k)("label".concat(i))(n),k=T.map(function(e){return e.uri}),N=Object(ne.k)("label".concat(i))(m.filter(function(e){return!k.includes(e.uri)}).filter(function(e){return["",e.labelLg1,e.labelLg2].join().toLowerCase().includes(S.toLowerCase())})),A="Lg2"===i;var w=function(e){return r.a.createElement("button",{type:"button",className:"documentsbloc__delete documentsbloc__btn","aria-label":h.a.btnDelete,onClick:function(){return u(e.uri)}},r.a.createElement("span",{className:"glyphicon glyphicon-trash","aria-hidden":"true"}))};function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w,n=e["label".concat(i)]||e.labelLg1||e.labelLg2;return r.a.createElement("li",{className:"list-group-item documentbloc__item",key:e.uri},r.a.createElement("span",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.url,title:e["description".concat(i)]},n),r.a.createElement("i",null," (",function(e){var t;return e.updatedDate&&(t=new Intl.DateTimeFormat(Object(b.b)()).format(new Date(e.updatedDate))),[e.lang,t].filter(function(e){return!!e}).join("-")}(e),")")),l&&!A&&t(e))}var P="documents"===g?h.a.addDocument:h.a.addLink,M="documents"===g?h.a.titleDocument:h.a.titleLink;return r.a.createElement(r.a.Fragment,null,(n.length>0||l)&&r.a.createElement("h4",null,M),n&&n.length>0&&r.a.createElement("ul",{className:"documentsbloc list-group"},T.map(function(e){return x(e)})),l&&!A&&r.a.createElement("div",{className:"panel panel-default"},r.a.createElement("div",{className:"panel-heading"},r.a.createElement("button",{type:"button",className:"btn documentsbloc__add documentsbloc__btn","aria-label":P,onClick:function(){return E(!O)}},r.a.createElement("span",{className:"glyphicon glyphicon-menu-".concat(O?"down":"right"),"aria-hidden":"true"}),P," ",f===H.d?r.a.createElement("img",{src:$.a,width:"30px",alt:"loading"}):r.a.createElement("span",{className:"badge"},N.length))),O&&r.a.createElement("div",{className:"panel-body"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"sr-only",htmlFor:"documentFilter"},h.a.search),r.a.createElement("input",{className:"form-control",id:"documentFilter",placeholder:h.a.search,value:S,onChange:function(e){return C(e.target.value)}})),r.a.createElement("ul",{className:"documentsbloc__filepicker"},N.map(function(e){return x(e,function(e){return r.a.createElement("button",{type:"button",className:"documentsbloc__delete documentsbloc__btn","aria-label":h.a.btnAdd,onClick:function(){return d(e)}},r.a.createElement("span",{className:"glyphicon glyphicon-plus","aria-hidden":"true"}))})})))))}var re=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){this.props.documentStoresStatus===H.g&&this.props.loadDocuments()}},{key:"render",value:function(){return r.a.createElement(ae,this.props)}}]),t}(a.Component),oe={loadDocuments:ee.a},ie=Object(_.b)(function(e,t){return{documentStoresStatus:Object(te.d)(e),documentStores:Object(te.c)(e,t.objectType)}},oe)(re),ce=n(171),se=n(55),le=n(598),ue=n(602),de=E,pe=y,me=v,fe=O,he=j;function be(e){var t=e.metadataStructure,n=e.currentSection,a=e.codesLists,o=e.sims,i=void 0===o?{}:o,c=e.secondLang,s=e.saveSecondLang,l=e.goBack,u=e.langs,d=u.lg1,p=u.lg2,m=e.organisations,f=function(e){return(e.parentsWithoutSims||[]).length>0&&e.idOperation}(i);function b(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.masLabelLg1?!e.isPresentational&&r.a.createElement(r.a.Fragment,null,n.rangeType===pe&&n[t?"labelLg2":"labelLg1"],n.value&&n.rangeType===me&&Object(z.c)(n.value),n.rangeType===de&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{dangerouslySetInnerHTML:{__html:Object(G.g)(n[t?"labelLg2":"labelLg1"])}}),n.documents&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,{documents:n.documents.filter(ce.d),localPrefix:t?"Lg2":"Lg1",objectType:"documents"}),r.a.createElement(ie,{documents:n.documents.filter(ce.e),localPrefix:t?"Lg2":"Lg1",objectType:"links"}))),n.rangeType===fe&&a[n.codeList]&&r.a.createElement("span",null,n.codeList,"-",a[n.codeList].codes.find(function(e){return e.code===n.value}).labelLg1),n.rangeType===he&&r.a.createElement("span",null,(m.find(function(e){return e.id===n.value})||{}).label)):null}function g(e){var t=e.msd,n=e.firstLevel,a=void 0!==n&&n;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row flex",key:t.idMas,id:t.idMas},a&&function(e){return e.isPresentational||!e.isPresentational&&0===Object.keys(e.children).length}(t)&&r.a.createElement("h3",{className:"col-md-12"},t.idMas," - ",t.masLabelBasedOnCurrentLang),!t.isPresentational&&r.a.createElement(q.a,{title:"".concat(t.idMas," - ").concat(t.masLabelBasedOnCurrentLang),text:b(t,!1,i.rubrics[t.idMas]),alone:!(N(t)&&c),lang:d,alt:"".concat(t.idMas," - ").concat(t.masLabelLg1)}),!t.isPresentational&&N(t)&&c&&r.a.createElement(q.a,{title:"".concat(t.idMas," - ").concat(t.masLabelBasedOnCurrentLang),text:b(t,!0,i.rubrics[t.idMas]),lang:p,alt:"".concat(t.idMas," - ").concat(t.masLabelLg2)})),Object.values(t.children).map(function(e){return r.a.createElement(g,{key:e.idMas,msd:e})}))}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row btn-line action-toolbar"},r.a.createElement(Z.a,{action:function(){return l(function(e){return e.idOperation?"/operations/operation/".concat(e.idOperation):e.idSeries?"/operations/series/".concat(e.idSeries):e.idIndicator?"/operations/indicator/".concat(e.idIndicator):void 0}(i))},label:h.a.btnReturn}),r.a.createElement("div",{className:"empty-center"}),r.a.createElement(le.a,{roles:[se.a,se.g],complementaryCheck:f},r.a.createElement(ue.b,{action:"/operations/sims/".concat(i.id,"/duplicate"),col:3})),r.a.createElement(le.a,{roles:[se.a,se.f,se.g,se.b]},r.a.createElement(Z.a,{action:"/operations/sims/".concat(i.id,"/modify"),label:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"glyphicon glyphicon-floppy-disk","aria-hidden":"true"}),r.a.createElement("span",null," ",h.a.btnUpdate))}))),r.a.createElement(K.a,{secondLang:c,onChange:s}),Object.values(t).map(function(e){return n&&e.idMas!==n?null:r.a.createElement(g,{key:e.idMas,msd:e,firstLevel:!0})}))}var ge=n(38),ye=n(618),ve=n(631),Oe=n(610),Ee=n(91),je=(n(805),E),Le=y,Se=v,Ce=O,Te=j,ke=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleTextInput=function(e){n._handleChange(Object(f.a)({},n.props.secondLang?"labelLg2":"labelLg1",e))},n.handleCodeListInput=function(e){n._handleChange({codeList:n.props.msd.codeList,value:e})},n.handleDateInput=function(e){n._handleChange({value:e})},n._handleDeleteDocumentOrLinks=function(e){return function(t){var a=n.props.currentSection[e]||[];n._handleChange(Object(f.a)({},e,a.filter(function(e){return e.uri!==t})))}},n._handleAddDocumentOrLinks=function(e){return function(t){var a=n.props.currentSection[e]||[];n._handleChange(Object(f.a)({},e,[].concat(Object(ge.a)(a),[t])))}},n.handleDeleteDocument=function(e){return n._handleDeleteDocumentOrLinks("documents")(e)},n.handleAddDocument=function(e){return n._handleAddDocumentOrLinks("documents")(e)},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"_handleChange",value:function(e){this.props.handleChange({id:this.props.msd.idMas,override:e})}},{key:"render",value:function(){var e=this.props,t=e.msd,n=e.currentSection,a=void 0===n?{}:n,o=e.secondLang,i=e.lang,c=e.alone,s=e.organisations,l=void 0===s?[]:s,u=this.props.codesLists[t.codeList]||{},d=(u.codes||[]).map(function(e){return{label:e.labelLg1,value:e.code}}),p=l.map(function(e){return{label:e.label,value:e.id}});return r.a.createElement(q.a,{title:"".concat(t.idMas," - ").concat(t.masLabelBasedOnCurrentLang),alone:c,lang:i,alt:"".concat(t.idMas," - ").concat(t[o?"masLabelLg2":"masLabelLg1"]),text:!t.isPresentational&&r.a.createElement("span",{className:"simsField"},t.rangeType===Le&&r.a.createElement(ve.a,{id:t.idMas,value:a[o?"labelLg2":"labelLg1"],handleChange:this.handleTextInput,arias:{"aria-label":h.a.simsValue}}),t.rangeType===Te&&r.a.createElement(Ee.a,{placeholder:"",className:"form-control",value:a.value,options:p,onChange:this.handleCodeListInput}),t.rangeType===Se&&r.a.createElement(ye.a,{"aria-label":h.a.simsValue,id:t.idMas,colMd:12,value:a.value,onChange:this.handleCodeListInput}),t.rangeType===je&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe.a,{"aria-label":h.a.simsValue,text:a[o?"labelLg2":"labelLg1"],handleChange:this.handleTextInput}),r.a.createElement(ie,{documents:(a.documents||[]).filter(ce.d),localPrefix:o?"Lg2":"Lg1",editMode:!0,deleteHandler:this.handleDeleteDocument,addHandler:this.handleAddDocument,objectType:"documents"}),r.a.createElement(ie,{documents:(a.documents||[]).filter(ce.e),localPrefix:o?"Lg2":"Lg1",editMode:!0,deleteHandler:this.handleDeleteDocument,addHandler:this.handleAddDocument,objectType:"links"})),t.rangeType===Ce&&u&&r.a.createElement(Ee.a,{placeholder:"","aria-label":u.codeListLabelLg1,className:"form-control",value:a.value,options:d,onChange:this.handleCodeListInput}))})}}]),t}(a.PureComponent),Ne=n(189),Ae=n.n(Ne),we=function(e){function t(e){var n;Object(l.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){n.setState(function(t){return Object(c.a)({},t,{sims:Object(c.a)({},t.sims,Object(f.a)({},e.id,Object(c.a)({},t.sims[e.id],e.override)))})})},n.updateIdParent=function(e){n.setState({idParent:e})},n.handleSubmit=function(e){var t,a;e.preventDefault(),e.stopPropagation(),n.setState({saving:!0}),n.props.onSubmit((t={id:n.props.mode!==We?n.props.sims.id:"",labelLg1:n.props.mode!==We?n.props.sims.labelLg1:"",labelLg2:n.props.mode!==We?n.props.sims.labelLg2:""},Object(f.a)(t,"operation"===(a=n.props.parentType)?"idOperation":"series"===a?"idSeries":"indicator"===a?"idIndicator":void 0,n.state.idParent),Object(f.a)(t,"rubrics",Object.values(n.state.sims)),t),function(e){n.setState({saving:!1}),n.props.goBack("/operations/sims/".concat(e))})},n.goBack=function(){var e=n.props,t=e.goBack,a=e.sims,r=e.parentType,o=n.state.idParent;t(a.id?"/operations/sims/".concat(a.id):"/operations/".concat(r,"/").concat(o))};var a=n.props,r=a.metadataStructure,o=a.sims,i=void 0===o?{}:o,s=function e(t){return t?Object.keys(t).reduce(function(n,a){return Object(c.a)({},n,Object(f.a)({},a,Object(c.a)({},t[a])),e(t[a].children))},{}):null}(r);return n.state={saving:!1,idParent:n.props.mode!==We?n.props.idParent||A(n.props.sims):"",sims:Object(c.a)({},Object.keys(s).reduce(function(e,t){return Object(c.a)({},e,Object(f.a)({},t,{rangeType:s[t].rangeType,idAttribute:t,value:"",labelLg1:"",labelLg2:""}))},{}),w(e.mode,i.rubrics))},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.metadataStructure,a=t.codesLists,o=t.saveSecondLang,i=t.secondLang,c=t.mode,s=t.langs,l=s.lg1,u=s.lg2,d=t.organisations,p=this.state,m=p.sims,f=p.idParent,b=(this.props.sims.parentsWithoutSims||[]).map(function(e){return{label:e.labelLg1,value:e.id}});function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r.a.createElement(r.a.Fragment,{key:e.idMas},r.a.createElement("div",{className:"row flex",id:e.idMas},n&&function(e){return e.isPresentational||!e.isPresentational&&0===Object.keys(e.children).length}(e)&&r.a.createElement("h3",{className:"col-md-12"},e.idMas," - ",e.masLabelBasedOnCurrentLang),!e.isPresentational&&r.a.createElement(ke,{msd:e,currentSection:m[e.idMas],handleChange:t,codesLists:a,secondLang:!1,lang:l,alone:!N(e)||!i,organisations:d}),!e.isPresentational&&N(e)&&i&&r.a.createElement(ke,{msd:e,currentSection:m[e.idMas],handleChange:t,codesLists:a,secondLang:!0,lang:u,alone:!1,organisations:d})),Object.values(e.children).map(function(e){return g(e,t)}))}return this.state.saving?r.a.createElement("div",{className:"loading-operations"},r.a.createElement(Ae.a,{type:"spinningBubbles",delay:0,height:"50%",width:"50%"})):r.a.createElement("form",null,r.a.createElement("div",{className:"row btn-line"},r.a.createElement(Z.a,{action:this.goBack,label:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"glyphicon glyphicon-floppy-remove","aria-hidden":"true"}),r.a.createElement("span",null," ",h.a.btnCancel))}),r.a.createElement("div",{className:"col-md-7"}),r.a.createElement(Z.a,{action:this.handleSubmit,label:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"glyphicon glyphicon-floppy-disk","aria-hidden":"true"}),r.a.createElement("span",null," ",h.a.btnSave)),col:3})),Object.values(n).map(function(t,n){return r.a.createElement("div",{key:t.idMas},0===n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{secondLang:i,onChange:o}),"DUPLICATE"===c&&r.a.createElement("div",{id:"operation-picker",className:"panel panel-default"},r.a.createElement(Ee.a,{value:f,placeholder:h.a.operationsTitle,options:b,onChange:e.updateIdParent,searchable:!0}))),g(t,e.handleChange,!0))}))}}]),t}(r.a.Component),xe=n(578),Pe=n(84),Me=n(180),Re=n(28),Ie=n(646),_e=n(644),Be=n(647),He=n(169),Fe=n(588),De=Object(xe.a)("id"),Ue=Object(xe.a)("idParent"),We="DUPLICATE",Qe={operation:{load:"loadOperation"},series:{load:"loadSerie"},indicator:{load:"loadIndicator"}},Je=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).goBackCallback=function(e){n.props.history.push(e)},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"_loadParent",value:function(e){var t=this.props.match.params[0];return this.props[Qe[t].load](e)}},{key:"componentDidMount",value:function(){this.props.metadataStructureStatus!==H.c&&this.props.loadMetadataStructure(),this.props.currentSims.id||this.props.loadSIMS(this.props.id),this.props.isParentLoaded||this._loadParent(this.props.idParent)}},{key:"componentWillReceiveProps",value:function(e){e.currentSims.id&&this.props.id===e.id||this.props.loadSIMS(e.id),e.isParentLoaded||this._loadParent(e.idParent)}},{key:"render",value:function(){var e=this.props,t=e.metadataStructure,n=e.metadataStructureStatus,a=e.codesLists,o=e.mode,i=void 0===o?"HELP":o,c=e.baseUrl,s=e.saveSims,l=e.idParent,u=e.disableSectionAnchor,d=e.saveSecondLang,p=e.langs,m=e.secondLang,f=e.currentSims,h=e.organisations,b=e.parentType;return n!==H.c||"VIEW"===i&&!f.id?r.a.createElement(B.a,{textType:"loading"}):r.a.createElement(I,{metadataStructure:t,currentSection:this.props.match.params.idSection,storeCollapseState:"HELP"===i,baseUrl:c,disableSectionAnchor:u},"HELP"!==i&&i!==We&&r.a.createElement(Fe.a,{titleLg1:f.labelLg1,titleLg2:f.labelLg2,secondLang:m}),"HELP"===i&&r.a.createElement(Y,{metadataStructure:t,codesLists:a,currentSection:this.props.match.params.idSection,langs:p,organisations:h}),"VIEW"===i&&r.a.createElement(be,{sims:f,metadataStructure:t,codesLists:a,organisations:h,currentSection:this.props.match.params.idSection,saveSecondLang:d,langs:p,secondLang:m,goBack:this.goBackCallback}),("CREATE"===i||"UPDATE"===i||i===We)&&r.a.createElement(we,{sims:f,metadataStructure:t,codesLists:a,onSubmit:s,idParent:l,saveSecondLang:d,langs:p,secondLang:m,goBack:this.goBackCallback,mode:i,organisations:h,parentType:b}))}}]),t}(a.Component);Je.defaultProps={currentSims:{}};var Ve={loadMetadataStructure:function(){return function(e,t){return e({type:D.Wc,payload:{}}),Promise.all([F.a.getMetadataStructureList(),F.a.getMetadataAttributesList()]).then(function(n){var a=Object(s.a)(n,2),r=a[0],o=a[1],i=function e(t,n,a){return t.filter(function(e){return e.idParent===n}).sort(function(e,t){return parseInt(e.idMas.substr(2).replace(".",""),10)-parseInt(t.idMas.substr(2).replace(".",""),10)}).reduce(function(n,r){var o=a[r.idMas]||{};return Object(c.a)({},n,Object(f.a)({},r.idMas,Object(c.a)({},r,{masLabelBasedOnCurrentLang:Object(b.d)()?r.masLabelLg2:r.masLabelLg1,isPresentational:o.isPresentational||!1,rangeType:o.rangeType,codeList:o.codeList,children:e(t,r.idMas,a)})))},{})}(r,void 0,o.reduce(function(e,t){return Object(c.a)({},e,Object(f.a)({},t.id,Object(c.a)({},t)))},{})),l=new Set;o.filter(function(e){return e.codeList}).map(function(e){return e.codeList}).filter(function(e){return Object.keys(t().operationsCodesList.results).indexOf(e)<0}).forEach(function(e){return l.add(e)}),Object(U.a)(l,e),e({type:D.Yc,payload:{results:i}})},function(t){return e({type:D.Xc,payload:{err:t}})})}},loadSIMS:function(e){return function(t,n){if(e&&n().operationsSimsCurrentStatus!==H.d)return t({type:D.ld,payload:{id:e}}),F.a.getSims(e).then(function(e){return(n=e.idOperation,n?F.a.getOperation(n).then(function(e){return F.a.getOperationsWithoutReport(e.series.id)}):Promise.resolve([])).then(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t({type:D.nd,payload:Object(c.a)({},e,{parentsWithoutSims:n,rubrics:e.rubrics.reduce(function(e,t){return Object(c.a)({},e,Object(f.a)({},t.idAttribute,Object(c.a)({},t,{idMas:t.idAttribute})))},{})})})});var n},function(e){t({type:D.md,payload:{err:e}})})}},saveSims:function(e,t){return function(n){var a=Promise.resolve(e);e.labelLg1||(a=function(e,t){function n(t,n){return Object(c.a)({},e,g(t,n))}return e.idOperation?F.a.getOperation(e.idOperation).then(function(e){return n(e,"operation")}):e.idSeries?F.a.getSerie(e.idSeries).then(function(e){return n(e,"series")}):e.idIndicator?F.a.getIndicator(e.idIndicator).then(function(e){return n(e,"indicator")}):t}(e,a));var r=e.id?"putSims":"postSims";return n({type:D.Jd,payload:e}),a.then(function(e){return F.a[r](e).then(function(a){n({type:D.Ld,payload:e}),t(a||e.id)},function(e){n({type:D.Kd,payload:{err:e}})})})}},loadOperation:Ie.a,loadSerie:_e.a,loadIndicator:Be.a,saveSecondLang:Pe.b},qe=Object(Me.a)(W.a,Object(_.b)(function(e,t){if(!e.operationsMetadataStructureList)return{metadataStructureStatus:H.g,metadataStructure:[]};var n,a=e.operationsMetadataStructureList,r=a.results,o=a.status,i=De(t);var l,u,d={},p=!0;switch(t.mode){case"HELP":d={};break;case"CREATE":n=Ue(t);var m=function(t){return"operation"===t?[Re.u(e),e.operationsIndicatorCurrentStatus]:"series"===t?[Re.z(e),e.operationsSeriesCurrentStatus]:"indicator"===t?[Re.r(e),e.operationsIndicatorCurrentStatus]:void 0}(l=t.match.params[0]),f=Object(s.a)(m,2),h=f[0],b=f[1];d=Object(c.a)({},g(h,l)),p=b!==H.g||h.id===n;break;default:d=Re.w(e),l=(u=d).idOperation?"operation":u.idSeries?"series":u.idIndicator?"indicator":void 0,n=A(d)}return{langs:Re.s(e),secondLang:Object(He.b)(e),metadataStructure:r,metadataStructureStatus:o,currentSims:i&&d.id!==i?{}:d,isParentLoaded:p,id:i,idParent:n,codesLists:Object(te.b)(e),organisations:Object(te.e)(e),parentType:l}},Ve))(Je);t.default=function(){return r.a.createElement(o.a,null,r.a.createElement(i.a,{exact:!0,path:"/operations/help",component:qe}),r.a.createElement(i.a,{exact:!0,path:"/operations/help/:idSection",component:qe}),r.a.createElement(i.a,{exact:!0,path:"/operations/(operation|series|indicator)/:idParent/sims/create",render:function(e){return r.a.createElement(qe,{mode:"CREATE",baseUrl:"/operations/".concat(e.match.params[0],"/").concat(e.match.params.idParent,"/sims/create"),disableSectionAnchor:!0})}}),r.a.createElement(i.a,{exact:!0,path:"/operations/sims/:id",render:function(e){return r.a.createElement(qe,{mode:"VIEW",baseUrl:"/operations/sims/".concat(e.match.params.id,"/section/")})}}),r.a.createElement(i.a,{exact:!0,path:"/operations/sims/:id/modify",render:function(e){return r.a.createElement(qe,{mode:"UPDATE",disableSectionAnchor:!0,baseUrl:"/operations/sims/".concat(e.match.params.id,"/modify")})}}),r.a.createElement(i.a,{exact:!0,path:"/operations/sims/:id/duplicate",render:function(e){return r.a.createElement(qe,{mode:We,disableSectionAnchor:!0,baseUrl:"/operations/sims/".concat(e.match.params.id,"/duplicate")})}}),r.a.createElement(i.a,{exact:!0,path:"/operations/sims/:id/section/:idSection",render:function(e){return r.a.createElement(qe,{mode:"VIEW",baseUrl:"/operations/sims/".concat(e.match.params.id,"/section/")})}}))}},45:function(e,t,n){"use strict";n.r(t);var a=n(285),r=n(195),o=n.n(r),i=n(0),c=n.n(i),s=n(2),l=n.n(s),u=n(66),d=n(181);function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var m=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=p(this,e.call.apply(e,[this].concat(o))),a.history=Object(u.b)(a.props),p(a,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){o()(!this.props.history,"<HashRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { HashRouter as Router }`.")},t.prototype.render=function(){return c.a.createElement(d.a,{history:this.history,children:this.props.children})},t}(c.a.Component);m.propTypes={basename:l.a.string,getUserConfirmation:l.a.func,hashType:l.a.oneOf(["hashbang","noslash","slash"]),children:l.a.node};var f=m,h=n(182),b=n(37),g=n.n(b),y=n(187);function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var O=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=v(this,e.call.apply(e,[this].concat(o))),a.history=Object(u.d)(a.props),v(a,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){g()(!this.props.history,"<MemoryRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { MemoryRouter as Router }`.")},t.prototype.render=function(){return c.a.createElement(y.a,{history:this.history,children:this.props.children})},t}(c.a.Component);O.propTypes={initialEntries:l.a.array,initialIndex:l.a.number,getUserConfirmation:l.a.func,keyLength:l.a.number,children:l.a.node};var E=O,j=n(568),L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},S="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var C=function(e){var t=e.to,n=e.exact,a=e.strict,r=e.location,o=e.activeClassName,i=e.className,s=e.activeStyle,l=e.style,u=e.isActive,d=e["aria-current"],p=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["to","exact","strict","location","activeClassName","className","activeStyle","style","isActive","aria-current"]),m="object"===("undefined"===typeof t?"undefined":S(t))?t.pathname:t,f=m&&m.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1");return c.a.createElement(j.a,{path:f,exact:n,strict:a,location:r,children:function(e){var n=e.location,a=e.match,r=!!(u?u(a,n):a);return c.a.createElement(h.a,L({to:t,className:r?[i,o].filter(function(e){return e}).join(" "):i,style:r?L({},l,s):l,"aria-current":r&&d||null},p))}})};C.propTypes={to:h.a.propTypes.to,exact:l.a.bool,strict:l.a.bool,location:l.a.object,activeClassName:l.a.string,className:l.a.string,activeStyle:l.a.object,style:l.a.object,isActive:l.a.func,"aria-current":l.a.oneOf(["page","step","location","date","time","true"])},C.defaultProps={activeClassName:"active","aria-current":"page"};var T=C,k=n(25),N=n.n(k);var A=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.enable=function(e){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(e)},t.prototype.disable=function(){this.unblock&&(this.unblock(),this.unblock=null)},t.prototype.componentWillMount=function(){N()(this.context.router,"You should not use <Prompt> outside a <Router>"),this.props.when&&this.enable(this.props.message)},t.prototype.componentWillReceiveProps=function(e){e.when?this.props.when&&this.props.message===e.message||this.enable(e.message):this.disable()},t.prototype.componentWillUnmount=function(){this.disable()},t.prototype.render=function(){return null},t}(c.a.Component);A.propTypes={when:l.a.bool,message:l.a.oneOfType([l.a.func,l.a.string]).isRequired},A.defaultProps={when:!0},A.contextTypes={router:l.a.shape({history:l.a.shape({block:l.a.func.isRequired}).isRequired}).isRequired};var w=A,x=n(569),P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var R=function(e){return"/"===e.charAt(0)?e:"/"+e},I=function(e,t){return e?P({},t,{pathname:R(e)+t.pathname}):t},_=function(e,t){if(!e)return t;var n=R(e);return 0!==t.pathname.indexOf(n)?t:P({},t,{pathname:t.pathname.substr(n.length)})},B=function(e){return"string"===typeof e?e:Object(u.e)(e)},H=function(e){return function(){N()(!1,"You cannot %s with <StaticRouter>",e)}},F=function(){},D=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=M(this,e.call.apply(e,[this].concat(o))),a.createHref=function(e){return R(a.props.basename+B(e))},a.handlePush=function(e){var t=a.props,n=t.basename,r=t.context;r.action="PUSH",r.location=I(n,Object(u.c)(e)),r.url=B(r.location)},a.handleReplace=function(e){var t=a.props,n=t.basename,r=t.context;r.action="REPLACE",r.location=I(n,Object(u.c)(e)),r.url=B(r.location)},a.handleListen=function(){return F},a.handleBlock=function(){return F},M(a,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:{staticContext:this.props.context}}},t.prototype.componentWillMount=function(){g()(!this.props.history,"<StaticRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { StaticRouter as Router }`.")},t.prototype.render=function(){var e=this.props,t=e.basename,n=(e.context,e.location),a=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["basename","context","location"]),r={createHref:this.createHref,action:"POP",location:_(t,Object(u.c)(n)),push:this.handlePush,replace:this.handleReplace,go:H("go"),goBack:H("goBack"),goForward:H("goForward"),listen:this.handleListen,block:this.handleBlock};return c.a.createElement(y.a,P({},a,{history:r}))},t}(c.a.Component);D.propTypes={basename:l.a.string,context:l.a.object.isRequired,location:l.a.oneOfType([l.a.string,l.a.object])},D.defaultProps={basename:"",location:"/"},D.childContextTypes={router:l.a.object.isRequired};var U=D,W=n(571),Q=n(133).a,J=n(103).a,V=n(570);n.d(t,"BrowserRouter",function(){return a.a}),n.d(t,"HashRouter",function(){return f}),n.d(t,"Link",function(){return h.a}),n.d(t,"MemoryRouter",function(){return E}),n.d(t,"NavLink",function(){return T}),n.d(t,"Prompt",function(){return w}),n.d(t,"Redirect",function(){return x.a}),n.d(t,"Route",function(){return j.a}),n.d(t,"Router",function(){return d.a}),n.d(t,"StaticRouter",function(){return U}),n.d(t,"Switch",function(){return W.a}),n.d(t,"generatePath",function(){return Q}),n.d(t,"matchPath",function(){return J}),n.d(t,"withRouter",function(){return V.a})},578:function(e,t,n){"use strict";t.a=function(e){return function(t){return t.match.params[e]}}},579:function(e,t,n){"use strict";var a=n(4),r=n(174),o={getSims:function(e){return["metadataReport/".concat(e)]},putSims:function(e){return["metadataReport/".concat(e.id),{headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},function(){}]},postSims:function(e){return["metadataReport",{headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},function(e){return e.text().then(function(e){return e})}]}},i={getIndicatorsList:function(){return["indicators"]},getIndicatorsSearchList:function(){return["indicators_search"]},getIndicator:function(e){return["indicator/".concat(e)]},putIndicator:function(e){return["indicator/".concat(e.id),{headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},function(){return e.id}]},postIndicator:function(e){return["indicator",{headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},function(e){return e.text().then(function(e){return e})}]}},c=Object(a.a)({},o,i,{getSeriesList:function(){return["series/withSims"]},getOperationsList:function(){return["operations"]},getFamiliesList:function(){return["families"]},getFamiliesSearchList:function(){return["families_search"]},getSeriesSearchList:function(){return["series_search"]},getOperationsSearchList:function(){return["operations_search"]},getMetadataStructureList:function(){return["metadataStructureDefinition"]},getMetadataAttributesList:function(){return["metadataAttributes"]},getFamily:function(e){return["family/".concat(e)]},getOperation:function(e){return["operation/".concat(e)]},getSerie:function(e){return["series/".concat(e)]},getVarBookExport:function(e,t){return["operation/".concat(e,"/variableBook"),{headers:{Accept:t,"Content-Type":"text/plain"}},function(e){return e}]},putFamily:function(e){return["family/".concat(e.id),{headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},function(t){return Promise.resolve(e.id)}]},postFamily:function(e){return["family",{headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},function(e){return e.text()}]},putSeries:function(e){return["series/".concat(e.id),{headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},function(t){return Promise.resolve(e.id)}]},postSeries:function(e){return["series",{headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},function(e){return e.text()}]},putOperation:function(e){return["operation/".concat(e.id),{headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},function(t){return Promise.resolve(e.id)}]},postOperation:function(e){return["operation",{headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},function(e){return e.text()}]},getOperationsWithoutReport:function(e){return["series/".concat(e,"/operationsWithoutReport")]}});t.a=Object(r.a)("operations",c)},581:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(7);t.a=function(e){var t=e.secondLang,n=e.onChange;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("label",{className:"pull-right"},r.a.createElement("input",{type:"checkbox",checked:t,onChange:n})," ",o.a.displayLg2)))}},583:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n(0),r=n.n(a),o=n(170),i=n(590),c=n(586),s=n(65),l=function(e){var t=e.text,n=void 0===t?"":t,l=e.title,u=e.lang,d=e.alone,p=e.allowEmpty,m=void 0!==p&&p,f=e.md,h=void 0!==f&&f,b=e.context,g=e.alt,y=void 0===g?"":g,v=Object(a.useContext)(s.a)||b,O=d?"col-md-12":"col-md-6";return n||m?h?r.a.createElement("div",{className:O,title:y},r.a.createElement(o.a,{title:r.a.createElement(i.a,{text:l,lang:u}),context:v},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:Object(c.g)(n)}}))):r.a.createElement("div",{className:O,title:y},r.a.createElement(o.a,{title:r.a.createElement(i.a,{text:l,lang:u}),context:v},n)):null}},586:function(e,t,n){"use strict";n.d(t,"f",function(){return s}),n.d(t,"e",function(){return l}),n.d(t,"j",function(){return u}),n.d(t,"i",function(){return d}),n.d(t,"a",function(){return h}),n.d(t,"d",function(){return b}),n.d(t,"b",function(){return g}),n.d(t,"h",function(){return y}),n.d(t,"c",function(){return v}),n.d(t,"g",function(){return O});var a=n(621),r=n(659),o=n(660),i=n(661),c=function(e){var t=document.createElement("div");return t.innerHTML=e||"",t.textContent},s=function(e){return c(e).trim().length},l=function(e){return!(s(e)>0)},u=function(e){return f(Object(o.stateToHTML)(Object(r.stateFromHTML)(e)))},d=function(e){return'<div xmlns="http://www.w3.org/1999/xhtml">'.concat(function(e){return e.replace(/&nbsp;/g," ").replace(/<br>/g,"<br/>").replace(/<p><\/p>/g,"<br/>")}(e),"</div>")},p=/\n/g,m=/(>)\s*(<)/g,f=function(e){return""===c(e)?"":e.replace(p,"").replace(m,"$1$2")},h=function(e){return e&&e.replace(/<p>/g,"").replace(/<\/p>/g,"")};function b(e){var t=Object(o.stateToHTML)(e.getCurrentContent());return f(t)}function g(e){return a.EditorState.createWithContent(Object(r.stateFromHTML)(e))}function y(e){return Object(i.draftjsToMd)(Object(a.convertToRaw)(e.getCurrentContent()))}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return a.EditorState.createWithContent(Object(a.convertFromRaw)(Object(i.mdToDraftjs)(e)))}function O(e){return b(v(e))}},588:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(2),i=n.n(o),c=n(64),s=n(600);function l(e){var t=e.titleLg1,n=e.titleLg2,a=e.secondLang;return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,{title:t}),a&&n&&r.a.createElement(s.a,{subTitle:n}))}l.proptTypes={titleLg1:i.a.string.isRequired,titleLg2:i.a.string,secondLang:i.a.bool,context:i.a.oneOf(["","concepts","classifications","operations"])},t.a=l},589:function(e,t,n){"use strict";n.d(t,"b",function(){return o});var a=n(30),r=Object(a.k)("label");t.a=function(e,t,n,a){return function(o){return o({type:t,payload:{}}),e().then(function(e){return o({type:n,payload:{results:r(e)}})},function(e){return o({type:a,payload:{err:e}})})}};var o=function(e,t,n,a){return function(r){return function(o,i){if(i().operationsOperationCurrentStatus!==t)return o({type:t,payload:{id:r}}),e(r).then(function(e){return o({type:n,payload:e})},function(e){return o({type:a,payload:{err:e}})})}}}},590:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(597);t.a=function(e){var t=e.text,n=e.lang;return r.a.createElement(r.a.Fragment,null,t+"  ( ",Object(o.a)(n)," )")}},595:function(e,t,n){e.exports=n.p+"static/media/default.0d6fe9ef.png"},596:function(e,t,n){var a={"./default.png":595,"./en.png":608,"./fr.png":609};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=596},597:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(595),i=n.n(o),c=n(7),s=function(e){try{n(596)("./".concat(e,".png"))}catch(t){return!1}return!0};t.a=function(e){return e?r.a.createElement("img",{src:s(e)?n(596)("./".concat(e,".png")):i.a,alt:c.a.langs,className:"img-flag"}):null}},598:function(e,t,n){"use strict";var a=n(28),r=n(27);t.a=Object(r.b)(function(e){return{userRoles:a.x(e).roles}})(function(e){var t=e.children,n=e.userRoles,a=e.roles,r=e.fallback,o=void 0===r?null:r,i=e.complementaryCheck,c=void 0===i||i;return a.find(function(e){return n.includes(e)})&&c?t:o})},600:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(2),i=n.n(o),c=(n(607),n(65)),s=function(e){var t=e.subTitle,n=e.context,o=void 0===n?"concepts":n,i=Object(a.useContext)(c.a)||o;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 centered col-md-offset-2"},r.a.createElement("h3",{className:"page-subtitle-".concat(i)},t)))};t.a=s,s.proptTypes={subtitle:i.a.string.isRequired,context:i.a.oneOf(["","concepts","classifications","operations"])}},602:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return u});var a=n(0),r=n.n(a),o=n(54),i=n(7),c=function(e){return r.a.createElement(o.a,Object.assign({label:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"glyphicon glyphicon-".concat(e.icon),"aria-hidden":"true"}),r.a.createElement("span",null," ",e.children))},e))},s=function(e){return r.a.createElement(c,Object.assign({icon:"floppy-remove"},e),i.a.btnCancel)},l=function(e){return r.a.createElement(c,Object.assign({icon:"floppy-disk"},e),i.a.btnSave)},u=function(e){return r.a.createElement(c,Object.assign({icon:"duplicate"},e),i.a.btnDuplicate)}},607:function(e,t,n){},608:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAC3ElEQVR4nI2TS2icZRiFn/f7/vyTzC2TyyQ6aawQW4upo5BqRWmpSiRYK0VE2ljvKIqLIoIgUhDULsQi4kJRrHcs3hZtqFErQRBSDaaLWlOTylRFScxMksn800zmv7wuAnVhFJ/lOWd3zoF/Iqto/+r9LbRuEQThnM+e+7bSdWKU0ugYILT05SlddwMH3xgBtwFUFYCFb9Tpv+vFn8an4+s7MjHSyQb+LFZ55sCD5F59jRm3E1TJ7drB5OA9jJx9nY62BIvVZYo1y7rmnR877718h5NtznHz458yfOQkOIY5z6d1pkil8BsoVKdnWKjWKExNUyi43P7ITXx06xre3j7QZI7f/6QK8NmB2wgm9nHN5rWU5qsEoqg1qBXUGopzHttu6WPp0E7eObyfn9dsZPHSXjW2JUPx6RcgUqw1jL55N/3rMtQiQCIiDanWA3ZsbGfk3rVU3v+Ec4O76NEZsg/twUlsupxkb56FoWNIFBCJxSQa8U5PUvc8QPFOTVD+4ms0qNNw41YIAupDx1gYPoq8RduZTYmWHt8xRCga+KCKTacwTTFAiJZqhBUPoghFIYiIR8qHYWXIMak4JpkEDTACmKaVfq1zvmVxXWwmjagSqSJhhA0VuxTi2FQSScZxjAHHgAiIEHoVNAhWNuI4OJlWNAyRUBEUx1hMaRlO/PH7GV2FX554Vsc78zremddf9z2/WkQ/+HL4iKHmMbv/IGOSw7/zUb47OsZkHRqkEUl1IckcrjRyct5nolA8P9zZp17iVP9uzA89g5Ite3RNT9F/5QNsfuxb5ueWcdPtSLobSV+Em2pjfrHOZde/y5a9w8yWa2Sf20vfV4dwYodfcQbKeT5/+HtizTG44iqyF8Roy26g2u4B0NKxnvYLE3D1tYyVDR27j7N9oJdtbskRRLrjjU73hksuxlqLARaXIwJrV44DqO/jBiGpmEU1wvd9fpw6K6HK6f947v/jL75XTMPxMeR3AAAAAElFTkSuQmCC"},609:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABzUlEQVR4XqXOsWoUURTG8f+5c2d2ZzYJayRYuYoheQa1EB9AQV9ACx/BxlLBFBbWPoE2voOFjTY2FoqIEbERC82yJtnZO/d8woCF7AYLf5fTnfudjxWMk9mJyzsXbhiGtfOOK1cn7OxukVKmV1bk/Q+0z55iQ8AQgsczxM3rT94/2nujvfuv9PDBa927+1Kf9w+15ONb5Wvb0u1L0q2L0p3LejEJz2NKs+r7tymdJ8xgetAym86A5q+q3fQnR18/EeY/IDujUnwxq6NAjkAZCCDHxRIJFAyFGqzDlQkEBUnk7GQH94yj/i1xoSTUZpQBNzAjCui6jOS4GTkJraqQHR2AVy3IEQKJiPcNwB1HzH4dkzpniQEBLBjIcHdMRpToA1JK4GBmGP+G0QuSaBcZzyAgOxA4kQT0AwJiLAJ1Ffnzrx5mgq1OsNgPCIIgFBDX1xtOj4fIOzCjssCgWg6wIlA0EGrAA4UyZQlxc2NkW6c2cBaYGc2gYlCVK6/HIdhA4I6ZGJYijtfGcfvcLl3XAuL4MHH+7OZSQHFmTF0DTQs4mKiCR1vbGEyaZjQpqypXRQyEQF5ksgtJ9Mz681aPcIlFyp4Wx/FoPn/H//oNZ+YFBLvnivQAAAAASUVORK5CYII="},610:function(e,t,n){"use strict";var a=n(12),r=n(13),o=n(15),i=n(14),c=n(16),s=n(0),l=n.n(s),u=n(697),d=(n(698),n(630),n(92)),p=n(586),m={options:["list","inline","link"],list:{inDropdown:!1,className:void 0,options:["unordered","ordered"]},inline:{options:["bold","italic"]}},f=function(e){function t(e){var n;Object(a.a)(this,t),n=Object(o.a)(this,Object(i.a)(t).call(this,e));var r=e.text;return n.state={editorState:Object(p.c)(r||""),text:r},n.handleChange=function(e){n.setState({editorState:e})},n.handleLeave=function(){return n.props.handleChange(Object(p.h)(n.state.editorState))},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({editorState:Object(p.c)(e.text||"")})}},{key:"render",value:function(){return l.a.createElement(u.Editor,{editorState:this.state.editorState,toolbar:m,toolbarClassName:"home-toolbar",wrapperClassName:"home-wrapper",editorClassName:"home-editor",onEditorStateChange:this.handleChange,onBlur:this.handleLeave,localization:{locale:Object(d.b)()}})}}]),t}(s.Component);t.a=f},614:function(e,t,n){"use strict";n.d(t,"e",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return i}),n.d(t,"a",function(){return c});var a=function(e){return(e.operationsOrganisations||{}).results||[]},r=function(e){return(e.operationsCodesList||{}).results||[]},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"full";return e.operationsDocuments.results&&e.operationsDocuments.results[t]||[]},i=function(e){return e.operationsDocuments.status},c=function(e){return e.operationsCurrentDocument.results||{}}},618:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(730),i=n.n(o),c=n(7);t.a=function(e){var t=e.value,n=e.onChange,a=e.placement,o=c.a.calendarDays,s=c.a.calendarMonths;return r.a.createElement(i.a,{value:t,calendarPlacement:a,onChange:n,weekStartsOn:1,dayLabels:o,monthLabels:s})}},630:function(e,t,n){},631:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(597);t.a=function(e){var t=e.colMd,n=e.value,a=e.label,i=e.lang,c=e.star,s=e.hiddenStar,l=e.disabled,u=e.password,d=e.handleChange,p=e.arias;return r.a.createElement("div",{className:"form-group col-md-".concat(t||12)},r.a.createElement("label",{className:"form-label"},a," ",Object(o.a)(i)?"( ":null," ",Object(o.a)(i)," ",Object(o.a)(i)?" )":null,c&&r.a.createElement("span",{className:"boldRed"},"*"),s&&r.a.createElement("span",{className:"boldWhite"},"*"),r.a.createElement("input",Object.assign({type:u?"password":"text",value:n||"",className:"form-control",disabled:l,onChange:function(e){return d(e.target.value)}},p))))}},634:function(e,t,n){"use strict";var a=n(579),r=n(1),o=n(589);t.a=function(){return Object(o.a)(a.a.getSeriesList,r.hd,r.jd,r.id)}},644:function(e,t,n){"use strict";n.d(t,"b",function(){return c});var a=n(4),r=n(579),o=n(1),i=n(589),c=function(e,t){return function(n){n({type:o.Gd,payload:e});var i=e.id?"putSeries":"postSeries";return r.a[i](e).then(function(r){n({type:o.Id,payload:Object(a.a)({},e,{id:r})}),t(null,r)},function(e){n({type:o.Hd,payload:{err:e}}),t(e)})}};t.a=Object(i.b)(r.a.getSerie,o.gd,o.kd,o.id)},646:function(e,t,n){"use strict";n.d(t,"b",function(){return c});var a=n(4),r=n(579),o=n(1),i=n(589),c=function(e,t){return function(n){n({type:o.Dd,payload:e});var i=e.id?"putOperation":"postOperation";return r.a[i](e).then(function(r){n({type:o.Fd,payload:Object(a.a)({},e,{id:r})}),t(null,r)},function(e){n({type:o.Ed,payload:{err:e}}),t(e)})}};t.a=Object(i.b)(r.a.getOperation,o.Zc,o.dd,o.bd)},647:function(e,t,n){"use strict";n.d(t,"b",function(){return i});var a=n(579),r=n(1),o=n(589),i=function(e,t){return function(n){n({type:r.Ad,payload:e});var o=e.id?"putIndicator":"postIndicator";return a.a[o](e).then(function(a){n({type:r.Cd,payload:{id:a,prefLabelLg1:e.prefLabelLg1,altLabel:e.altLabelLg1}}),t(null,a)},function(e){n({type:r.Bd,payload:{err:e}}),t(e)})}};t.a=Object(o.b)(a.a.getIndicator,r.Rc,r.Vc,r.Tc)},678:function(e,t,n){"use strict";var a=n(4),r=n(39),o=n(1),i=n(30),c=Object(i.k)("labelLg1");t.a=function(){return function(e){return e({type:o.Hc,payload:{}}),r.a.getDocumentsList().then(function(t){return e({type:o.Jc,payload:{results:c(t.map(function(e){return Object(a.a)({},e,{id:e.uri.substr(e.uri.lastIndexOf("/")+1)})}))}})},function(t){e({type:o.Ic,payload:{err:t}})})}}},680:function(e,t,n){"use strict";var a=n(579),r=n(1),o=n(589);t.a=function(){return Object(o.a)(a.a.getIndicatorsList,r.Sc,r.Uc,r.Tc)}},705:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.genericHashLink=h,t.HashLink=b,t.NavHashLink=g;var o=s(n(0)),i=s(n(2)),c=n(45);function s(e){return e&&e.__esModule?e:{default:e}}var l="",u=null,d=null,p=null;function m(){l="",null!==u&&u.disconnect(),null!==d&&(window.clearTimeout(d),d=null)}function f(){var e=document.getElementById(l);return null!==e&&(p(e),m(),!0)}function h(e,t){e.scroll,e.smooth;var n=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["scroll","smooth"]);return o.default.createElement(t,a({},n,{onClick:function(t){m(),e.onClick&&e.onClick(t),"string"===typeof e.to?l=e.to.split("#").slice(1).join("#"):"object"===r(e.to)&&"string"===typeof e.to.hash&&(l=e.to.hash.replace("#","")),""!==l&&(p=e.scroll||function(t){return t.scrollIntoView(e.smooth?{behavior:"smooth"}:void 0)},window.setTimeout(function(){!1===f()&&(null===u&&(u=new MutationObserver(f)),u.observe(document,{attributes:!0,childList:!0,subtree:!0}),d=window.setTimeout(function(){m()},1e4))},0))}}),e.children)}function b(e){return h(e,c.Link)}function g(e){return h(e,c.NavLink)}var y={onClick:i.default.func,children:i.default.node,scroll:i.default.func,to:i.default.oneOfType([i.default.string,i.default.object])};b.propTypes=y,g.propTypes=y},739:function(e,t,n){"use strict";var a=n(174),r=Object(a.a)("codeList",{getCodesList:function(e){return["".concat(e)]},getCode:function(e,t){return["".concat(e,"/code/").concat(t)]}}),o=Object(a.a)("organizations",{getOrganisations:function(){return[""]}}),i=n(125),c=n(680),s=n(634),l=n(1);n.d(t,"b",function(){return u}),n.d(t,"a",function(){return d});var u=function(){return function(e){d([i.b,i.a],e),function(e){o.getOrganisations().then(function(t){return e({type:l.fd,payload:t})},function(t){return e({type:l.ed,payload:{err:t}})})}(e),Object(c.a)()(e),Object(s.a)()(e)}};function d(e,t){e.forEach(function(e){return r.getCodesList(e).then(function(e){return t({type:l.Fc,payload:e})},function(e){return t({type:l.Ec,payload:{err:e}})})})}},801:function(e,t,n){},802:function(e,t,n){},803:function(e,t,n){e.exports=n.p+"static/media/spinner.acf82525.svg"},804:function(e,t,n){},805:function(e,t,n){}}]);
//# sourceMappingURL=9.4e195860.chunk.js.map